(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a4a4f78"],{"5a04":function(t,e,s){},"875a":function(t,e,s){"use strict";s.d(e,"e",(function(){return a})),s.d(e,"b",(function(){return n})),s.d(e,"k",(function(){return i})),s.d(e,"c",(function(){return u})),s.d(e,"d",(function(){return o})),s.d(e,"f",(function(){return c})),s.d(e,"h",(function(){return m})),s.d(e,"g",(function(){return l})),s.d(e,"i",(function(){return g})),s.d(e,"j",(function(){return d})),s.d(e,"a",(function(){return h}));var r=s("b775");function a(t){return Object(r["a"])({url:"/growth_info/list",method:"get",params:t})}function n(t){return Object(r["a"])({url:"/growth_info",method:"post",data:t})}function i(t,e){return Object(r["a"])({url:"/growth_info/"+t,method:"put",data:e})}function u(t){return Object(r["a"])({url:"/growth_info",method:"delete",data:t})}function o(t){return Object(r["a"])({url:"/growth_info/"+t,method:"get"})}function c(t){return Object(r["a"])({url:"/growth_info/"+t+"/status",method:"put"})}function m(t){return Object(r["a"])({url:"/family_member/in_server_list",method:"get",params:t})}function l(t){return Object(r["a"])({url:"baby_growth_info/growth",method:"get",params:t})}function g(t){return Object(r["a"])({url:"baby_growth_info/detail/"+t,method:"get"})}function d(t){return Object(r["a"])({url:"baby_growth_info/send/"+t,method:"get"})}function h(t){return Object(r["a"])({url:"baby_growth_info/content",method:"post",data:t})}},9055:function(t,e,s){"use strict";var r=s("5a04"),a=s.n(r);a.a},df64:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status-detail"},[t.showBtn?s("el-button",{staticClass:"float-right",attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.returnList}},[t._v("\n    返回\n  ")]):t._e(),s("div",{staticClass:"user-info"},[s("div",{staticClass:"info-content"},[s("el-avatar",{attrs:{src:t.user.avatar}}),s("p",[s("span",{staticClass:"item-title",staticStyle:{width:"80px"}},[t._v("用户名称：")]),s("span",{staticClass:"item-text"},[t._v(t._s(t.user.nickname))])]),s("p",[s("span",{staticClass:"item-title"},[t._v("宝宝：")]),s("span",{staticClass:"item-text"},[t._v(t._s(t.member.name))])]),s("p",[s("span",{staticClass:"item-title",staticStyle:{width:"80px"}},[t._v("宝宝月龄：")]),s("span",{staticClass:"item-text"},[t._v(t._s(t.member.birthday))])])],1)]),s("div",{staticClass:"card-question"},[s("div",{staticClass:"m-b-20"},[s("span",{staticClass:"item-title"},[t._v("模板名称：")]),s("span",{staticClass:"item-text"},[t._v(t._s(t.name))])]),s("div",{staticClass:"m-b-20"},[s("span",{staticClass:"item-title"},[t._v("测试月龄：")]),s("span",{staticClass:"item-text"},[t._v(t._s(t.monthAge))])]),t._l(t.questions,(function(e,r){return s("el-card",{key:r,staticClass:"m-b-20",attrs:{shadow:"never"}},[s("div",{staticClass:"question m-b-20"},[s("p",{staticClass:"item-title question-title"},[t._v("问题"+t._s(r+1)+"：")]),s("p",{staticClass:"question-text",staticStyle:{"line-height":"16px"}},[t._v("\n          "+t._s(e.question)+"\n        ")])]),s("div",{staticClass:"answer"},[s("span",{staticClass:"item-title answer-title"},[t._v("答案：")]),s("p",t._l(e.answer,(function(e,a){return s("span",{key:e.key,staticClass:"item-text",class:"未发送"!==t.$route.query.status&&t.answers[r]===a?"answer-active":""},[t._v(t._s(e.value))])})),0)])])})),t.submitTime?s("div",{staticClass:"time"},[t._v("\n      "+t._s(t.testTime)+"\n    ")]):t._e(),"save"!==t.status&&"tested"!==t.status||"doctor"!==t.$store.state.user.bus_role?t._e():s("el-form",{ref:"createSuggestForm",attrs:{model:t.suggestForm,rules:t.rules,"label-width":"100px","label-position":"left"}},[s("el-form-item",{attrs:{label:"医生建议：",prop:"suggest"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入您的建议",maxlength:"200","show-word-limit":"",resize:"none",rows:4},model:{value:t.suggestForm.suggest,callback:function(e){t.$set(t.suggestForm,"suggest",e)},expression:"suggestForm.suggest"}})],1),"suggested"===t.status||"save"===t.status?s("div",{staticClass:"time",staticStyle:{"margin-bottom":"20px"}},[t._v("\n        "+t._s(t.updateTime)+"\n      ")]):t._e(),"suggested"!==t.status?s("el-form-item",{staticClass:"form-btn"},[s("el-button",{on:{click:function(e){return t.submitForm("createSuggestForm","save")}}},[t._v("保存")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("createSuggestForm","suggested")}}},[t._v("发送")])],1):t._e()],1),"suggested"===t.status?s("div",{staticClass:"m-b-20"},[s("span",{staticClass:"item-title"},[t._v("医生建议：")]),s("span",{staticClass:"item-text"},[t._v(t._s(t.suggestForm.suggest))])]):t._e(),"suggested"===t.status?s("div",{staticClass:"time",staticStyle:{"margin-bottom":"20px"}},[t._v("\n      "+t._s(t.updateTime)+"\n    ")]):t._e()],2)],1)},a=[],n=(s("7f7f"),s("96cf"),s("3b8d")),i=s("875a"),u={props:{showBtn:{type:Boolean,default:!1}},data:function(){return{suggestForm:{suggest:""},rules:{suggest:[{required:!0,message:"内容不能为空"}]},questions:[],member:{},user:{},monthAge:"",name:"",status:"",answers:[],testTime:"",updateTime:""}},computed:{submitTime:function(){return"un_send"!==this.status&&"pre_send"!==this.status&&"send"!==this.status}},created:function(){this.getGrowthStatus()},methods:{returnList:function(){this.$emit("return")},getGrowthStatus:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["i"])(this.$route.params.id||this.$store.state.chat.growthId);case 2:e=t.sent,s=e.data,r=e.code,2e4===r&&s.result&&(this.member=s.growth.member,this.user=s.growth.user,this.questions=s.growth.growth_info&&s.growth.growth_info.questions,this.monthAge=s.growth.month_age,this.name=s.growth.name,this.suggestForm.suggest=s.growth.suggest_content||"",this.status=s.growth.status,this.answers=s.growth.answers||[],this.testTime=this.formatTime(s.growth.tested_at),this.updateTime=this.formatTime(s.growth.updated_at));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitForm:function(t,e){var s=this;this.$refs[t].validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,n,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}return t.next=3,Object(i["a"])({id:s.$route.params.id,content:s.suggestForm.suggest,status:e});case 3:a=t.sent,n=a.data,u=a.code,2e4===u&&(n.result?(s.$message.success(("save"===e?"保存":"发送")+"成功"),s.$router.go(-1)):s.$message.error(n.message)),t.next=10;break;case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},beforeRouteEnter:function(t,e,s){s((function(t){"未发送"!==t.$route.query.status&&"待发送"!==t.$route.query.status&&"待测试"!==t.$route.query.status||(t.$route.meta.title="未发送"),"待反馈"===t.$route.query.status&&(t.$route.meta.title="待反馈"),"反馈已保存"===t.$route.query.status&&(t.$route.meta.title="填写反馈"),"已完成"===t.$route.query.status&&(t.$route.meta.title="已完成")}))}},o=u,c=(s("9055"),s("2877")),m=Object(c["a"])(o,r,a,!1,null,"6f87a4dc",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2a4a4f78.d9701bcc.js.map