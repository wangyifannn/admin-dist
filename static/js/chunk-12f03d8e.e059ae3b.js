(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12f03d8e"],{"2f65":function(e,t,r){},"439e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"customer-type"},[r("el-form",{ref:"userTypeSearch",attrs:{"label-position":"left","label-width":"80px",model:e.userTypeSearch,inline:""}},[r("el-form-item",{staticClass:"search-item",attrs:{label:"关键词"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入关键词"},model:{value:e.userTypeSearch.keyWord,callback:function(t){e.$set(e.userTypeSearch,"keyWord","string"===typeof t?t.trim():t)},expression:"userTypeSearch.keyWord"}})],1),r("el-form-item",{staticClass:"search-item",attrs:{label:"创建人"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入创建人"},model:{value:e.userTypeSearch.name,callback:function(t){e.$set(e.userTypeSearch,"name","string"===typeof t?t.trim():t)},expression:"userTypeSearch.name"}})],1),r("el-form-item",{staticStyle:{float:"right"}},[r("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),r("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:e.resetForm}},[e._v("重置")])],1)],1),r("div",{staticClass:"list"},[r("div",{staticClass:"title"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.setUserType(1)}}},[e._v("新增用户类型")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","empty-text":e.hasListInfo}},[r("el-table-column",{attrs:{fixed:"",prop:"num",label:"序号",width:"100",align:"center"}}),r("el-table-column",{attrs:{prop:"type",label:"用户类型",align:"center"}}),r("el-table-column",{attrs:{prop:"description",label:"类型描述",align:"center"}}),r("el-table-column",{attrs:{prop:"founder",label:"创建人",align:"center"}}),r("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.setUserType(2,t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.delShow=!0,e.rowInfo=t.row}}},[e._v("删除")])]}}])})],1),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),r("el-dialog",{attrs:{title:"删除提示",visible:e.delShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.delShow=t}}},[r("p",{staticClass:"center"},[e._v("\n      删除后，该渠道信息将不存在，\n      "),r("br"),e._v("请确定是否删除？\n    ")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.delConfirm}},[e._v("确 定")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delShow=!1}}},[e._v("取 消")])],1)]),r("el-dialog",{attrs:{title:e.userTypeTitle,visible:e.userTypeShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.userTypeShow=t}}},[r("el-form",{ref:"channelForm",staticClass:"demo-ruleForm",attrs:{model:e.setUserTypeForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"一级类型",prop:"typeA",rules:e.userTypeShow?[{required:!0,message:"请选择",target:"blur"}]:{}}},[r("el-select",{attrs:{filterable:"","allow-create":"",clearable:"",placeholder:"请输入一级类型"},model:{value:e.setUserTypeForm.typeA,callback:function(t){e.$set(e.setUserTypeForm,"typeA","string"===typeof t?t.trim():t)},expression:"setUserTypeForm.typeA"}},e._l(e.typeAList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"二级类型",prop:"typeB"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入二级类型"},model:{value:e.setUserTypeForm.typeB,callback:function(t){e.$set(e.setUserTypeForm,"typeB","string"===typeof t?t.trim():t)},expression:"setUserTypeForm.typeB"}})],1),r("el-form-item",{attrs:{label:"类型描述",prop:"description"}},[r("el-input",{attrs:{type:"texarea",clearable:"",placeholder:"请输入类型描述"},model:{value:e.setUserTypeForm.description,callback:function(t){e.$set(e.setUserTypeForm,"description","string"===typeof t?t.trim():t)},expression:"setUserTypeForm.description"}})],1),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.inputFormSubmit("channelForm")}}},[e._v(e._s(e.btnText))])],1)],1)],1)],1)},o=[],s=(r("7f7f"),r("96cf"),r("3b8d")),i=r("ca7e"),a={data:function(){return{isOpen:!1,list:[],currentPage:1,delShow:!1,userTypeShow:!1,userTypeTitle:"",btnText:"",pageSize:10,count:0,rowInfo:"",hasListInfo:"暂无数据",userTypeSearch:{name:"",keyWord:""},setUserTypeForm:{typeA:"",typeB:"",description:""},typeAList:[{value:"意向用户",label:"意向用户"},{value:"潜在用户",label:"潜在用户"},{value:"垃圾用户",label:"垃圾用户"}]}},watch:{userTypeShow:function(e){e||(this.setUserTypeForm={typeA:"",typeB:"",description:""})}},created:function(){this.getUserTypeList()},methods:{onSubmit:function(){this.currentPage=1,this.getUserTypeList(this.userTypeSearch)},handleSizeChange:function(e){this.pageSize=e,this.getUserTypeList(this.userTypeSearch)},handleCurrentChange:function(e){this.currentPage=e,this.getUserTypeList(this.userTypeSearch)},resetForm:function(){this.userTypeSearch={name:"",keyWord:""},this.getUserTypeList()},delConfirm:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["l"])(this.rowInfo.id);case 2:t=e.sent,r=t.code,n=t.message,1e4===r&&(this.$message.success(n),this.getUserTypeList(this.userTypeSearch),this.delShow=!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setUserType:function(e,t){1===e?(this.userTypeTitle="新增用户类型",this.btnText="确认新增"):2===e&&(this.userTypeTitle="编辑用户类型",this.btnText="确认编辑",this.setUserTypeForm={typeA:t.typeA,typeB:t.typeB,description:"/"===t.description?"":t.description}),this.rowInfo=t||{},this.rowInfo.num=e,this.userTypeShow=!0},inputFormSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;1===t.rowInfo.num&&t.createUserType(),2===t.rowInfo.num&&t.updateUserType()}))},getUserTypeList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,s,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={pageSize:this.pageSize,page:this.currentPage},t?(t.name&&(r.creator_name=t.name),t.keyWord&&(r.key_word=t.keyWord),this.hasListInfo="暂无数据，请重新输入关键词"):this.hasListInfo="暂无数据",e.next=4,Object(i["B"])(r);case 4:n=e.sent,o=n.data,s=n.code,1e4===s&&(this.count=o.count,this.list=o.list.map((function(e,t){return{num:(a.currentPage-1)*a.pageSize+t+1,id:e._id,type:e.type+(e.level?"-"+e.level:""),typeA:e.type,typeB:e.level,description:e.describe||"/",founder:e.creator_name,created_at:e.created_at?a.formatTime(e.created_at):"-"}})));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createUserType:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={type:this.setUserTypeForm.typeA,level:this.setUserTypeForm.typeB||void 0,describe:this.setUserTypeForm.description||void 0},e.next=3,Object(i["f"])(t);case 3:r=e.sent,n=r.code,o=r.message,1e4===n&&(this.$message.success(o),this.getUserTypeList(this.userTypeSearch),this.userTypeShow=!1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateUserType:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={type:this.setUserTypeForm.typeA,level:this.setUserTypeForm.typeB||void 0,describe:this.setUserTypeForm.description||void 0},e.next=3,Object(i["I"])(this.rowInfo.id,t);case 3:r=e.sent,n=r.code,o=r.message,1e4===n&&(this.$message.success(o),this.getUserTypeList(this.userTypeSearch),this.userTypeShow=!1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=a,c=(r("da63"),r("2877")),l=Object(c["a"])(u,n,o,!1,null,"19327c06",null);t["default"]=l.exports},ca7e:function(e,t,r){"use strict";var n=r("bc3a"),o=r.n(n),s=r("5c96"),i=r("a18c"),a=r("4360"),u=r("5f87"),c=o.a.create({baseURL:"https://api-crm.baobaohehu.com",timeout:2e5});c.interceptors.request.use((function(e){return a["a"].getters.token&&(e.headers["Authorization"]=Object(u["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.config,r=e.data;return t.url.indexOf(t.baseURL)>-1&&1e4!==r.code?40001===r.code?(i["c"].push("/404"),Promise.reject()):(Object(s["Message"])({message:r.message||"Error",type:"error",duration:5e3}),401===r.code&&a["a"].dispatch("user/resetToken").then((function(){location.reload()})),Promise.reject(new Error(r.message||"Error"))):r}),(function(e){return console.log("err"+e),Object(s["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var l=c;function p(e){return l({url:"/corp/wechat/helper",method:"get",params:e})}function d(e){return l({url:"/corp/admin",method:"get",params:e})}function h(e){return l({url:"/corp/helper",method:"get",params:e})}function m(e){return l({url:"/corp/helper",method:"post",data:e})}function f(e,t){return l({url:"/corp/helper/"+e,method:"put",data:t})}function y(e,t){return l({url:"/corp/helper/change/"+e,method:"put",data:t})}function g(e){return l({url:"/corp/helper/"+e,method:"delete"})}function b(e){return l({url:"/corp/source_channel",method:"get",params:e})}function T(e){return l({url:"/corp/source_channel",method:"post",data:e})}function v(e,t){return l({url:"/corp/source_channel/"+e,method:"put",data:t})}function w(e){return l({url:"/corp/source_channel/"+e,method:"delete"})}function S(e){return l({url:"/corp/user_type",method:"get",params:e})}function _(e){return l({url:"/corp/user_type",method:"post",data:e})}function U(e,t){return l({url:"/corp/user_type/"+e,method:"put",data:t})}function x(e){return l({url:"/corp/user_type/"+e,method:"delete"})}function k(e){return l({url:"/corp/user_visit",method:"get",params:e})}function F(e){return l({url:"/corp/user_visit",method:"post",data:e})}function C(e,t){return l({url:"/corp/user_visit/"+e,method:"put",data:t})}function j(e){return l({url:"/corp/user_visit/"+e,method:"delete"})}function L(e){return l({url:"/corp/user_visit/status/"+e,method:"put"})}r.d(t,"u",(function(){return p})),r.d(t,"n",(function(){return d})),r.d(t,"t",(function(){return h})),r.d(t,"d",(function(){return m})),r.d(t,"C",(function(){return f})),r.d(t,"H",(function(){return y})),r.d(t,"i",(function(){return g})),r.d(t,"o",(function(){return b})),r.d(t,"b",(function(){return T})),r.d(t,"F",(function(){return v})),r.d(t,"g",(function(){return w})),r.d(t,"B",(function(){return S})),r.d(t,"f",(function(){return _})),r.d(t,"I",(function(){return U})),r.d(t,"l",(function(){return x})),r.d(t,"r",(function(){return k})),r.d(t,"c",(function(){return F})),r.d(t,"G",(function(){return C})),r.d(t,"h",(function(){return j})),r.d(t,"E",(function(){return L})),r.d(t,"q",(function(){return z})),r.d(t,"z",(function(){return A})),r.d(t,"s",(function(){return I})),r.d(t,"A",(function(){return O})),r.d(t,"v",(function(){return B})),r.d(t,"a",(function(){return P})),r.d(t,"D",(function(){return R})),r.d(t,"x",(function(){return $})),r.d(t,"k",(function(){return q})),r.d(t,"y",(function(){return W})),r.d(t,"w",(function(){return E})),r.d(t,"p",(function(){return J})),r.d(t,"e",(function(){return M})),r.d(t,"j",(function(){return D})),r.d(t,"m",(function(){return G}));var z=function(e){return l({url:"corp/user",method:"get",params:e})},A=function(e){return l({url:"corp/admin/crm_user/"+e,method:"get"})},I=function(e){return l({url:"corp/follow_up_log",method:"get",params:e})},O=function(e){return l({url:"corp/source_channel",method:"get",params:e})},B=function(e){return l({url:"corp/admin/order/"+e,method:"get"})},P=function(e){return l({url:"corp/admin/scene",method:"post",data:e})},R=function(e,t){return l({url:"corp/admin/scene/"+e,method:"put",data:t})},$=function(e){return l({url:"corp/admin/scene/detail/"+e,method:"get"})},q=function(e){return l({url:"corp/admin/scene/"+e,method:"delete"})},W=function(e){return l({url:"corp/admin/scene",method:"get",params:e})},E=function(e){return l({url:"corp/admin/scene/qrcode/"+e,method:"get"})},J=function(e){return l({url:"corp/admin/wx_qrcode",method:"get",params:e})},M=function(e){return l({url:"corp/admin/wx_qrcode",method:"post",data:e})},D=function(e){return l({url:"corp/admin/wx_qrcode/"+e,method:"delete"})},G=function(e){return l({url:"corp/admin/wx_qrcode/download",method:"get",params:e})}},da63:function(e,t,r){"use strict";var n=r("2f65"),o=r.n(n);o.a}}]);
//# sourceMappingURL=chunk-12f03d8e.e059ae3b.js.map