(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cce725e"],{"103a":function(t,e,s){},"1ffd":function(t,e,s){},"21fa":function(t,e,s){},"3b45":function(t,e,s){},"4be3":function(t,e,s){},5233:function(t,e,s){},"669e":function(t,e,s){"use strict";var a=s("4be3"),n=s.n(a);n.a},8314:function(t,e,s){"use strict";var a=s("3b45"),n=s.n(a);n.a},"9ce4":function(t,e,s){"use strict";var a=s("1ffd"),n=s.n(a);n.a},a643:function(t,e,s){"use strict";var a=s("103a"),n=s.n(a);n.a},adfd:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stages"},[s("el-tabs",{on:{"tab-click":t.getStageCourse},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"试岗阶段",name:"trial"}},[s("study")],1),t._l(t.stageContent,(function(e,a){return s("el-tab-pane",{key:a,attrs:{label:e.title,name:e.id+"",disabled:a>t.$store.state.user.mts_user.stage}},[e.title&&e.title.indexOf("轮岗")?[s("stage-head",{attrs:{title:e.title,"task-info":t.taskInfo,index:a}}),s("learning-list",{attrs:{title:"学习清单",type:"study",list:t.studyDetail.detail,"must-learn":t.mustLean[a],stage:e.title},on:{btnFinishStageTip:t.btnFinishStageTip}}),s("learning-list",{attrs:{title:"已学清单",type:"finish",list:t.learnedList}})]:s("rotation-stage"),s("train",{attrs:{stage:t.activeName-1,count:t.count}}),s("simulation")],2)}))],2),t.phaseFirstTip?s("tip",{attrs:{"tip-show":t.phaseFirstTip,"btn-text":"开始学习","dia-style":"dia-style","close-hid":!0,"model-close":!1},on:{"update:tipShow":function(e){t.phaseFirstTip=e},"update:tip-show":function(e){t.phaseFirstTip=e},btnHandle:t.btnPhaseFirstTip}},[t.remindData.start_at?t._e():s("section",{attrs:{slot:"headTip"},slot:"headTip"},[s("p",{staticClass:"sign"},[t._v("\n        恭喜通过"+t._s(t.getStage(t.$store.state.user.mts_user.stage)-1||"轮岗阶段")+"，进入"+t._s(t.getStage(t.$store.state.user.mts_user.stage,t.$store.state.user.mts_user.job_rotation_position))+"的培训学习，\n      ")]),s("p",{staticClass:"sign"},[t._v("详细培训细则阅读培训阶段的学习计划")])]),t.remindData.start_at?s("section",{attrs:{slot:"headTip"},slot:"headTip"},[s("p",{staticClass:"sign"},[t._v("\n        "+t._s(t.lastLearnNum===t.studyDetail.plan.stage_study_number[t.$store.state.user.mts_user.stage]?"恭喜上个工作日按时完成任务":t.lastLearnNum>t.studyDetail.plan.stage_study_number[t.$store.state.user.mts_user.stage]?"恭喜上个工作日超额完成任务":"非常遗憾上个工作日没有完成任务")+"，\n      ")]),s("p",{staticClass:"sign"},[t._v("再接再厉，争取早日完成内容学习")])]):t._e(),s("section",{attrs:{slot:"content"},slot:"content"},[s("div",[t._v("今日任务清单：")]),s("div",{staticClass:"list"},t._l(t.taskList,(function(e,a){return s("p",{key:a,staticClass:"sign"},[t._v("\n          "+t._s(e.title)+"\n        ")])})),0)])]):t._e(),t.finishStageTip?s("tip",{staticClass:"center",attrs:{"tip-show":t.finishStageTip,"btn-text":"请求阶段考试","dia-style":"dia-style"},on:{"update:tipShow":function(e){t.finishStageTip=e},"update:tip-show":function(e){t.finishStageTip=e},btnHandle:t.btnFinishStageTip}},[s("section",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v(t._s(t.finishTip))]),s("p",[t._v("该阶段内容已完成，可以申请考试")])])]):t._e(),t.workShift?s("tip",{staticClass:"center",attrs:{"tip-show":t.workShift,"btn-text":"去轮岗","has-footer":!0,"close-hid":!0},on:{"update:tipShow":function(e){t.workShift=e},"update:tip-show":function(e){t.workShift=e},btnHandle:t.btnWorkShiftShow}},[t.remindData.real_day-t.remindData.record_day>=0?s("p",{attrs:{slot:"content"},slot:"content"},[t._v("\n      "+t._s(1===t.remindData.record_day?"恭喜进入":"目前处于")+"轮岗阶段，点击开始学习进入轮岗"+t._s(t.remindData.record_day!==t.remindData.real_day?"第"+(t.remindData.record_day+1):"最后一")+"天\n    ")]):t._e(),t.remindData.record_day-t.remindData.real_day>0?s("p",{attrs:{slot:"content"},slot:"content"},[t._v("\n      目前处于轮岗阶段，轮岗阶段已超时"+t._s(t.remindData.record_day-t.remindData.real_day)+"天\n    ")]):t._e()]):t._e(),s("el-dialog",{attrs:{title:"提示",visible:t.individualTraining,width:"30%",center:"",top:"30vh"},on:{"update:visible":function(e){t.individualTraining=e}}},[s("p",{staticStyle:{"text-align":"center"}},[t._v("\n      该阶段单项训练未完成，请先前往完成单项训练版块\n    ")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.individualTraining=!1}}},[t._v("确 定")])],1)]),t.eliminateShow?s("tip",{staticClass:"center",attrs:{"tip-show":t.eliminateShow,"btn-text":"确定","has-footer":!0,"model-close":!1,"close-hid":!0},on:{"update:tipShow":function(e){t.eliminateShow=e},"update:tip-show":function(e){t.eliminateShow=e},btnHandle:t.btnEliminateShow}},[s("p",{attrs:{slot:"content"},slot:"content"},[t._v("\n      很遗憾未通过"+t._s(t.getStage(t.$store.state.user.mts_user.stage,t.$store.state.user.mts_user.job_rotation_position))+"，无法再继续向下进行\n    ")])]):t._e(),s("el-dialog",{attrs:{title:"提示",visible:t.finishAllShow,width:"30%",center:""},on:{"update:visible":function(e){t.finishAllShow=e}}},[s("p",{staticStyle:{"text-align":"center"}},[t._v("\n      恭喜完成培训阶段考核，准备相关资料，准备上线\n    ")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.finishAllShowClick}},[t._v("确 定")])],1)]),t.delayShow?s("tip",{staticClass:"center",attrs:{"tip-show":t.delayShow,"btn-text":"确定","has-footer":!0},on:{"update:tipShow":function(e){t.delayShow=e},"update:tip-show":function(e){t.delayShow=e},btnHandle:t.btnDelayShow}},[s("p",{attrs:{slot:"content"},slot:"content"},[t._v("\n      很遗憾未通过"+t._s(t.getStage(t.$store.state.user.mts_user.stage,t.$store.state.user.mts_user.job_rotation_position))+"学习， 需要延期学习，重新进行考试\n    ")])]):t._e()],1)},n=[],i=(s("96cf"),s("3b8d")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stage-head"},[s("h3",{staticClass:"stage-title"},[t._v("\n    当前进度："),s("span",[t._v(t._s(t.title))])]),s("div",{staticClass:"info"},[s("span",{staticClass:"total-nub"},[t._v("总节数："+t._s(t.taskInfo.total_course)+"节")]),s("span",{staticClass:"finish-nub"},[t._v("已完成："+t._s(t.taskInfo.finish)+"节")]),s("span",{staticClass:"today-nub"},[t._v("今日任务量："+t._s(t.taskInfo.task_num)+"节")]),s("span",{staticClass:"line"}),s("span",{staticClass:"study-time"},[t._v("学习用时："+t._s(t.taskInfo.time))])])])},o=[],u=(s("c5f6"),{props:{title:{type:String,default:""},taskInfo:{type:Object,default:function(){return{}}},index:{type:Number,default:0}}}),c=u,l=(s("ec1b"),s("2877")),d=Object(l["a"])(c,r,o,!1,null,"e3b506e6",null),h=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"learning-list"},[s("h3",{staticClass:"title"},[t._v(t._s(t.title))]),t.list.length?s("div",{staticClass:"list"},[s("dl",t._l(t.list,(function(e,a){return s("dd",{key:a,class:e.locked?"no-lock":"lock",on:{click:function(s){return t.goStudy(e.locked,e.id)}}},[e.locked?s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217173904846/1581932344552.png",alt:"锁定"}}):s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217173838450/1581932318169.png",alt:"解锁"}}),s("span",{staticClass:"text"},[t._v("\n           "),s("el-badge",{staticClass:"item",attrs:{value:t.mustLearn>a&&"study"===t.type?"今日必学":""}},[t._v(t._s("study"===t.type?"":a+1+".")+t._s(e.title))])],1)])})),0),"study"===t.type?s("div",{staticClass:"tip"},[t._v("\n      温馨提示：要同步学习单项训练各部分内容哦~\n    ")]):t._e()]):t._e(),t.list.length||"study"!==t.type?t._e():s("div",{staticClass:"no-list center"},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217173612303/1581932172024.png"}}),s("p",{staticClass:"text"},[t._v("恭喜你，完成该阶段的学习任务，快去进行阶段考试吧~")]),s("p",{staticClass:"text"},[t._v("等待考试时，记得复习哦~")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$emit("btnFinishStageTip")}}},[t._v("请求阶段考试")])],1),t.list.length||"finish"!==t.type?t._e():s("div",{staticClass:"no-finish center"},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217173529845/1581932129558.png"}}),s("span",[t._v("已学清单为空，赶紧去学习吧")])])])},f=[],g={props:{title:{type:String,default:""},type:{type:String,default:"study"},list:{type:Array,default:function(){return[]}},mustLearn:{type:Number,default:0},stage:{type:String,default:""}},methods:{goStudy:function(t,e){t||this.$router.push("/study/course-detail/"+e)}}},m=g,_=(s("669e"),Object(l["a"])(m,p,f,!1,null,"53a79c6e",null)),b=_.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"train"},[s("h3",{staticClass:"title"},[t._v("单项训练")]),s("div",{staticClass:"card-wrap"},[s("el-badge",{staticClass:"item badge",attrs:{value:t.diagnosis}},[s("el-card",{staticClass:"box-card",nativeOn:{click:function(e){return t.$router.push("/study/user-problem-diagnosis/用户问题确诊?stage="+t.stage+"&type=diagnosis")}}},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217180057884/1581933657559.png",alt:"用户问题确诊"}}),s("span",{staticClass:"text"},[t._v("用户问题确诊")])])],1),s("el-badge",{staticClass:"item badge",attrs:{value:t.process}},[s("el-card",{staticClass:"box-card",nativeOn:{click:function(e){return t.$router.push("/study/user-problem-diagnosis/问诊训练?stage="+t.stage+"&type=process")}}},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217180155026/1581933714685.png",alt:"问诊技巧"}}),s("span",{staticClass:"text"},[t._v("问诊技巧")])])],1)],1)])},y=[],w={props:{stage:{type:[String,Number],default:0},count:{type:Object,default:function(){return{}}}},computed:{diagnosis:function(){return this.count.diagnosis&&parseInt(this.stage)===this.$store.state.user.mts_user.stage?this.count.diagnosis+"题待解答":""},process:function(){return this.count.process&&parseInt(this.stage)===this.$store.state.user.mts_user.stage?this.count.process+"题待解答":""}}},S=w,C=(s("d394"),Object(l["a"])(S,v,y,!1,null,"5846129e",null)),k=C.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"simulation"},[s("h3",{staticClass:"title"},[t._v("工作流程模拟")]),s("div",{staticClass:"card-wrap"},[s("el-card",{staticClass:"box-card"},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217174930841/1581932970554.png",alt:"工作流程"},on:{click:function(e){return t.$router.push("/study/workflow")}}})]),s("el-card",{staticClass:"box-card"},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217175023633/1581933023373.png",alt:"工作环境模拟"},on:{click:function(e){return t.$router.push("/study/work-environment")}}})])],1)])},x=[],$={},T=$,j=(s("8314"),Object(l["a"])(T,D,x,!1,null,"8b13f268",null)),O=j.exports,R=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rotation-stage center"},[s("img",{attrs:{src:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217174750963/1581932870685.png"}}),s("p",[t._v("该阶段为轮岗阶段，认真了解实际工作情况哦~")]),s("p",[t._v("有问题及时问医生，好好表现吧")])])}],F={},N=F,E=(s("9ce4"),Object(l["a"])(N,R,L,!1,null,"5c3e9067",null)),I=E.exports,A=s("9039"),H=s("df0c"),q=s("f296"),M=s("4bfb"),J=s("fd0b"),P={components:{StageHead:h,LearningList:b,Train:k,Simulation:O,RotationStage:I,Tip:A["a"],Study:H["a"]},data:function(){return{activeName:"1",phaseFirstTip:!1,stageContent:[],studyDetail:{},finishStageTip:!1,taskInfo:{},learnedList:[],taskList:[],mustLean:[],studyTime:"0天0小时0分钟",workShift:!1,remindData:{},finishTip:"",count:{},individualTraining:!1,eliminateShow:!1,finishAllShow:!1,delayShow:!1,lastLearnNum:0}},computed:{getStage:function(){return function(t,e){if(t===e)return"轮岗阶段";if(-1===t)return"试岗阶段";if(t<e){if(0===t)return"第一阶段";if(1===t)return"第二阶段";if(2===t)return"第三阶段";if(3===t)return"第四阶段";if(4===t)return"第五阶段";if(5===t)return"第六阶段"}if(t>e){if(t-=e,0===t)return"第二阶段";if(1===t)return"第三阶段";if(2===t)return"第四阶段";if(3===t)return"第五阶段";if(4===t)return"第六阶段";if(5===t)return"第七阶段"}}},isFinish:function(){return function(t,e,s){var a=e.filter((function(t){return(new Date).getDate()-new Date(t.exam_end_at).getDate()===1}));return a.length===s?"恭喜上个工作日按时完成任务，":a.length>s?"恭喜上个工作日超额完成任务，":void 0}}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.studyContent(this.$route.query.stage);case 2:return t.next=4,this.trialRemind();case 4:return t.next=6,this.getCount();case 6:"eliminate"===this.$store.state.user.mts_user.stage_status&&(this.eliminateShow=!0);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{btnPhaseFirstTip:function(){this.createRemind(),this.phaseFirstTip=!1},studyContent:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,a,n,i,r,o,u,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this.$store.state.user.mts_user.job_rotation_position,a=this.$store.state.user.mts_user.stage,s!==a||e||0===e||(e=-2),t.next=5,Object(q["lb"])({stage:e||0===e?e:this.$store.state.user.mts_user.stage});case 5:n=t.sent,i=n.data,i&&i.result&&(i.stage_study_content||(this.$message({message:"您还没有领取计划不能进行阶段学习",type:"error"}),this.$router.push("/study/index")),this.studyDetail=i,this.stageContent=i.stage_study_content,this.taskList=i.plan&&i.plan.stage_study_number?i.detail.slice(0,i.plan.stage_study_number[i.stage]):[],r=i.list.filter((function(t){return new Date(t.exam_end_at).getDate()===(new Date).getDate()})),this.lastLearnNum=i.list.filter((function(t){return new Date(t.exam_end_at).getDate()===(new Date).getDate()-1})).length,o=0,this.mustLean=i.plan?i.plan.stage_study_number.map((function(t){return c.remindData.start_at&&(new Date).getDate()!==new Date(c.remindData.start_at).getDate()&&(o=(c.remindData.record_day||1)*t-i.list.length),t-r.length+o})):[],u=i.list?i.list.reduce((function(t,e){return t+(new Date(e.study_at).getTime()-new Date(e.started_at))}),0):0,this.studyTime=Object(J["c"])({time:u}),this.taskInfo={total_course:i.detail.length+i.list.length,finish:i.list.length,task_num:this.mustLean[e||this.$store.state.user.mts_user.stage]<0?0:this.mustLean[e||this.$store.state.user.mts_user.stage],time:this.studyTime},this.learnedList=i.list.map((function(t){return{title:t.catalog.title,id:t.catalog._id}})),-1===e||-1===this.$store.state.user.mts_user.stage?this.activeName="trial":this.activeName=-2===e?a+1+"":e||0===e?e+1+"":1+this.$store.state.user.mts_user.stage+"",0===i.detail.length&&0!==i.list.length&&(this.finishTip=this.isFinish(i.detail,i.list,i.plan.stage_study_number[this.$store.state.user.mts_user.stage]),this.finishTip&&(this.finishStageTip=!0)),"pass"===i.internship&&(this.finishAllShow=!0),"delay"===i.internship&&(this.delayShow=!0));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),btnFinishStageTip:function(){"eliminate"!==this.$store.state.user.stage_status&&parseInt(this.activeName)-1===this.$store.state.user.mts_user.stage&&(0===this.count.diagnosis||0===this.count.process?(this.requestExamination(),this.finishStageTip=!1):this.individualTraining=!0)},getCount:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(q["M"])();case 2:e=t.sent,s=e.data,this.count=s.count;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createRemind:function(){Object(M["c"])({type:this.$store.state.user.mts_user.stage===this.$store.state.user.mts_user.job_rotation_position?"job_rotation":this.$store.state.user.mts_user.stage+10+""})},getStageCourse:function(t){this.studyContent(t.index-1)},btnWorkShiftShow:function(){this.createRemind(),this.workShift=!1},trialRemind:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,a,n,i,r,o,u,c,l,d,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(M["j"])({stage:this.$store.state.user.mts_user.stage+10});case 2:s=t.sent,a=s.code,n=s.data,2e4===a&&n.result&&(this.remindData=n,i=new Date(n.start_at).getFullYear(),r=new Date(n.start_at).getMonth(),o=new Date(n.start_at).getDate(),u="".concat(i,"-").concat(r,"-").concat(o),c=(new Date).getFullYear(),l=(new Date).getMonth(),d=(new Date).getDate(),h="".concat(c,"-").concat(l,"-").concat(d),n.record_day===n.real_day||e||this.$store.state.user.mts_user.stage!==this.$store.state.user.mts_user.job_rotation_position?u!==h&&this.studyDetail.detail&&0!==this.studyDetail.detail.length&&(this.phaseFirstTip=!0):u!==h&&(this.workShift=!0));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),requestExamination:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(M["i"])();case 2:e=t.sent,s=e.data,a=e.code,2e4===a&&(s.result?this.$message({message:"请求成功",type:"success"}):this.$message({message:s.message,type:"error"}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnEliminateShow:function(){this.eliminateShow=!1},finishAllShowClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(M["h"])();case 2:e=t.sent,s=e.data,a=e.code,2e4===a&&s.result&&(this.finishAllShow=!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnDelayShow:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(M["h"])();case 2:e=t.sent,s=e.data,a=e.code,2e4===a&&s.result&&(this.delayShow=!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},W=P,Y=(s("a643"),Object(l["a"])(W,a,n,!1,null,"ec9bc0a4",null));e["default"]=Y.exports},d394:function(t,e,s){"use strict";var a=s("5233"),n=s.n(a);n.a},ec1b:function(t,e,s){"use strict";var a=s("21fa"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-7cce725e.605892c5.js.map