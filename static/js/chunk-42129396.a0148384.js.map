{"version":3,"sources":["webpack:///./src/views/medical-service/health-management/follow/follow.vue?4d55","webpack:///src/views/medical-service/health-management/follow/follow.vue","webpack:///./src/views/medical-service/health-management/follow/follow.vue?0ce6","webpack:///./src/views/medical-service/health-management/follow/follow.vue","webpack:///./src/views/medical-service/health-management/components/TaskList.vue?0e3b","webpack:///src/views/medical-service/health-management/components/TaskList.vue","webpack:///./src/views/medical-service/health-management/components/TaskList.vue?5c01","webpack:///./src/views/medical-service/health-management/components/TaskList.vue","webpack:///./src/views/medical-service/health-management/follow/follow.vue?7960","webpack:///./src/views/medical-service/health-management/follow/follow.vue?f9aa","webpack:///./src/utils/healthManagement/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","on","$event","gotoNewPage","_v","attrs","model","value","searchForm","callback","$$v","$set","expression","_l","item","key","label","statusDisabled","searchTime","search","reset","handleTab","activeName","slot","taskCount","todayListNum","allListNum","needToRelayNum","ref","staticRenderFns","name","components","TaskList","data","nickname","uid","status","subType","beginTime","endTime","type","taskStatus","babyId","typeOptions","statusOptions","computed","watch","getReplaceStatus","handler","newList","oldList","length","deep","methods","resetSearchForm","user","$refs","taskList","pageSize","currentPage","getAllTaskList","filterSatatusOptions","resetStatus","path","setSendStatus","$router","push","needKeepAlive","keepAliveRoutes","some","refreshPage","beforeRouteEnter","next","vm","from","component","directives","rawName","tableData","scopedSlots","_u","fn","scope","_s","row","family_member","avatar","remark_name","_e","_id","creator","sender","_f","Date","createTime","batchTaskIsSaved","batchTaskIsCanceled","executeTime","taskHasNotSend","sendTime","delayDay","handleClick","switchHandleText","canBeCanceled","onHandleClose","total","handleSizeChange","handleCurrentChange","closeDialogVisible","closeTask","props","taskType","Number","default","Object","TaskCloseDialog","currentTaskId","closeTaskId","loading","destroyed","setTaskCount","task","reason","reasonForm","closeReasonType","reason_message","closeReason","res","code","result","val","taskTypeRouter","setSelectBaby","query","$message","warning","vaccineType","vaccine_type","vaccineClass","vaccine_class","getSimpleText","html","re1","RegExp","msg","replace","slice"],"mappings":"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","file":"static/js/chunk-42129396.a0148384.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"guidance-container\"},[_c('el-card',{staticStyle:{\"margin-bottom\":\"30px\"}},[_c('div',{staticClass:\"express-container\"},[_c('div',{staticClass:\"express-item\",on:{\"click\":function($event){return _vm.gotoNewPage('add')}}},[_vm._v(\"新建随访任务\")]),_c('div',{staticClass:\"express-item\",on:{\"click\":function($event){return _vm.gotoNewPage('send')}}},[_vm._v(\"\\n        直接发送随访消息\\n      \")])]),_c('div',{staticClass:\"search-container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"search-item\"},[_c('div',[_vm._v(\"宝宝乳名\")]),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入宝宝乳名\",\"size\":\"mini\"},model:{value:(_vm.searchForm.name),callback:function ($$v) {_vm.$set(_vm.searchForm, \"name\", $$v)},expression:\"searchForm.name\"}})],1)])]),_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"search-item\"},[_c('div',[_vm._v(\"宝宝ID\")]),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入宝宝ID\",\"size\":\"mini\"},model:{value:(_vm.searchForm.babyId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"babyId\", $$v)},expression:\"searchForm.babyId\"}})],1)])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"search-item\"},[_c('div',[_vm._v(\"用户\")]),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入用户昵称或备注名\",\"size\":\"mini\"},model:{value:(_vm.searchForm.nickname),callback:function ($$v) {_vm.$set(_vm.searchForm, \"nickname\", $$v)},expression:\"searchForm.nickname\"}})],1)])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"search-item\"},[_c('div',[_vm._v(\"用户ID\")]),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入用户ID\",\"size\":\"mini\"},model:{value:(_vm.searchForm.uid),callback:function ($$v) {_vm.$set(_vm.searchForm, \"uid\", $$v)},expression:\"searchForm.uid\"}})],1)])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"search-item\"},[_c('div',[_vm._v(\"消息任务类型\")]),_c('div',[_c('el-select',{attrs:{\"size\":\"mini\"},model:{value:(_vm.searchForm.subType),callback:function ($$v) {_vm.$set(_vm.searchForm, \"subType\", $$v)},expression:\"searchForm.subType\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)])]),_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"search-item\"},[_c('div',[_vm._v(\"完成状态\")]),_c('div',[_c('el-select',{attrs:{\"size\":\"mini\",\"disabled\":_vm.statusDisabled,\"placeholder\":\"请选择\"},model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search-time search-date-picker\"},[_c('div',[_vm._v(\"\\n              任务执行日期\\n            \")]),_c('div',[_c('el-date-picker',{attrs:{\"size\":\"mini\",\"type\":\"daterange\",\"range-separator\":\"-\",\"start-placeholder\":\"请选择时间范围起始\",\"end-placeholder\":\"请选择时间范围结束\"},model:{value:(_vm.searchTime),callback:function ($$v) {_vm.searchTime=$$v},expression:\"searchTime\"}})],1)])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"search-item search-button margin-left-20\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1),_c('div',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)])])],1)],1)]),_c('el-card',[_c('el-tabs',{staticClass:\"tab-container\",staticStyle:{\"padding-right\":\"20px\"},on:{\"tab-click\":_vm.handleTab},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"全部随访\",\"name\":\"0\"}}),_c('el-tab-pane',{attrs:{\"name\":\"1\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('div',[(_vm.taskCount.todayListNum > 0)?_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.taskCount.todayListNum,\"max\":99}},[_vm._v(\"\\n              今日待随访任务\\n            \")]):_c('span',[_vm._v(\"今日待随访任务\")])],1)])]),_c('el-tab-pane',{attrs:{\"name\":\"2\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('div',[(_vm.taskCount.allListNum > 0)?_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.taskCount.allListNum,\"max\":99}},[_vm._v(\"\\n              全部待随访任务\\n            \")]):_c('span',[_vm._v(\"全部待随访任务\")])],1)])]),_c('el-tab-pane',{attrs:{\"name\":\"3\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('div',[(_vm.taskCount.needToRelayNum > 0)?_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.taskCount.needToRelayNum,\"max\":99}},[_vm._v(\"\\n              留言待回复\\n            \")]):_c('span',[_vm._v(\"留言待回复\")])],1)])])],1),_c('div',{staticClass:\"table-title\"},[_vm._v(\"\\n      健康随访消息任务列表\\n    \")]),_c('task-list',{ref:\"taskList\",attrs:{\"task-type\":2,\"search-form\":_vm.searchForm},on:{\"closeTask\":_vm.search}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"guidance-container\">\r\n    <el-card style=\"margin-bottom: 30px;\">\r\n      <div class=\"express-container\">\r\n        <div class=\"express-item\" @click=\"gotoNewPage('add')\">新建随访任务</div>\r\n        <div class=\"express-item\" @click=\"gotoNewPage('send')\">\r\n          直接发送随访消息\r\n        </div>\r\n      </div>\r\n      <div class=\"search-container\">\r\n        <el-row>\r\n          <el-col :span=\"5\">\r\n            <div class=\"search-item\">\r\n              <div>宝宝乳名</div>\r\n              <div>\r\n                <el-input\r\n                  v-model=\"searchForm.name\"\r\n                  placeholder=\"请输入宝宝乳名\"\r\n                  size=\"mini\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <div class=\"search-item\">\r\n              <div>宝宝ID</div>\r\n              <div>\r\n                <el-input\r\n                  v-model=\"searchForm.babyId\"\r\n                  placeholder=\"请输入宝宝ID\"\r\n                  size=\"mini\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <div class=\"search-item\">\r\n              <div>用户</div>\r\n              <div>\r\n                <el-input\r\n                  v-model=\"searchForm.nickname\"\r\n                  placeholder=\"请输入用户昵称或备注名\"\r\n                  size=\"mini\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <div class=\"search-item\">\r\n              <div>用户ID</div>\r\n              <div>\r\n                <el-input\r\n                  v-model=\"searchForm.uid\"\r\n                  placeholder=\"请输入用户ID\"\r\n                  size=\"mini\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"5\">\r\n            <div class=\"search-item\">\r\n              <div>消息任务类型</div>\r\n              <div>\r\n                <el-select v-model=\"searchForm.subType\" size=\"mini\">\r\n                  <el-option\r\n                    v-for=\"item in typeOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                  />\r\n                </el-select>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <div class=\"search-item\">\r\n              <div>完成状态</div>\r\n              <div>\r\n                <el-select\r\n                  v-model=\"searchForm.status\"\r\n                  size=\"mini\"\r\n                  :disabled=\"statusDisabled\"\r\n                  placeholder=\"请选择\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in statusOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                  />\r\n                </el-select>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <div class=\"search-time search-date-picker\">\r\n              <div>\r\n                任务执行日期\r\n              </div>\r\n              <div>\r\n                <el-date-picker\r\n                  v-model=\"searchTime\"\r\n                  size=\"mini\"\r\n                  type=\"daterange\"\r\n                  range-separator=\"-\"\r\n                  start-placeholder=\"请选择时间范围起始\"\r\n                  end-placeholder=\"请选择时间范围结束\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <div class=\"search-item search-button margin-left-20\">\r\n              <div>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"search\"\r\n                  >搜索</el-button\r\n                >\r\n              </div>\r\n              <div>\r\n                <el-button size=\"mini\" @click=\"reset\">重置</el-button>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-card>\r\n    <el-card>\r\n      <el-tabs\r\n        v-model=\"activeName\"\r\n        class=\"tab-container\"\r\n        style=\"padding-right: 20px\"\r\n        @tab-click=\"handleTab\"\r\n      >\r\n        <el-tab-pane label=\"全部随访\" name=\"0\" />\r\n        <el-tab-pane name=\"1\">\r\n          <span slot=\"label\">\r\n            <div>\r\n              <el-badge\r\n                v-if=\"taskCount.todayListNum > 0\"\r\n                :value=\"taskCount.todayListNum\"\r\n                class=\"item\"\r\n                :max=\"99\"\r\n              >\r\n                今日待随访任务\r\n              </el-badge>\r\n              <span v-else>今日待随访任务</span>\r\n            </div>\r\n          </span>\r\n        </el-tab-pane>\r\n        <el-tab-pane name=\"2\">\r\n          <span slot=\"label\">\r\n            <div>\r\n              <el-badge\r\n                v-if=\"taskCount.allListNum > 0\"\r\n                :value=\"taskCount.allListNum\"\r\n                class=\"item\"\r\n                :max=\"99\"\r\n              >\r\n                全部待随访任务\r\n              </el-badge>\r\n              <span v-else>全部待随访任务</span>\r\n            </div>\r\n          </span>\r\n        </el-tab-pane>\r\n        <el-tab-pane name=\"3\">\r\n          <span slot=\"label\">\r\n            <div>\r\n              <el-badge\r\n                v-if=\"taskCount.needToRelayNum > 0\"\r\n                :value=\"taskCount.needToRelayNum\"\r\n                class=\"item\"\r\n                :max=\"99\"\r\n              >\r\n                留言待回复\r\n              </el-badge>\r\n              <span v-else>留言待回复</span>\r\n            </div>\r\n          </span>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n      <div class=\"table-title\">\r\n        健康随访消息任务列表\r\n      </div>\r\n      <task-list\r\n        ref=\"taskList\"\r\n        :task-type=\"2\"\r\n        :search-form=\"searchForm\"\r\n        @closeTask=\"search\"\r\n      />\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TaskList from '../components/TaskList'\r\nimport { mapMutations, mapGetters } from 'vuex'\r\nimport { localSave } from '@/utils'\r\nimport { statusOptions } from '@/utils/healthManagement'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  name: 'Guidance',\r\n  components: {\r\n    TaskList\r\n  },\r\n  data() {\r\n    return {\r\n      statusDisabled: false,\r\n      searchForm: {\r\n        name: '',\r\n        nickname: '',\r\n        uid: '',\r\n        status: '',\r\n        subType: '',\r\n        beginTime: '',\r\n        endTime: '',\r\n        type: '',\r\n        taskStatus: '',\r\n        babyId: ''\r\n      },\r\n      searchTime: null,\r\n      activeName: '0',\r\n      typeOptions: [\r\n        {\r\n          value: 2,\r\n          label: '创建任务'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '直接发送'\r\n        }\r\n      ],\r\n      statusOptions: statusOptions\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['taskCount', 'sendStatus', 'getReplaceStatus'])\r\n  },\r\n  watch: {\r\n    getReplaceStatus: {\r\n      handler: function(val, oldVal) {\r\n        //代班状态改变时，重新请求任务列表\r\n        const newList = _.get(val, 'replace.replace_list')\r\n        const oldList = _.get(oldVal, 'replace.replace_list')\r\n        if (newList && oldList && newList.length !== oldList.length) {\r\n          this.search()\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setSendStatus: 'health/STE_SENDSTATUS'\r\n    }),\r\n    resetSearchForm() {\r\n      this.searchForm = {\r\n        name: '',\r\n        user: '',\r\n        status: '',\r\n        subType: '',\r\n        beginTime: '',\r\n        endTime: '',\r\n        type: '',\r\n        babyId: ''\r\n      }\r\n    },\r\n    // 点击标签页事件\r\n    handleTab() {\r\n      this.$refs.taskList.pageSize = 10\r\n      this.$refs.taskList.currentPage = 1\r\n      this.resetSearchForm()\r\n      this.searchForm.taskStatus = this.activeName\r\n      this.$refs.taskList.getAllTaskList(this.searchForm)\r\n      if (this.activeName !== '0') {\r\n        this.statusDisabled = true\r\n        // 过滤完成状态的搜索条件\r\n        this.filterSatatusOptions(this.activeName)\r\n        return\r\n      }\r\n      this.statusDisabled = false\r\n      this.resetStatus()\r\n    },\r\n    // 重置完成状态选项\r\n    resetStatus() {\r\n      this.searchForm.status = null\r\n      this.statusOptions = statusOptions\r\n    },\r\n    // 过滤完成状态\r\n    filterSatatusOptions(activeName) {\r\n      switch (activeName) {\r\n        case '1':\r\n          this.searchForm.status = ''\r\n          this.statusOptions = [\r\n            {\r\n              value: '',\r\n              label: '今日待随访'\r\n            }\r\n          ]\r\n          break\r\n        case '2':\r\n          this.searchForm.status = ''\r\n          this.statusOptions = [\r\n            {\r\n              value: '',\r\n              label: '全部待随访'\r\n            }\r\n          ]\r\n          break\r\n        case '3':\r\n          this.statusOptions = [\r\n            {\r\n              value: '',\r\n              label: '留言待回复'\r\n            }\r\n          ]\r\n          break\r\n        case '4':\r\n          this.statusOptions = [\r\n            {\r\n              value: '',\r\n              label: '已关闭'\r\n            }\r\n          ]\r\n      }\r\n    },\r\n    // 根据搜索条件查询任务列表\r\n    search() {\r\n      this.$refs.taskList.pageSize = 10\r\n      this.$refs.taskList.currentPage = 1\r\n      this.searchForm.beginTime = this.searchTime ? this.searchTime[0] : ''\r\n      this.searchForm.endTime = this.searchTime ? this.searchTime[1] : ''\r\n      this.$refs.taskList.getAllTaskList(this.searchForm)\r\n    },\r\n    // 重置查询条件\r\n    reset() {\r\n      this.resetSearchForm()\r\n      // 每次重置基于当前选项卡\r\n      this.searchForm.taskStatus = this.activeName\r\n      this.searchTime = null\r\n      this.$refs.taskList.pageSize = 10\r\n      this.$refs.taskList.currentPage = 1\r\n      this.$refs.taskList.getAllTaskList(this.searchForm)\r\n    },\r\n    gotoNewPage(path) {\r\n      if (path === 'send') {\r\n        this.setSendStatus('select')\r\n        localSave('taskStep', 0)\r\n      }\r\n      this.$router.push(`follow/${path}`)\r\n    },\r\n    needKeepAlive(path) {\r\n      const keepAliveRoutes = [\r\n        'follow/send',\r\n        'follow/detail',\r\n        'follow/comment',\r\n        'follow/add',\r\n        'follow/close'\r\n      ]\r\n      return keepAliveRoutes.some(route => path.includes(route))\r\n    },\r\n    refreshPage() {\r\n      this.statusDisabled = false\r\n      this.activeName = '0'\r\n      this.statusOptions = statusOptions\r\n      this.reset()\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      if (!vm.needKeepAlive(from.path)) {\r\n        vm.refreshPage()\r\n      } else {\r\n        vm.search()\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.search-item {\r\n  .el-input {\r\n    width: 180px;\r\n  }\r\n}\r\n.tab-container {\r\n  .el-badge__content.is-fixed {\r\n    top: 10px;\r\n  }\r\n}\r\n</style>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles/healthManagement/page.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./follow.vue?vue&type=template&id=4f61b706&scoped=true&\"\nimport script from \"./follow.vue?vue&type=script&lang=js&\"\nexport * from \"./follow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./follow.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./follow.vue?vue&type=style&index=1&id=4f61b706&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f61b706\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"width\":\"80px\",\"align\":\"center\",\"prop\":\"index\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"align\":\"center\",\"width\":\"260px\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"label\":\"宝宝\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.family_member && scope.row.family_member.name)+\"\\n          \")]),_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.family_member && scope.row.family_member.babyId)+\"\\n          \")])])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"用户\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('el-avatar',{staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"size\":'small',\"src\":scope.row.user.avatar}}),_vm._v(\"\\n            \"+_vm._s(scope.row.user.remark_name\n                ? scope.row.user.remark_name\n                : scope.row.user.nickname)+\"\\n            \"),(scope.row.is_replace)?_c('svg-icon',{attrs:{\"icon-class\":\"replace\"}}):_vm._e()],1),_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.user._id)+\"\\n          \")])])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"80px\",\"label\":\"创建人\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.creator ? scope.row.creator.name : '系统')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"sender\",\"width\":\"80px\",\"label\":\"发送人\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.sender ? scope.row.sender.name : '未知')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"消息任务类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"taskType\")(scope.row.subType))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"110px\",\"prop\":\"createTime\",\"label\":\"任务创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"formatTime\")(new Date(scope.row.createTime),'y-m-d'))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"width\":\"110px\",\"label\":\"任务执行日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[(_vm.batchTaskIsSaved(scope.row))?_c('span',[_vm._v(\"\\n            待发送\\n          \")]):(_vm.batchTaskIsCanceled(scope.row))?_c('span',[_vm._v(\"\\n            已取消\\n          \")]):_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"formatTime\")(new Date(scope.row.executeTime),'y-m-d'))+\"\\n          \")])])]}}])}),_c('el-table-column',{attrs:{\"label\":\"发送时间\",\"align\":\"center\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.status === 6)?_c('span',[_vm._v(\"\\n            已关闭\\n          \")]):(_vm.taskHasNotSend(scope.row.status))?_c('span',[_vm._v(\"\\n            待发送\\n          \")]):(_vm.batchTaskIsCanceled(scope.row))?_c('span',[_vm._v(\"\\n            已取消\\n          \")]):_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"formatTime\")(new Date(scope.row.sendTime)))+\"\\n          \")])])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"100px\",\"label\":\"完成状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"finishStatus\")(scope.row.status))+\"\\n          \")]),(scope.row.delayDay && scope.row.delayDay > 0)?_c('div',{staticStyle:{\"font-size\":\"12px\",\"color\":\"red\"}},[_vm._v(\"\\n            延期\"+_vm._s(scope.row.delayDay)+\"天\\n          \")]):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"180px\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(\n              scope.row.subType === 1 &&\n                (scope.row.status === 0 || scope.row.status === 2)\n            )?_c('span',{staticStyle:{\"font-size\":\"12px\",\"cursor\":\"not-allowed\"}},[_c('span',[_vm._v(\"去发送\")]),_vm._v(\"   \"),_c('span',[_vm._v(\"关闭任务\")])]):_c('span',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(_vm._s(_vm.switchHandleText(scope.row.status)))]),(_vm.canBeCanceled(scope.row.status))?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onHandleClose(scope.row)}}},[_vm._v(\"关闭任务\")]):_vm._e()],1)])]}}])})],1),(_vm.total > 0)?_c('div',{staticStyle:{\"margin-top\":\"10px\",\"text-align\":\"center\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[10, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1):_vm._e(),_c('task-close-dialog',{attrs:{\"closeDialogVisible\":_vm.closeDialogVisible},on:{\"closeTask\":_vm.closeTask,\"closeDialog\":function($event){_vm.closeDialogVisible = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table v-loading=\"loading\" :data=\"tableData\" style=\"width: 100%\">\r\n      <el-table-column width=\"80px\" align=\"center\" prop=\"index\" label=\"序号\" />\r\n      <el-table-column prop=\"title\" align=\"center\" width=\"260px\" label=\"标题\" />\r\n      <el-table-column label=\"宝宝\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <div>\r\n              {{ scope.row.family_member && scope.row.family_member.name }}\r\n            </div>\r\n            <div>\r\n              {{ scope.row.family_member && scope.row.family_member.babyId }}\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"用户\" width=\"150px\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <div style=\"display: inline-block\">\r\n              <el-avatar\r\n                :size=\"'small'\"\r\n                :src=\"scope.row.user.avatar\"\r\n                style=\"vertical-align: middle\"\r\n              />\r\n              {{\r\n                scope.row.user.remark_name\r\n                  ? scope.row.user.remark_name\r\n                  : scope.row.user.nickname\r\n              }}\r\n              <svg-icon v-if=\"scope.row.is_replace\" icon-class=\"replace\" />\r\n            </div>\r\n            <div>\r\n              {{ scope.row.user._id }}\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" width=\"80px\" label=\"创建人\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.creator ? scope.row.creator.name : '系统' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"sender\" width=\"80px\" label=\"发送人\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.sender ? scope.row.sender.name : '未知' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"消息任务类型\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.subType | taskType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        align=\"center\"\r\n        width=\"110px\"\r\n        prop=\"createTime\"\r\n        label=\"任务创建时间\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ new Date(scope.row.createTime) | formatTime('y-m-d') }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column width=\"110px\" label=\"任务执行日期\">\r\n        <template slot-scope=\"scope\">\r\n          <span>\r\n            <span v-if=\"batchTaskIsSaved(scope.row)\">\r\n              待发送\r\n            </span>\r\n            <span v-else-if=\"batchTaskIsCanceled(scope.row)\">\r\n              已取消\r\n            </span>\r\n            <span v-else>\r\n              {{ new Date(scope.row.executeTime) | formatTime('y-m-d') }}\r\n            </span>\r\n          </span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"发送时间\" align=\"center\" width=\"120px\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <span v-if=\"scope.row.status === 6\">\r\n              已关闭\r\n            </span>\r\n            <span v-else-if=\"taskHasNotSend(scope.row.status)\">\r\n              待发送\r\n            </span>\r\n            <span v-else-if=\"batchTaskIsCanceled(scope.row)\">\r\n              已取消\r\n            </span>\r\n            <span v-else>\r\n              {{ new Date(scope.row.sendTime) | formatTime() }}\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" width=\"100px\" label=\"完成状态\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <div>\r\n              {{ scope.row.status | finishStatus }}\r\n            </div>\r\n            <div\r\n              v-if=\"scope.row.delayDay && scope.row.delayDay > 0\"\r\n              style=\"font-size: 12px;color: red;\"\r\n            >\r\n              延期{{ scope.row.delayDay }}天\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" width=\"180px\" label=\"操作\"\r\n        ><template slot-scope=\"scope\">\r\n          <div>\r\n            <span\r\n              v-if=\"\r\n                scope.row.subType === 1 &&\r\n                  (scope.row.status === 0 || scope.row.status === 2)\r\n              \"\r\n              style=\"font-size: 12px; cursor: not-allowed\"\r\n            >\r\n              <span>去发送</span>&nbsp;&nbsp;&nbsp;<span>关闭任务</span>\r\n            </span>\r\n            <span v-else>\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"small\"\r\n                @click=\"handleClick(scope.row)\"\r\n                >{{ switchHandleText(scope.row.status) }}</el-button\r\n              >\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"small\"\r\n                @click=\"onHandleClose(scope.row)\"\r\n                v-if=\"canBeCanceled(scope.row.status)\"\r\n                >关闭任务</el-button\r\n              >\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div v-if=\"total > 0\" style=\"margin-top: 10px;text-align: center;\">\r\n      <el-pagination\r\n        background\r\n        :current-page.sync=\"currentPage\"\r\n        :page-sizes=\"[10, 50, 100]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n      />\r\n    </div>\r\n    <task-close-dialog\r\n      @closeTask=\"closeTask\"\r\n      @closeDialog=\"closeDialogVisible = false\"\r\n      :closeDialogVisible=\"closeDialogVisible\"\r\n    ></task-close-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllTaskList, closeTask } from '@/api/healthManagement'\r\nimport TaskCloseDialog from '@/components/TaskCloseDialog'\r\nimport { mapMutations, mapActions, mapGetters } from 'vuex'\r\nimport { localSave } from '@/utils'\r\n\r\nexport default {\r\n  name: 'TaskList',\r\n  props: {\r\n    taskType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    searchForm: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  components: {\r\n    TaskCloseDialog\r\n  },\r\n  data() {\r\n    return {\r\n      closeDialogVisible: false,\r\n      currentTaskId: '',\r\n      closeTaskId: '',\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      tableData: [],\r\n      loading: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['babyList', 'selectBaby'])\r\n  },\r\n  destroyed() {\r\n    this.setTaskCount({})\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setSelectBaby: 'health/SET_SELECTBABY',\r\n      setSendStatus: 'health/STE_SENDSTATUS',\r\n      setTaskCount: 'health/SET_TASKCOUNT'\r\n    }),\r\n    ...mapActions({\r\n      getBabyList: 'health/getBabyList'\r\n    }),\r\n    batchTaskIsSaved(task) {\r\n      return task.subType === 1 && task.status === 2\r\n    },\r\n    batchTaskIsCanceled(task) {\r\n      return task.subType === 1 && task.status === 5\r\n    },\r\n    taskHasNotSend(status) {\r\n      return status === 0 || status === 2\r\n    },\r\n    onHandleClose(row) {\r\n      this.currentTaskId = row._id\r\n      this.closeDialogVisible = true\r\n    },\r\n    closeTask(reasonForm) {\r\n      // 请求取消任务的接口,取消成功后刷新任务列表\r\n      const params = {\r\n        reason: reasonForm.closeReasonType,\r\n        reason_message: reasonForm.closeReason\r\n      }\r\n      closeTask(this.currentTaskId, params).then(res => {\r\n        if (res.code === 20000 && res.data.result === true) {\r\n          this.closeDialogVisible = false\r\n          this.$message.success('关闭任务成功')\r\n          this.$emit('closeTask')\r\n        }\r\n      })\r\n    },\r\n    canBeCanceled(status) {\r\n      return status === 0 || status === 2\r\n    },\r\n    switchHandleText(status) {\r\n      switch (status) {\r\n        case 0:\r\n          return '去发送'\r\n        case 1:\r\n          return '去回复'\r\n        case 2:\r\n          return '去发送'\r\n        case 3:\r\n        case 4:\r\n        case 5:\r\n        case 6:\r\n          return '查看详情'\r\n      }\r\n    },\r\n    getAllTaskList(searchParams = {}) {\r\n      this.loading = true\r\n\r\n      const params = {\r\n        ...searchParams,\r\n        currentPage: this.currentPage,\r\n        pageSize: this.pageSize\r\n      }\r\n      getAllTaskList(this.taskType, params).then(res => {\r\n        if (res.code === 20000) {\r\n          this.loading = false\r\n          const data = res.data\r\n          this.tableData = data.list\r\n          this.total = data.count\r\n          // 设置tab标签上的任务数量\r\n          const taskCountObj = {\r\n            allListNum: data.allListNum,\r\n            needToRelayNum: data.needToRelayNum,\r\n            todayListNum: data.todayListNum\r\n          }\r\n          this.setTaskCount(taskCountObj)\r\n        } else {\r\n          this.loading = false\r\n        }\r\n      })\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.currentPage = 1\r\n      this.getAllTaskList(this.searchForm)\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.getAllTaskList(this.searchForm)\r\n    },\r\n    taskTypeRouter(type) {\r\n      switch (type) {\r\n        case 2:\r\n          return 'follow'\r\n        case 3:\r\n          return 'guidance'\r\n        case 4:\r\n          return 'prevention'\r\n      }\r\n    },\r\n    handleClick(row) {\r\n      // 发送前清空store中的宝宝\r\n      this.setSelectBaby(null)\r\n      this.setSendStatus('edit')\r\n      // 设置localStorage中的currentTask\r\n      localSave('currentTask', JSON.stringify(row))\r\n      const page = this.taskTypeRouter(this.taskType)\r\n      if (\r\n        !row.isOnServer &&\r\n        (row.status === 1 || row.status === 0 || row.status === 2)\r\n      ) {\r\n        this.$message.warning('该任务的宝宝不在服务中')\r\n        return\r\n      }\r\n      switch (row.status) {\r\n        case 0:\r\n        case 2:\r\n          this.$router.push({\r\n            path: `${page}/send`,\r\n            query: { step: 'send', taskId: row._id }\r\n          })\r\n          break\r\n        case 1:\r\n          this.$router.push({\r\n            path: `${page}/comment`,\r\n            query: { babyId: row.family_member._id, taskId: row._id }\r\n          })\r\n          break\r\n        case 3:\r\n        case 4:\r\n        case 5:\r\n          this.$router.push({\r\n            path: `${page}/detail`,\r\n            query: { babyId: row.family_member._id, taskId: row._id }\r\n          })\r\n          break\r\n        case 6:\r\n          this.$router.push({\r\n            path: `${page}/close`,\r\n            query: { babyId: row.family_member._id, taskId: row._id }\r\n          })\r\n          break\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskList.vue?vue&type=template&id=03c0c5d5&\"\nimport script from \"./TaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=style&index=1&id=4f61b706&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow.vue?vue&type=style&index=1&id=4f61b706&scoped=true&lang=scss&\"","import $router from '@/router'\r\nexport const gotoNewPage = function(path) {\r\n  $router.push(`prevention/${path}`)\r\n}\r\n\r\nexport const vaccineType = function(row) {\r\n  switch (row.vaccine_type) {\r\n    case 1:\r\n      return '减毒'\r\n    case 2:\r\n      return '灭活'\r\n    case 3:\r\n      return '多糖'\r\n  }\r\n}\r\n\r\nexport const vaccineClass = function(row) {\r\n  switch (row.vaccine_class) {\r\n    case 1:\r\n      return '一类'\r\n    case 2:\r\n      return '二类'\r\n  }\r\n}\r\n\r\nexport const getSimpleText = function(html) {\r\n  const re1 = new RegExp('<.+?>', 'g') // 匹配html标签的正则表达式，\"g\"是搜索匹配多个符合的内容\r\n  const msg = html.replace(re1, '') // 执行替换成空字符\r\n  if (msg.length > 38) {\r\n    return msg.slice(0, 38) + '...'\r\n  }\r\n  return msg\r\n}\r\n\r\nexport const statusOptions = [\r\n  {\r\n    value: 0,\r\n    label: '待发送'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: '已保存'\r\n  },\r\n  {\r\n    value: 3,\r\n    label: '已发送'\r\n  },\r\n  {\r\n    value: 1,\r\n    label: '留言待回复'\r\n  },\r\n  {\r\n    value: 4,\r\n    label: '已完成'\r\n  },\r\n  {\r\n    value: 5,\r\n    label: '已取消'\r\n  },\r\n  {\r\n    value: 6,\r\n    label: '已关闭'\r\n  },\r\n  {\r\n    value: 100,\r\n    label: '延期'\r\n  }\r\n]\r\n"],"sourceRoot":""}