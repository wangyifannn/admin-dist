{"version":3,"sources":["webpack:///./src/views/study/components/UserProblemDiagnosis.vue?904d","webpack:///src/views/study/components/UserProblemDiagnosis.vue","webpack:///./src/views/study/components/UserProblemDiagnosis.vue?7282","webpack:///./src/views/study/components/UserProblemDiagnosis.vue","webpack:///./src/api/study.js","webpack:///./src/views/study/components/UserProblemDiagnosis.vue?83f2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","imgSrc","_v","_e","_l","item","index","shortcutDetail","key","ref","refInFor","_s","title","staticStyle","domProps","stem","$route","params","name","step","stepOne","disabled","on","$event","commitOptions","model","value","callback","$$v","$set","expression","stepTwo","commitAnswers","stepThree","commitProposal","staticRenderFns","data","noPractice","positionIndex","created","getShortcut","query","type","mounted","setTimeout","document","methods","beforeRouteEnter","next","to","meta","vm","component","createRemind","request","url","method","mock","trialRemind","typingSpeedCreate","abilityTest","commitShortcut","getErrorQuestion","myPlan","delQuestion","id","setStage","setPass","getTestStatus"],"mappings":"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","file":"static/js/chunk-3b45f62e.1e091cb8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-problem-diagnosis\"},[(_vm.noPractice)?_c('div',{staticClass:\"no-practice\"},[_c('div',{staticClass:\"tip\"},[_c('img',{attrs:{\"src\":_vm.imgSrc + '20200217180307898/1581933787533.png',\"alt\":\"空页面\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"还没有对应的训练，赶紧去学习吧!\")])])]):_vm._e(),_vm._l((_vm.shortcutDetail),function(item,index){return [(_vm.shortcutDetail.length)?_c('div',{key:index,staticClass:\"problem\",attrs:{\"id\":'question' + index}},[_c('a',{ref:\"questions\",refInFor:true,attrs:{\"href\":'#question' + index}},[_c('span',{attrs:{\"id\":'position' + index}})]),_c('h3',{staticClass:\"stem\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"explain\"},[_vm._v(\"\\n        \"+_vm._s(index + 1)+\".\\n        \"),_c('p',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\"},domProps:{\"innerHTML\":_vm._s(item.stem)}})]),_c('div',{staticClass:\"step\"},[_c('h3',{staticClass:\"step-title\"},[_c('div',[_c('img',{attrs:{\"src\":_vm.imgSrc + '20200217180457368/1581933897028.png',\"alt\":\"请问\"}}),_c('span',[_vm._v(\"\\n              Step 1：\"+_vm._s(_vm.$route.params.name === '用户问题确诊'\n                  ? '该用户出现的问题罗列'\n                  : '分析思路')+\"\\n            \")])]),(!_vm.step[index].stepOne.disabled)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.commitOptions(index)}}},[_vm._v(\"提交答案\")]):_vm._e(),(_vm.step[index].stepOne.disabled)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.step[index].stepOne.disabled = false}}},[_vm._v(\"编辑\")]):_vm._e()],1),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请逐条输入用户的问题\",\"show-word-limit\":\"\",\"resize\":\"none\",\"disabled\":_vm.step[index].stepOne.disabled},model:{value:(_vm.step[index].stepOne.title),callback:function ($$v) {_vm.$set(_vm.step[index].stepOne, \"title\", $$v)},expression:\"step[index].stepOne.title\"}})],1),_c('div',{staticClass:\"step\"},[_c('h3',{staticClass:\"step-title\"},[_c('div',[_c('img',{attrs:{\"src\":_vm.imgSrc + '20200217180457368/1581933897028.png',\"alt\":\"请问\"}}),_c('span',[_vm._v(\"\\n              Step 2：\"+_vm._s(_vm.$route.params.name === '用户问题确诊'\n                  ? '该用户的主要问题是'\n                  : '问诊')+\"\\n            \")])]),(!_vm.step[index].stepTwo.disabled)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.commitAnswers(index)}}},[_vm._v(\"提交答案\")]):_vm._e(),(_vm.step[index].stepTwo.disabled)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.step[index].stepTwo.disabled = false}}},[_vm._v(\"编辑\")]):_vm._e()],1),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请逐条输入用户的问题\",\"show-word-limit\":\"\",\"resize\":\"none\",\"disabled\":_vm.step[index].stepTwo.disabled},model:{value:(_vm.step[index].stepTwo.title),callback:function ($$v) {_vm.$set(_vm.step[index].stepTwo, \"title\", $$v)},expression:\"step[index].stepTwo.title\"}})],1),(_vm.$route.params.name === '问诊训练')?_c('div',{staticClass:\"step\"},[_c('h3',{staticClass:\"step-title\",staticStyle:{\"background\":\"#ECF4FF\"}},[_c('div',[_c('img',{attrs:{\"src\":_vm.imgSrc + '20200217180623801/1581933983505.png',\"alt\":\"爱上\"}}),_c('span',[_vm._v(\"Step 3：处理建议\")])]),(!_vm.step[index].stepThree.disabled)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.commitProposal(index)}}},[_vm._v(\"提交答案\")]):_vm._e(),(_vm.step[index].stepThree.disabled)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.step[index].stepThree.disabled = false}}},[_vm._v(\"编辑\")]):_vm._e()],1),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"针对用户出现的情况，给出专业的建议\",\"show-word-limit\":\"\",\"resize\":\"none\",\"disabled\":_vm.step[index].stepThree.disabled},model:{value:(_vm.step[index].stepThree.title),callback:function ($$v) {_vm.$set(_vm.step[index].stepThree, \"title\", $$v)},expression:\"step[index].stepThree.title\"}})],1):_vm._e(),(_vm.step[index].comment)?_c('div',{staticClass:\"step\"},[_c('h3',{staticClass:\"step-title\",staticStyle:{\"background\":\"#ECF4FF\"}},[_c('div',[_c('img',{attrs:{\"src\":_vm.imgSrc + '20200217180623801/1581933983505.png',\"alt\":\"爱上\"}}),_c('span',[_vm._v(\"点评结果\")])])]),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"针对用户出现的情况，给出专业的建议\",\"show-word-limit\":\"\",\"resize\":\"none\",\"disabled\":true},model:{value:(_vm.step[index].comment),callback:function ($$v) {_vm.$set(_vm.step[index], \"comment\", $$v)},expression:\"step[index].comment\"}})],1):_vm._e()]):_vm._e()]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 用户问题确诊 -->\r\n  <div class=\"user-problem-diagnosis\">\r\n    <div v-if=\"noPractice\" class=\"no-practice\">\r\n      <div class=\"tip\">\r\n        <img\r\n          :src=\"imgSrc + '20200217180307898/1581933787533.png'\"\r\n          alt=\"空页面\"\r\n        />\r\n        <p class=\"text\">还没有对应的训练，赶紧去学习吧!</p>\r\n      </div>\r\n    </div>\r\n    <template v-for=\"(item, index) of shortcutDetail\">\r\n      <div\r\n        v-if=\"shortcutDetail.length\"\r\n        :id=\"'question' + index\"\r\n        :key=\"index\"\r\n        class=\"problem\"\r\n      >\r\n        <a ref=\"questions\" :href=\"'#question' + index\">\r\n          <span :id=\"'position' + index\" />\r\n        </a>\r\n        <h3 class=\"stem\">{{ item.title }}</h3>\r\n        <div class=\"explain\">\r\n          {{ index + 1 }}.\r\n          <p\r\n            style=\"display: inline-block;margin-left: 10px;\"\r\n            v-html=\"item.stem\"\r\n          />\r\n        </div>\r\n        <div class=\"step\">\r\n          <h3 class=\"step-title\">\r\n            <div>\r\n              <img\r\n                :src=\"imgSrc + '20200217180457368/1581933897028.png'\"\r\n                alt=\"请问\"\r\n              />\r\n              <span>\r\n                Step 1：{{\r\n                  $route.params.name === '用户问题确诊'\r\n                    ? '该用户出现的问题罗列'\r\n                    : '分析思路'\r\n                }}\r\n              </span>\r\n            </div>\r\n            <el-button\r\n              v-if=\"!step[index].stepOne.disabled\"\r\n              type=\"primary\"\r\n              @click=\"commitOptions(index)\"\r\n              >提交答案</el-button\r\n            >\r\n            <el-button\r\n              v-if=\"step[index].stepOne.disabled\"\r\n              type=\"text\"\r\n              @click=\"step[index].stepOne.disabled = false\"\r\n              >编辑</el-button\r\n            >\r\n          </h3>\r\n          <el-input\r\n            v-model=\"step[index].stepOne.title\"\r\n            type=\"textarea\"\r\n            placeholder=\"请逐条输入用户的问题\"\r\n            show-word-limit\r\n            resize=\"none\"\r\n            :disabled=\"step[index].stepOne.disabled\"\r\n          />\r\n        </div>\r\n        <div class=\"step\">\r\n          <h3 class=\"step-title\">\r\n            <div>\r\n              <img\r\n                :src=\"imgSrc + '20200217180457368/1581933897028.png'\"\r\n                alt=\"请问\"\r\n              />\r\n              <span>\r\n                Step 2：{{\r\n                  $route.params.name === '用户问题确诊'\r\n                    ? '该用户的主要问题是'\r\n                    : '问诊'\r\n                }}\r\n              </span>\r\n            </div>\r\n            <el-button\r\n              v-if=\"!step[index].stepTwo.disabled\"\r\n              type=\"primary\"\r\n              @click=\"commitAnswers(index)\"\r\n              >提交答案</el-button\r\n            >\r\n            <el-button\r\n              v-if=\"step[index].stepTwo.disabled\"\r\n              type=\"text\"\r\n              @click=\"step[index].stepTwo.disabled = false\"\r\n              >编辑</el-button\r\n            >\r\n          </h3>\r\n          <el-input\r\n            v-model=\"step[index].stepTwo.title\"\r\n            type=\"textarea\"\r\n            placeholder=\"请逐条输入用户的问题\"\r\n            show-word-limit\r\n            resize=\"none\"\r\n            :disabled=\"step[index].stepTwo.disabled\"\r\n          />\r\n        </div>\r\n        <div v-if=\"$route.params.name === '问诊训练'\" class=\"step\">\r\n          <h3 class=\"step-title\" style=\"background: #ECF4FF;\">\r\n            <div>\r\n              <img\r\n                :src=\"imgSrc + '20200217180623801/1581933983505.png'\"\r\n                alt=\"爱上\"\r\n              />\r\n              <span>Step 3：处理建议</span>\r\n            </div>\r\n            <el-button\r\n              v-if=\"!step[index].stepThree.disabled\"\r\n              type=\"primary\"\r\n              @click=\"commitProposal(index)\"\r\n              >提交答案</el-button\r\n            >\r\n            <el-button\r\n              v-if=\"step[index].stepThree.disabled\"\r\n              type=\"text\"\r\n              @click=\"step[index].stepThree.disabled = false\"\r\n              >编辑</el-button\r\n            >\r\n          </h3>\r\n          <el-input\r\n            v-model=\"step[index].stepThree.title\"\r\n            type=\"textarea\"\r\n            placeholder=\"针对用户出现的情况，给出专业的建议\"\r\n            show-word-limit\r\n            resize=\"none\"\r\n            :disabled=\"step[index].stepThree.disabled\"\r\n          />\r\n        </div>\r\n        <div v-if=\"step[index].comment\" class=\"step\">\r\n          <h3 class=\"step-title\" style=\"background: #ECF4FF;\">\r\n            <div>\r\n              <img\r\n                :src=\"imgSrc + '20200217180623801/1581933983505.png'\"\r\n                alt=\"爱上\"\r\n              />\r\n              <span>点评结果</span>\r\n            </div>\r\n          </h3>\r\n          <el-input\r\n            v-model=\"step[index].comment\"\r\n            type=\"textarea\"\r\n            placeholder=\"针对用户出现的情况，给出专业的建议\"\r\n            show-word-limit\r\n            resize=\"none\"\r\n            :disabled=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { commitShortcut } from '@/api/study'\r\nimport { getShowrtAnswer } from '@/api/learningAdmin'\r\nexport default {\r\n  data() {\r\n    return {\r\n      noPractice: false,\r\n      step: [],\r\n      shortcutDetail: [],\r\n      positionIndex: 0,\r\n      imgSrc:\r\n        'https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//'\r\n    }\r\n  },\r\n  created() {\r\n    this.getShortcut(this.$route.query.type)\r\n  },\r\n  mounted() {\r\n    if (!this.noPractice) {\r\n      setTimeout(() => {\r\n        document\r\n          .getElementById('position' + parseInt(this.positionIndex))\r\n          .click()\r\n      }, 500)\r\n    }\r\n  },\r\n  methods: {\r\n    async getShortcut(type) {\r\n      const { data, code } = await getShowrtAnswer({\r\n        type,\r\n        stage: this.$route.query.stage\r\n      })\r\n      if (code === 20000 && data.result) {\r\n        const key = type === 'diagnosis' ? 'diagnosis_review' : 'process_review'\r\n        for (const item of data.list) {\r\n          this.step.push({\r\n            stepOne: {\r\n              title:\r\n                this.$route.params.name === '用户问题确诊'\r\n                  ? item.options\r\n                  : item.analysis_idea || '',\r\n              disabled:\r\n                this.$route.params.name === '用户问题确诊'\r\n                  ? !!item.options\r\n                  : !!item.analysis_idea\r\n            },\r\n            stepTwo: {\r\n              title:\r\n                this.$route.params.name === '用户问题确诊'\r\n                  ? item.answers\r\n                  : item.inquiry || '',\r\n              disabled:\r\n                this.$route.params.name === '用户问题确诊'\r\n                  ? !!item.answers\r\n                  : !!item.inquiry\r\n            },\r\n            stepThree: {\r\n              title: item.handler_suggestion || '',\r\n              disabled: !!item.handler_suggestion\r\n            },\r\n            comment: item[key] || ''\r\n          })\r\n        }\r\n        for (const i in this.step) {\r\n          if (this.$route.params.name === '用户问题确诊') {\r\n            if (\r\n              (!this.step[i].stepOne.disabled ||\r\n                !this.step[i].stepTwo.disabled) &&\r\n              this.positionIndex === 0\r\n            )\r\n              this.positionIndex = i\r\n          } else {\r\n            if (\r\n              (!this.step[i].stepOne.disabled ||\r\n                !this.step[i].stepTwo.disabled ||\r\n                !this.step[i].stepThree.disabled) &&\r\n              this.positionIndex === 0\r\n            )\r\n              this.positionIndex = i\r\n          }\r\n        }\r\n        if (data.list.length > 0) this.noPractice = false\r\n        else this.noPractice = true\r\n        this.shortcutDetail = data.list\r\n      }\r\n    },\r\n    async commitOptions(index) {\r\n      if (!this.step[index].stepOne.title) return\r\n      if (this.$route.params.name === '用户问题确诊') {\r\n        const { code, data } = await commitShortcut({\r\n          options: this.step[index].stepOne.title,\r\n          question: this.shortcutDetail[index]._id\r\n        })\r\n        if (code === 20000) {\r\n          if (data.result) {\r\n            this.step[index].stepOne.disabled = true\r\n            this.$message({ message: '提交成功', type: 'success' })\r\n          } else this.$message({ message: data.message, type: 'error' })\r\n        }\r\n      }\r\n      if (this.$route.params.name === '问诊训练') {\r\n        const { code, data } = await commitShortcut({\r\n          analysis_idea: this.step[index].stepOne.title,\r\n          question: this.shortcutDetail[index]._id\r\n        })\r\n        if (code === 20000) {\r\n          if (data.result) {\r\n            this.step[index].stepOne.disabled = true\r\n            this.$message({ message: '提交成功', type: 'success' })\r\n          } else this.$message({ message: data.message, type: 'error' })\r\n        }\r\n      }\r\n    },\r\n    async commitAnswers(index) {\r\n      if (!this.step[index].stepTwo.title) return\r\n      if (this.$route.params.name === '用户问题确诊') {\r\n        const { code, data } = await commitShortcut({\r\n          answers: this.step[index].stepTwo.title,\r\n          question: this.shortcutDetail[index]._id\r\n        })\r\n        if (code === 20000) {\r\n          if (data.result) {\r\n            this.step[index].stepTwo.disabled = true\r\n            this.$message({ message: '提交成功', type: 'success' })\r\n          } else this.$message({ message: data.message, type: 'error' })\r\n        }\r\n      }\r\n      if (this.$route.params.name === '问诊训练') {\r\n        const { code, data } = await commitShortcut({\r\n          inquiry: this.step[index].stepTwo.title,\r\n          question: this.shortcutDetail[index]._id\r\n        })\r\n        if (code === 20000) {\r\n          if (data.result) {\r\n            this.step[index].stepTwo.disabled = true\r\n            this.$message({ message: '提交成功', type: 'success' })\r\n          } else this.$message({ message: data.message, type: 'error' })\r\n        }\r\n      }\r\n    },\r\n    async commitProposal(index) {\r\n      if (!this.step[index].stepThree.title) return\r\n      const { code, data } = await commitShortcut({\r\n        handler_suggestion: this.step[index].stepThree.title,\r\n        question: this.shortcutDetail[index]._id\r\n      })\r\n      if (code === 20000) {\r\n        if (data.result) {\r\n          this.step[index].stepThree.disabled = true\r\n          this.$message({ message: '提交成功', type: 'success' })\r\n        } else this.$message({ message: data.message, type: 'error' })\r\n      }\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      to.meta.title = vm.$route.params.name\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.user-problem-diagnosis {\r\n  height: 100%;\r\n  .no-practice {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n    text-align: center;\r\n    .tip {\r\n      position: relative;\r\n      img {\r\n        width: 400px;\r\n      }\r\n      .text {\r\n        position: absolute;\r\n        top: 46px;\r\n        right: 16px;\r\n        width: 176px;\r\n        font-size: 16px;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  .problem {\r\n    padding: 20px;\r\n    border: 1px solid #ebeef5;\r\n    border-radius: 4px;\r\n    margin-bottom: 20px;\r\n    .stem {\r\n      font-size: 16px;\r\n      color: #17233d;\r\n    }\r\n    .explain {\r\n      display: flex;\r\n      margin: 20px 0;\r\n      font-size: 14px;\r\n      color: #576277;\r\n    }\r\n    .step {\r\n      margin-bottom: 20px;\r\n      .step-title {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        padding: 0 32px 0 20px;\r\n        height: 54px;\r\n        background: rgba(246, 247, 251, 0.64);\r\n        border: 1px solid #ebeef5;\r\n        border-radius: 4px 4px 0 0;\r\n        img {\r\n          width: 34px;\r\n          height: 34px;\r\n          vertical-align: middle;\r\n        }\r\n        span {\r\n          margin-left: 10px;\r\n          font-size: 14px;\r\n          color: #0085ff;\r\n        }\r\n        /deep/.el-button {\r\n          float: right;\r\n          padding: 6px 20px;\r\n          height: 32px;\r\n        }\r\n      }\r\n      /deep/.el-textarea__inner {\r\n        min-height: 140px !important;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProblemDiagnosis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProblemDiagnosis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProblemDiagnosis.vue?vue&type=template&id=9a62fbb2&scoped=true&\"\nimport script from \"./UserProblemDiagnosis.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProblemDiagnosis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProblemDiagnosis.vue?vue&type=style&index=0&id=9a62fbb2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a62fbb2\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: 'catalog/list',\r\n    method: 'get',\r\n    params: query,\r\n    mock: false\r\n  })\r\n}\r\n// 创建提醒\r\nexport function createRemind(data) {\r\n  return request({\r\n    url: 'notify',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 是否需要提醒\r\nexport function trialRemind(params) {\r\n  return request({\r\n    url: 'notify',\r\n    method: 'get',\r\n    params,\r\n    mock: false\r\n  })\r\n}\r\n// 打字测试结果创建\r\nexport function typingSpeedCreate(data) {\r\n  return request({\r\n    url: 'mts_user/record/typing_speed',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 获取课程列表\r\nexport function getCourseList(params) {\r\n  return request({\r\n    url: 'lesson/list',\r\n    method: 'get',\r\n    params,\r\n    mock: false\r\n  })\r\n}\r\n// 能力测试成绩\r\nexport function abilityTest(data) {\r\n  return request({\r\n    url: 'mts_user/record/test_question',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 提交简答题\r\nexport function commitShortcut(data) {\r\n  return request({\r\n    url: 'question/short_answer',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 提交简答题\r\nexport function getShortcut(params) {\r\n  return request({\r\n    url: 'question/exam_paper',\r\n    method: 'get',\r\n    params,\r\n    mock: false\r\n  })\r\n}\r\n// 获取评论详情\r\nexport function getCommentDetail(id) {\r\n  return request({\r\n    url: 'question/record/' + id,\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n// 获取错题\r\nexport function getErrorQuestion() {\r\n  return request({\r\n    url: 'question/my/error',\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n// 我的计划\r\nexport function myPlan() {\r\n  return request({\r\n    url: 'plan/my',\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n// 删除错题\r\nexport function delQuestion(id) {\r\n  return request({\r\n    url: 'question/my/error/' + id,\r\n    method: 'delete',\r\n    mock: false\r\n  })\r\n}\r\n// 删除错题\r\nexport function setStage() {\r\n  return request({\r\n    url: 'mts_user/record/stage',\r\n    method: 'put',\r\n    mock: false\r\n  })\r\n}\r\n// 改变通过状态\r\nexport function setPass() {\r\n  return request({\r\n    url: 'mts_user/pass',\r\n    method: 'put',\r\n    mock: false\r\n  })\r\n}\r\n// 获取当前是否还需测试\r\nexport function getTestStatus() {\r\n  return request({\r\n    url: 'mts_user/record/rotation/type',\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProblemDiagnosis.vue?vue&type=style&index=0&id=9a62fbb2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProblemDiagnosis.vue?vue&type=style&index=0&id=9a62fbb2&scoped=true&lang=scss&\""],"sourceRoot":""}