(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d55ff9f"],{"22ab":function(e,t,a){},"23ba":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return l}));var r=a("b775");function i(e){return Object(r["a"])({url:"/fd/corps",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/fd/corps",method:"post",data:e})}function o(e,t){return Object(r["a"])({url:"/fd/corps/".concat(e,"/status"),method:"put",data:t})}function n(e,t){return Object(r["a"])({url:"/fd/corps/".concat(e),method:"put",data:t})}function l(e){return Object(r["a"])({url:"/fd/corps/".concat(e),method:"get"})}},"3c13":function(e,t,a){"use strict";var r=a("43ff"),i=a.n(r);i.a},"43ff":function(e,t,a){},"4a82":function(e,t,a){"use strict";var r=a("7cc1"),i=a.n(r);i.a},"5df3":function(e,t,a){"use strict";var r=a("02f4")(!0);a("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=r(t,a),this._i+=e.length,{value:e,done:!1})}))},"64b9":function(e,t,a){},"68a7":function(e,t,a){"use strict";var r=a("64b9"),i=a.n(r);i.a},"7cc1":function(e,t,a){},"83f2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"service-detail"},[a("el-form",{ref:"serviceForm",staticClass:"service-detail__form",attrs:{"label-position":"right",model:e.productForm,"label-width":"200px"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"basic"}},[a("template",{slot:"title"},[a("h2",[e._v("基本信息")])]),a("div",{staticClass:"margin-right-30 margin-top-20 form-width"},[a("el-form-item",{attrs:{label:"名称",prop:"title",rules:[{required:!0,message:"请填写套餐名称主标题",trigger:"blur"}]}},[a("span",{staticClass:"subtitle"},[e._v("主标题")]),a("div",{staticClass:"form-item"},[a("div",{staticClass:"title-10words"},[a("el-input",{attrs:{disabled:"update"===e.pageType,readonly:e.pageReadOnly,size:"small",maxlength:"10","show-word-limit":"",placeholder:"请填写套餐名称主标题"},model:{value:e.productForm.title,callback:function(t){e.$set(e.productForm,"title",t)},expression:"productForm.title"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.title)+"\n              ")])])]),a("div",{staticStyle:{height:"10px"}}),a("el-form-item",{attrs:{label:"",prop:"sub_title",rules:[{required:!0,message:"请填写套餐名称副标题",trigger:"blur"}]}},[a("span",{staticClass:"subtitle"},[e._v("副标题")]),a("div",{staticClass:"title-10words"},[a("el-input",{attrs:{readonly:e.pageReadOnly,disabled:"update"===e.pageType,size:"small",maxlength:"10","show-word-limit":"",placeholder:"请填写套餐名称副标题"},model:{value:e.productForm.sub_title,callback:function(t){e.$set(e.productForm,"sub_title",t)},expression:"productForm.sub_title"}})],1)]),a("el-form-item",{attrs:{label:"套餐类型",prop:"department",rules:[{required:!0,message:"请选择套餐类型",trigger:"change"}]}},[a("el-select",{attrs:{disabled:"update"===e.pageType||e.pageReadOnly,placeholder:"请选择套餐类型",size:"small"},model:{value:e.productForm.department,callback:function(t){e.$set(e.productForm,"department",t)},expression:"productForm.department"}},e._l(e.packageType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"原价",prop:"market_price",rules:[{required:!0,message:"请填写套餐原价",trigger:"blur"}]}},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"title-10words"},[a("el-input",{attrs:{readonly:e.pageReadOnly,size:"small",placeholder:"请填写套餐原价"},on:{input:function(t){return e.setNumber(t,"mp")},change:function(t){return e.toFixedNum(t,"mp")}},model:{value:e.productForm.market_price,callback:function(t){e.$set(e.productForm,"market_price",t)},expression:"productForm.market_price"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.marketPrice)+"\n              ")])])]),a("el-form-item",{attrs:{label:"现价",prop:"price",rules:[{required:!0,message:"请填写套餐现价",trigger:"blur"}]}},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"title-10words"},[a("el-input",{attrs:{readonly:e.pageReadOnly,size:"small",placeholder:"请填写套餐现价"},on:{input:function(t){return e.setNumber(t,"p")},change:function(t){return e.toFixedNum(t,"p")}},model:{value:e.productForm.price,callback:function(t){e.$set(e.productForm,"price",t)},expression:"productForm.price"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.price)+"\n              ")])])]),a("el-form-item",{attrs:{label:"服务周期",prop:"duration",rules:[{required:!0,message:"请选择服务周期",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:"add"!==e.pageType,step:1,min:1,size:"small"},model:{value:e.productForm.duration,callback:function(t){e.$set(e.productForm,"duration",t)},expression:"productForm.duration"}}),a("span",[e._v(" 个月          ")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.duration)+"\n              ")])])]),a("el-form-item",{attrs:{label:"电子健康评估档案费",prop:"base_price",rules:[{required:!0,message:"请填写电子健康评估档案费",trigger:"blur"}]}},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"title-10words"},[a("el-input",{attrs:{disabled:e.pageReadOnly,size:"small",placeholder:"请填写电子健康评估档案费"},on:{input:function(t){return e.setNumber(t,"bp")},change:function(t){return e.toFixedNum(t,"bp")}},model:{value:e.productForm.base_price,callback:function(t){e.$set(e.productForm,"base_price",t)},expression:"productForm.base_price"}})],1),a("div",[a("span",[e._v(" 元  ")]),a("span",{staticClass:"red-tips"},[e._v(e._s(e.serviceTips.basePrice))])])])])],1)],2),a("el-collapse-item",{attrs:{name:"ask"}},[a("template",{slot:"title"},[a("h2",[e._v("咨询配置")])]),a("div",{staticClass:"form-width"},[a("el-form-item",{attrs:{label:"咨询方式",prop:"ask_mode",rules:[{required:!0,message:"请选择咨询方式",trigger:"change"}]}},[a("el-radio-group",{attrs:{disabled:e.pageReadOnly||"update"===e.pageType},model:{value:e.productForm.ask_mode,callback:function(t){e.$set(e.productForm,"ask_mode",t)},expression:"productForm.ask_mode"}},e._l(e.$store.state.dictionary.productTypes,(function(t,r){return a("el-radio",{key:t.value+r,attrs:{label:t.value}},[e._v(e._s(t.label)+"\n              ")])})),1)],1),a("el-form-item",{attrs:{label:"基础团队服务工作日",prop:"serviceDays",rules:[{required:!0,message:"请选择基础团队服务工作日",trigger:"blur"}]}},[a("el-checkbox",{attrs:{disabled:e.pageReadOnly,indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllDay,callback:function(t){e.checkAllDay=t},expression:"checkAllDay"}},[e._v("全选")]),a("div",{staticStyle:{margin:"5px 0"}}),a("el-checkbox-group",{attrs:{disabled:e.pageReadOnly},on:{change:e.handleCheckedDayChange},model:{value:e.productForm.serviceDays,callback:function(t){e.$set(e.productForm,"serviceDays",t)},expression:"productForm.serviceDays"}},e._l(e.weekdays,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"基础团队每日服务时间",prop:"serviceTime",rules:[{required:!0,message:"请选择基础团队每日服务时间",trigger:"blur"}]}},[a("div",{staticStyle:{width:"350px"}},[a("el-time-picker",{attrs:{readonly:e.pageReadOnly,"is-range":"",format:"HH: mm",size:"small","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.productForm.serviceTime,callback:function(t){e.$set(e.productForm,"serviceTime",t)},expression:"productForm.serviceTime"}})],1)]),e.productForm.department?a("HmForm",{ref:"hmForm",attrs:{"form-role":"CHANKE"===e.productForm.department?"产科医生":"健康管理师","read-only":e.pageReadOnly,"form-type":e.productForm.ask_mode},model:{value:e.productForm.ask_hm,callback:function(t){e.$set(e.productForm,"ask_hm",t)},expression:"productForm.ask_hm"}}):e._e(),"ERKE"===e.productForm.department?a("DoctorAndDietitianForm",{ref:"doctorAndDietitianForm",attrs:{"read-only":e.pageReadOnly,"form-type":e.productForm.ask_mode,"form-role":"医生"},model:{value:e.productForm.ask_doctor,callback:function(t){e.$set(e.productForm,"ask_doctor",t)},expression:"productForm.ask_doctor"}}):e._e(),"ERKE"===e.productForm.department?a("DoctorAndDietitianForm",{ref:"dietitianForm",attrs:{"read-only":e.pageReadOnly,"form-type":e.productForm.ask_mode,"form-role":"营养师"},model:{value:e.productForm.ask_dietitian,callback:function(t){e.$set(e.productForm,"ask_dietitian",t)},expression:"productForm.ask_dietitian"}}):e._e(),"CHANKE"===e.productForm.department?a("OtherDoctorForm",{ref:"otherDoctorForm",attrs:{"read-only":e.pageReadOnly,"form-type":e.productForm.ask_mode},model:{value:e.productForm.ask_common,callback:function(t){e.$set(e.productForm,"ask_common",t)},expression:"productForm.ask_common"}}):e._e()],1)],2),a("el-collapse-item",{attrs:{name:"service"}},[a("template",{slot:"title"},[a("h2",[e._v("服务配置")])]),a("div",{staticClass:"form-width"},[e.productForm.department?a("el-form-item",{attrs:{label:"请勾选需要开启的服务",prop:"enabled_services"}},[a("el-checkbox-group",{attrs:{disabled:e.pageReadOnly},model:{value:e.productForm.enabled_services,callback:function(t){e.$set(e.productForm,"enabled_services",t)},expression:"productForm.enabled_services"}},e._l("CHANKE"===e.productForm.department?e.chankeServices:e.services,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e()],1)],2),a("el-collapse-item",{attrs:{name:"group"}},[a("template",{slot:"title"},[a("h2",[e._v("团队配置")])]),a("div",{staticClass:"form-width"},[a("div",{staticClass:"corps-width"},["CHANKE"===e.productForm.department?a("BasicChankeSelect",{ref:"basicGroupSelect",attrs:{readonly:e.pageReadOnly,prop:"corps",label:"请选择基础服务团队",rules:[{required:!0,message:"请选择基础服务团队",trigger:"change"}]},model:{value:e.productForm.corps,callback:function(t){e.$set(e.productForm,"corps",t)},expression:"productForm.corps"}}):e._e(),"ERKE"===e.productForm.department?a("BasicGroupSelect",{ref:"basicGroupSelect",attrs:{readonly:e.pageReadOnly,prop:"corps",label:"请选择基础服务团队",rules:[{required:!0,message:"请选择基础服务团队",trigger:"change"}]},model:{value:e.productForm.corps,callback:function(t){e.$set(e.productForm,"corps",t)},expression:"productForm.corps"}}):e._e()],1),e.productForm.department?a("el-form-item",{attrs:{label:"ERKE"===e.productForm.department?"占用健康管理师服务资源量":"占用产科医生服务资源量",prop:"hmResource",rules:[{required:!0,message:"占用健康管理师服务/产科医生资源量",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{precision:2,size:"small",disabled:e.pageReadOnly,step:.1,min:0},model:{value:e.productForm.hmResource,callback:function(t){e.$set(e.productForm,"hmResource",t)},expression:"productForm.hmResource"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.hmResource)+"\n              ")])])]):e._e(),"ERKE"===e.productForm.department?a("el-form-item",{attrs:{label:"占用医生服务资源量",prop:"doctorResource",rules:[{required:!0,message:"占用医生服务资源量",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.pageReadOnly,precision:2,step:.1,min:0},model:{value:e.productForm.doctorResource,callback:function(t){e.$set(e.productForm,"doctorResource",t)},expression:"productForm.doctorResource"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.doctorResource)+"\n              ")])])]):e._e(),"ERKE"===e.productForm.department?a("div",{staticClass:"corps-width"},[e.dietitianTeamItemShow?a("DietitianGroupSelect",{ref:"dietitianGroupSelect",attrs:{readonly:e.pageReadOnly,prop:"dietitian_corps",label:"请选择营养师团队",rules:[{required:!0,message:"请选择营养师团队",trigger:"change"}]},model:{value:e.productForm.dietitian_corps,callback:function(t){e.$set(e.productForm,"dietitian_corps",t)},expression:"productForm.dietitian_corps"}}):e._e()],1):e._e(),e.dietitianTeamItemShow&&"ERKE"===e.productForm.department?a("el-form-item",{attrs:{label:"占用营养师服务资源量",prop:"dietitianResource",rules:[{required:!0,message:"占用营养师服务资源量",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.pageReadOnly,step:.1,precision:2,min:0},model:{value:e.productForm.dietitianResource,callback:function(t){e.$set(e.productForm,"dietitianResource",t)},expression:"productForm.dietitianResource"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n                "+e._s(e.serviceTips.dietitianResource)+"\n              ")])])]):e._e()],1)],2),a("el-collapse-item",{attrs:{name:"other"}},[a("template",{slot:"title"},[a("h2",[e._v("其他配置")])]),a("div",{staticClass:"form-width"},[a("el-form-item",{attrs:{label:"套餐描述",prop:"description",rules:[{required:!0,message:"请填写套餐描述",trigger:"blur"}]}},[a("div",{staticStyle:{width:"500px"}},[a("el-input",{attrs:{readonly:e.pageReadOnly,type:"textarea",size:"small",placeholder:"请填写套餐描述"},model:{value:e.productForm.description,callback:function(t){e.$set(e.productForm,"description",t)},expression:"productForm.description"}})],1)]),a("el-form-item",{attrs:{label:"特色和亮点",prop:"advantage",rules:[{required:!0,message:"请填写特色和亮点",trigger:"blur"}]}},[a("div",{staticStyle:{width:"500px"}},[a("el-input",{attrs:{readonly:e.pageReadOnly,type:"textarea",size:"small",placeholder:"请填写特色和亮点"},model:{value:e.productForm.advantage,callback:function(t){e.$set(e.productForm,"advantage",t)},expression:"productForm.advantage"}})],1)])],1)],2)],1),"详情"!==this.pageAction?a("el-form-item",[a("div",{staticClass:"margin-top-20"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("serviceForm")}}},[e._v("确认"+e._s(this.pageAction))])],1)]):e._e()],1),a("el-dialog",{attrs:{title:"套餐信息确认",visible:e.dialogVisible,width:"650px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"confirm"},[a("div",{staticClass:"tips margin-left-20 margin-bottom-30"},[e._v("\n        由于套餐配置项较多，此处仅展示关键项，请您在配置页仔细核对，\n        一旦您修改了套餐内容，将立即更新至用户端小程序！\n      ")]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("套餐名称：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s(e.productForm.title+" "+e.productForm.sub_title)+"\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("套餐类型：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s("ERKE"===e.productForm.department?"儿科":"产科")+"\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("服务周期：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s(e.productForm.duration)+"个月\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("原价：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s(e.productForm.market_price)+".00 元\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("现价：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s(e.productForm.price)+".00 元\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("固定建档费用：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s(e.productForm.base_price)+".00 元\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("咨询方式：")]),a("div",{staticClass:"confirm__item--content"},[e._v("\n          "+e._s(e._f("productType")(e.productForm.ask_mode))+"\n        ")])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("咨询配置：")]),a("div",{staticClass:"confirm__item--content"},[e._v(e._s(e.consultList))])]),a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("基础服务团队：")]),a("div",{staticClass:"confirm__item--content"},[e._v(e._s(e.commonGroupList()))])]),e.dietitianGroupList()?a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("营养师团队：")]),a("div",{staticClass:"confirm__item--content"},[e._v(e._s(e.dietitianGroupList()))])]):e._e(),e.servicesNameList()?a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[e._v("服务配置：")]),a("div",{staticClass:"confirm__item--content"},[e._v(e._s(e.servicesNameList()))])]):e._e(),"修改"===e.pageAction?a("div",{staticClass:"confirm__item"},[a("div",{staticClass:"confirm__item--label"},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("修改原因：\n        ")]),a("div",{staticClass:"confirm__item--content"},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.editReason,callback:function(t){e.editReason=t},expression:"editReason"}})],1)]):e._e(),a("div",{staticClass:"tips margin-left-20"},[e._v("\n        请确保已向用户公示修改内容，避免引发用户投诉!\n      ")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("返回修改")]),a("el-button",{attrs:{type:"primary",loading:e.confirm},on:{click:e.confirmForm}},[e._v("确认"+e._s(this.pageAction))])],1)])])],1)},i=[],s=(a("ac6a"),a("5df3"),a("7f7f"),a("6762"),a("2fdb"),a("c5f6"),a("f1c9")),o=a("2ef0"),n=a.n(o),l=["周日","周一","周二","周三","周四","周五","周六"],c=function(){var e=[];return l.forEach((function(t,a){e.push({label:t,value:a})})),e},u=a("0680"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group-select"},[a("el-form-item",{attrs:{label:e.label,prop:e.prop,rules:e.rules}},[a("el-select",{attrs:{value:e.value,placeholder:e.placeholder,disabled:e.readonly,multiple:"",size:"small",clearable:""},on:{change:e.onValueChange}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}},[e._v(e._s(t.label))])})),1)],1)],1)},d=[],_=a("23ba"),p={data:function(){return{optionValue:"",options:[]}},props:{readonly:{type:Boolean,default:!1},selectDisable:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},moduleName:{type:String,default:"基础服务团队"},label:{type:String,default:"基础服务团队"},prop:{type:String,default:""},rules:{type:Array,default:function(){return[]}},filterOption:{type:String,default:""},placeholder:{type:String,default:"请选择基础服务团队"}},watch:{value:function(e){this.optionValue=e}},created:function(){this.getGroups()},methods:{getGroups:function(){var e=this,t={type:"BASIC_ERKE"};Object(_["d"])(t).then((function(t){var a=t.data.list;e.options=a.map((function(e){return{value:e._id,label:e.name}}))}))},onValueChange:function(e){this.$emit("input",e)}}},v=p,f=(a("68a7"),a("2877")),h=Object(f["a"])(v,m,d,!1,null,null,null),b=h.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group-select"},[a("el-form-item",{attrs:{label:e.label,prop:e.prop,rules:e.rules}},[a("el-select",{attrs:{value:e.value,placeholder:e.placeholder,disabled:e.readonly,multiple:"",size:"small",clearable:""},on:{change:e.onValueChange}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}},[e._v(e._s(t.label))])})),1)],1)],1)},g=[],k={data:function(){return{optionValue:"",options:[]}},props:{readonly:{type:Boolean,default:!1},selectDisable:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},moduleName:{type:String,default:"基础服务团队"},label:{type:String,default:"基础服务团队"},prop:{type:String,default:""},rules:{type:Array,default:function(){return[]}},filterOption:{type:String,default:""},placeholder:{type:String,default:"请选择基础服务团队"}},watch:{value:function(e){this.optionValue=e}},created:function(){this.getGroups()},methods:{getGroups:function(){var e=this,t={type:"BASIC_CHANKE"};Object(_["d"])(t).then((function(t){var a=t.data.list;e.options=a.map((function(e){return{value:e._id,label:e.name}}))}))},onValueChange:function(e){this.$emit("input",e)}}},C=k,F=(a("f017"),Object(f["a"])(C,y,g,!1,null,null,null)),x=F.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group-select"},[a("el-form-item",{attrs:{label:e.label,prop:e.prop,rules:e.rules}},[a("el-select",{attrs:{value:e.value,placeholder:e.placeholder,disabled:e.readonly,multiple:"",size:"small",clearable:""},on:{change:e.onValueChange}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}},[e._v(e._s(t.label))])})),1)],1)],1)},D=[],R={data:function(){return{optionValue:"",options:[]}},props:{readonly:{type:Boolean,default:!1},selectDisable:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},moduleName:{type:String,default:"营养师团队"},label:{type:String,default:"营养师团队"},prop:{type:String,default:""},rules:{type:Array,default:function(){return[]}},filterOption:{type:String,default:""},placeholder:{type:String,default:"请选择营养师团队团队"}},watch:{value:function(e){this.optionValue=e}},created:function(){this.getGroups()},methods:{getGroups:function(){var e=this,t={type:"COMMON",category:"DIETICIAN"};Object(_["d"])(t).then((function(t){var a=t.data.list;e.options=a.map((function(e){return{value:e._id,label:e.name}}))}))},onValueChange:function(e){this.$emit("input",e)}}},T=R,$=(a("3c13"),Object(f["a"])(T,O,D,!1,null,null,null)),N=$.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"margin-bottom-30"},[e._v(e._s(e.formRole)+"服务")]),a("el-form",{ref:"hmForm",attrs:{model:e.value,"label-position":"right","label-width":"220px"}},["ROUND"===e.formType?a("el-form-item",{attrs:{label:"服务期内咨询总次数",prop:"counts",rules:[{required:!0,message:"请选择服务期内咨询总次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1},model:{value:e.value.counts,callback:function(t){e.$set(e.value,"counts",t)},expression:"value.counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmCounts)+"\n        ")])])]):e._e(),"ROUND"===e.formType?a("el-form-item",{attrs:{label:"每月咨询次数上限",prop:"counts_per_month",rules:[{required:!0,message:"请选择每月咨询次数上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1,max:e.value.counts},model:{value:e.value.counts_per_month,callback:function(t){e.$set(e.value,"counts_per_month",t)},expression:"value.counts_per_month"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmCountsPerMonth)+"\n        ")])])]):e._e(),"ROUND"===e.formType?a("el-form-item",{attrs:{label:"单次咨询回合数上限",prop:"round_counts",rules:[{required:!0,message:"请选择单次咨询回合数上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1},model:{value:e.value.round_counts,callback:function(t){e.$set(e.value,"round_counts",t)},expression:"value.round_counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmRoundCounts)+"\n        ")])])]):e._e(),"ROUND"===e.formType?a("el-form-item",{attrs:{label:"允许临时增加单次咨询回合数",prop:"appendable",rules:[{required:!0,message:"允许临时增加单次咨询回合数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-radio-group",{attrs:{disabled:e.readOnly},model:{value:e.value.appendable,callback:function(t){e.$set(e.value,"appendable",t)},expression:"value.appendable"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmAppendable)+"\n        ")])])]):e._e(),a("el-form-item",{attrs:{label:"IM"===e.formType?"咨询首次响应时间上限":"咨询首回合响应时长",prop:"first_delay_hour",rules:[{required:!0,message:"请选择咨询首次响应时间上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"first")}},model:{value:e.value.first_delay_hour,callback:function(t){e.$set(e.value,"first_delay_hour",t)},expression:"value.first_delay_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:10,min:e.getDelayMinuteFrom().first,max:59},model:{value:e.value.first_delay_minute,callback:function(t){e.$set(e.value,"first_delay_minute",t)},expression:"value.first_delay_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s("IM"===e.formType?e.serviceTips.askHmFirstDelay:e.serviceTips.askHmFirstDelayRound)+"\n        ")])])]),a("el-form-item",{attrs:{label:"IM"===e.formType?"咨询非首次响应时间上限":"咨询非首回合响应时长",prop:"common_delay_hour",rules:[{required:!0,message:"请选择咨询首次响应时间上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"common")}},model:{value:e.value.common_delay_hour,callback:function(t){e.$set(e.value,"common_delay_hour",t)},expression:"value.common_delay_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",step:10,disabled:e.readOnly,min:e.getDelayMinuteFrom().common,max:59},model:{value:e.value.common_delay_minute,callback:function(t){e.$set(e.value,"common_delay_minute",t)},expression:"value.common_delay_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmCommonDelay)+"\n        ")])])]),a("el-form-item",{attrs:{label:"ROUND"===e.formType?"单次咨询每回合用户响应时长":"单次咨询用户响应时长",prop:"max_duration_hour",rules:[{required:!0,message:"单次咨询每回合用户响应时长",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"duration")}},model:{value:e.value.max_duration_hour,callback:function(t){e.$set(e.value,"max_duration_hour",t)},expression:"value.max_duration_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",step:10,min:e.getDelayMinuteFrom().duration,max:59},model:{value:e.value.max_duration_minute,callback:function(t){e.$set(e.value,"max_duration_minute",t)},expression:"value.max_duration_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.ashHmMaxDuration)+"\n        ")])])])],1)],1)},A=[],w={title:"展示在小程序，主副标题仅用于小程序购买页面分行显示，主标题展示在第一行，副标题展示在第二行,除此之外将主副标题合并展示为套餐名称",marketPrice:"仅用作展示，非实际签约套餐价格，请填写正数，保留两位小数",price:"现价为实际签约套餐价格，请填写正数，保留两位小数，现价<=原价",duration:"最小1个月，正整数",basePrice:"该费用用于计算退款金额，保留两位小数，金额小于现价",askHmCounts:"服务期内允许发起的健康咨询总次数",askHmCountsPerMonth:"每月达到上限将无法发起健康咨询，小于等于服务期内咨询总次数",askHmRoundCounts:"单次咨询达到上限将结束咨询，用户每回合仅允许发送一次消息，服务人员无限制",askHmAppendable:"开启后单次咨询达到回合上限时可临时增加回合数",askHmFirstDelay:"用户发起咨询后服务团队需在该时间内响应，不低于15分钟",askHmFirstDelayRound:"用户发起咨询后服务团队需在该时间内完成首回合响应，不低于15分钟",askHmCommonDelay:"在咨询过程中，服务团队须在该时间内响应，不低于15分钟",ashHmMaxDuration:"单次咨询中用户在响应时长内未回复,系统将结束本次咨询，不低于15分钟",hmResource:"例如：原2980元的年套餐占用健康管理师服务资源1，该套餐工作时间较短，节约服务资源，可设置为0.6",doctorResource:"例如：原2980元的年套餐占用医生服务资源1，该套餐工作时间较短，节约服务资源，可设置为0.6",dietitianResource:"例如：原2980元的年套餐占用营养师服务资源1， 该套餐工作时间较短，节约服务资源，可设置为0.6",doctorCounts:"服务期内允许发起的医生图文转诊的总次数",otherCounts:"服务期内允许发起的图文转诊的总次数",dietitianCounts:"服务期内允许发起的营养师图文转诊的总次数",doctorCountsPerMonth:"每月达到上限将无法发起医生图文转诊，小于等于服务期内医生图文转诊总次数",otherCountsPerMonth:"每月达到上限将无法发起图文转诊，小于等于服务期内图文转诊总次数",dietitianCountsPerMonth:"每月达到上限将无法发起营养师图文转诊。小于等于服务期内营养师图文转诊总次数",doctorFirstDelay:"成功转诊后医生须在该时间内响应，不低于15分钟",otherFirstDelay:"成功转诊后服务人员须在该时间内响应，不低于15分钟",dietitianFirstDelay:"成功转诊后营养师须在该时间内响应，不低于15分钟",doctorCommonDelay:"在图文转诊过程中医生须在该时间内响应，不低于15分钟",otherCommonDelay:"在图文转诊过程中服务人员须在该时间内响应，不低于15分钟",dietitianCommonDelay:"在图文转诊过程中营养师须在该时间内响应，不低于15分钟",doctorMaxDuration:"图文转诊中用户在响应时长内未回复系统将结束本次转诊，不低于15分钟",doctorVoiceCounts:"服务期内允许发起的医生电话转诊的总次数",doctorVoiceCountsPerMonth:"每月达到上限将无法发起医生电话转诊",otherVoiceCounts:"服务期内允许发起的电话转诊的总次数",otherVoiceCountsPerMonth:"每月达到上限将无法发起电话转诊"},E=a("c1df"),H=a.n(E),q={name:"HmForm",props:{value:{type:Object,default:function(){}},formType:{type:String,default:""},readOnly:{type:Boolean,default:!1},formRole:{type:String,default:"健康管理师"}},data:function(){return{serviceTips:w}},methods:{onHourChange:function(e,t){"first"===t?0===e&&(this.value.first_delay_minute=10):"common"===t?0===e&&(this.value.common_delay_minute=10):"duration"===t&&0===e&&(this.value.max_duration_minute=10)},getDelayMinuteFrom:function(){var e=15,t=15,a=15;return this.value.first_delay_hour>0&&(e=0),this.value.common_delay_hour>0&&(t=0),this.value.max_duration_hour>0&&(a=0),{first:e,common:t,duration:a}},formatDuration:function(e,t){var a="PT".concat(e,"H").concat(t,"M");return H.a.duration(a).asMinutes()}}},z=q,M=(a("9815"),Object(f["a"])(z,S,A,!1,null,"153abe8a",null)),j=M.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"margin-bottom-30"},[e._v(e._s(e.formRole)+"服务")]),a("el-form",{ref:"doctorAndDietitianForm",attrs:{model:e.value,"label-position":"right","label-width":"220px"}},[a("el-form-item",{attrs:{label:"是否允许图文转诊",prop:"enable",rules:[{required:!0,message:"",trigger:"change"}]}},[a("el-radio-group",{attrs:{disabled:e.readOnly},model:{value:e.value.enable,callback:function(t){e.$set(e.value,"enable",t)},expression:"value.enable"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e.value.enable?a("el-form-item",{attrs:{label:"服务期内图文转诊总次数",prop:"counts",rules:[{required:!0,message:"请选择服务期内咨询总次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:1,min:1},model:{value:e.value.counts,callback:function(t){e.$set(e.value,"counts",t)},expression:"value.counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s("医生"===e.formRole?e.serviceTips.doctorCounts:e.serviceTips.dietitianCounts)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"每月图文转诊次数上限",prop:"counts_per_month",rules:[{required:!0,message:"每月图文转诊次数上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:1,min:1,max:e.value.counts},model:{value:e.value.counts_per_month,callback:function(t){e.$set(e.value,"counts_per_month",t)},expression:"value.counts_per_month"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s("医生"===e.formRole?e.serviceTips.doctorCountsPerMonth:e.serviceTips.dietitianCountsPerMonth)+"\n        ")])])]):e._e(),"ROUND"===e.formType&&e.value.enable?a("el-form-item",{attrs:{label:"图文转诊回合数上限",prop:"round_counts",rules:[{required:!0,message:"请选择单次咨询回合数上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1},model:{value:e.value.round_counts,callback:function(t){e.$set(e.value,"round_counts",t)},expression:"value.round_counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmRoundCounts)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"ROUND"===e.formType?"图文转诊首回合响应时长":"转诊成功后首次响应时间上限",prop:"first_delay_hour",rules:[{required:!0,message:"",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:1,min:0},on:{change:function(t){return e.onHourChange(t,"first")}},model:{value:e.value.first_delay_hour,callback:function(t){e.$set(e.value,"first_delay_hour",t)},expression:"value.first_delay_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:10,max:59,min:e.getDelayMinuteFrom().first},model:{value:e.value.first_delay_minute,callback:function(t){e.$set(e.value,"first_delay_minute",t)},expression:"value.first_delay_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s("医生"===e.formRole?e.serviceTips.doctorFirstDelay:e.serviceTips.dietitianFirstDelay)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{disabled:e.readOnly,label:"ROUND"===e.formType?"图文转诊非首回合响应时长":"转诊成功后非首次响应时间上限",prop:"common_delay_hour",rules:[{required:!0,message:"请选择咨询首次响应时间上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"common")}},model:{value:e.value.common_delay_hour,callback:function(t){e.$set(e.value,"common_delay_hour",t)},expression:"value.common_delay_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:10,max:59,min:e.getDelayMinuteFrom().common},model:{value:e.value.common_delay_minute,callback:function(t){e.$set(e.value,"common_delay_minute",t)},expression:"value.common_delay_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s("医生"===e.formRole?e.serviceTips.doctorCommonDelay:e.serviceTips.dietitianCommonDelay)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"ROUND"===e.formType?"图文转诊每回合用户响应时长":"图文转诊用户响应时长",prop:"max_duration_hour",rules:[{required:!0,message:"图文转诊每回合用户响应时长",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"duration")}},model:{value:e.value.max_duration_hour,callback:function(t){e.$set(e.value,"max_duration_hour",t)},expression:"value.max_duration_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:10,max:59,min:e.getDelayMinuteFrom().duration},model:{value:e.value.max_duration_minute,callback:function(t){e.$set(e.value,"max_duration_minute",t)},expression:"value.max_duration_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.doctorMaxDuration)+"\n        ")])])]):e._e(),"医生"===e.formRole?a("el-form-item",{attrs:{label:"是否允许电话转诊",prop:"enable_voice",rules:[{required:!0,message:"",trigger:"change"}]}},[a("el-radio-group",{attrs:{disabled:e.readOnly},model:{value:e.value.enable_voice,callback:function(t){e.$set(e.value,"enable_voice",t)},expression:"value.enable_voice"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1):e._e(),e.value.enable_voice&&"医生"===e.formRole?a("el-form-item",{attrs:{label:"服务期内电话转诊总次数",prop:"counts",rules:[{required:!0,message:"请选择服务期内电话转诊总次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1},model:{value:e.value.voice_counts,callback:function(t){e.$set(e.value,"voice_counts",t)},expression:"value.voice_counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.doctorVoiceCounts)+"\n        ")])])]):e._e(),e.value.enable_voice&&"医生"===e.formRole?a("el-form-item",{attrs:{label:"每月电话转诊次数上限",prop:"counts",rules:[{required:!0,message:"每月电话转诊次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1,max:e.value.voice_counts},model:{value:e.value.voice_counts_per_month,callback:function(t){e.$set(e.value,"voice_counts_per_month",t)},expression:"value.voice_counts_per_month"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.doctorVoiceCountsPerMonth)+"\n        ")])])]):e._e(),"营养师"===e.formRole&&e.value.enable?a("el-form-item",{attrs:{label:"营养师团队服务工作日",prop:"service_days",rules:[{required:!0,message:"营养师团队服务工作日",trigger:"change"}]}},[a("el-checkbox",{attrs:{disabled:e.readOnly,indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllDay,callback:function(t){e.checkAllDay=t},expression:"checkAllDay"}},[e._v("全选")]),a("div",{staticStyle:{margin:"5px 0"}}),a("el-checkbox-group",{attrs:{disabled:e.readOnly},on:{change:e.handleCheckedDayChange},model:{value:e.value.service_days,callback:function(t){e.$set(e.value,"service_days",t)},expression:"value.service_days"}},e._l(e.weekdays,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),"营养师"===e.formRole&&e.value.enable?a("el-form-item",{attrs:{label:"营养师团队每日服务时间",prop:"serviceTime",rules:[{required:!0,message:"营养师团队每日服务时间",trigger:"blur"}]}},[a("div",{staticStyle:{width:"350px"}},[a("el-time-picker",{attrs:{readonly:e.readOnly,"is-range":"",format:"HH : mm",size:"small","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.value.serviceTime,callback:function(t){e.$set(e.value,"serviceTime",t)},expression:"value.serviceTime"}})],1)]):e._e()],1)],1)},V=[],I={props:{value:{type:Object,default:function(){}},formType:{type:String,default:""},formRole:{type:String,default:""},readOnly:{type:Boolean,default:!1}},data:function(){return{serviceTips:w,weekdays:c(),isIndeterminate:!1,checkAllDay:!1}},methods:{onHourChange:function(e,t){"first"===t?0===e&&(this.value.first_delay_minute=10):"common"===t?0===e&&(this.value.common_delay_minute=10):"duration"===t&&0===e&&(this.value.max_duration_minute=10)},getDelayMinuteFrom:function(){var e=15,t=15,a=15;return this.value.first_delay_hour>0&&(e=0),this.value.common_delay_hour>0&&(t=0),this.value.max_duration_hour>0&&(a=0),{first:e,common:t,duration:a}},handleCheckedDayChange:function(e){var t=e.length;this.checkAllDay=t===this.weekdays.length,this.isIndeterminate=t>0&&t<this.weekdays.length},handleCheckAllChange:function(e){this.value.service_days=e?c().map((function(e){return e.value})):[],this.isIndeterminate=!1},validForm:function(){return this.$refs.doctorAndDietitianForm.validate()}}},G=I,P=(a("4a82"),Object(f["a"])(G,K,V,!1,null,"511a9dcd",null)),U=P.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"margin-bottom-30"},[e._v("其他科室服务")]),a("div",{staticClass:"other-tips"},[e._v("\n    注：目前其他科室服务团队包含内分泌科医生和营养师，共享转诊次数，营养师暂无电话转诊功能。\n  ")]),a("el-form",{ref:"doctorAndDietitianForm",attrs:{model:e.value,"label-position":"right","label-width":"220px"}},[a("el-form-item",{attrs:{label:"是否允许图文转诊",prop:"enable",rules:[{required:!0,message:"",trigger:"change"}]}},[a("el-radio-group",{attrs:{disabled:e.readOnly},model:{value:e.value.enable,callback:function(t){e.$set(e.value,"enable",t)},expression:"value.enable"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e.value.enable?a("el-form-item",{attrs:{label:"服务期内图文转诊总次数",prop:"counts",rules:[{required:!0,message:"请选择服务期内咨询总次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:1,min:1},model:{value:e.value.counts,callback:function(t){e.$set(e.value,"counts",t)},expression:"value.counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.otherCounts)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"每月图文转诊次数上限",prop:"counts_per_month",rules:[{required:!0,message:"每月图文转诊次数上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:1,min:1,max:e.value.counts},model:{value:e.value.counts_per_month,callback:function(t){e.$set(e.value,"counts_per_month",t)},expression:"value.counts_per_month"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.otherCountsPerMonth)+"\n        ")])])]):e._e(),"ROUND"===e.formType&&e.value.enable?a("el-form-item",{attrs:{label:"图文转诊回合数上限",prop:"round_counts",rules:[{required:!0,message:"请选择单次咨询回合数上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1},model:{value:e.value.round_counts,callback:function(t){e.$set(e.value,"round_counts",t)},expression:"value.round_counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.askHmRoundCounts)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"ROUND"===e.formType?"图文转诊首回合响应时长":"转诊成功后首次响应时间上限",prop:"first_delay_hour",rules:[{required:!0,message:"",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:1,min:0},on:{change:function(t){return e.onHourChange(t,"first")}},model:{value:e.value.first_delay_hour,callback:function(t){e.$set(e.value,"first_delay_hour",t)},expression:"value.first_delay_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{disabled:e.readOnly,size:"small",step:10,max:59,min:e.getDelayMinuteFrom().first},model:{value:e.value.first_delay_minute,callback:function(t){e.$set(e.value,"first_delay_minute",t)},expression:"value.first_delay_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.otherFirstDelay)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{disabled:e.readOnly,label:"ROUND"===e.formType?"图文转诊非首回合响应时长":"转诊成功后非首次响应时间上限",prop:"common_delay_hour",rules:[{required:!0,message:"请选择咨询首次响应时间上限",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"common")}},model:{value:e.value.common_delay_hour,callback:function(t){e.$set(e.value,"common_delay_hour",t)},expression:"value.common_delay_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:10,max:59,min:e.getDelayMinuteFrom().common},model:{value:e.value.common_delay_minute,callback:function(t){e.$set(e.value,"common_delay_minute",t)},expression:"value.common_delay_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.otherCommonDelay)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"ROUND"===e.formType?"图文转诊每回合用户响应时长":"图文转诊用户响应时长",prop:"max_duration_hour",rules:[{required:!0,message:"图文转诊每回合用户响应时长",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:0},on:{change:function(t){return e.onHourChange(t,"duration")}},model:{value:e.value.max_duration_hour,callback:function(t){e.$set(e.value,"max_duration_hour",t)},expression:"value.max_duration_hour"}}),a("span",[e._v(" 小时    ")]),a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:10,max:59,min:e.getDelayMinuteFrom().duration},model:{value:e.value.max_duration_minute,callback:function(t){e.$set(e.value,"max_duration_minute",t)},expression:"value.max_duration_minute"}}),a("span",[e._v(" 分钟")])],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.doctorMaxDuration)+"\n        ")])])]):e._e(),a("el-form-item",{attrs:{label:"是否允许电话转诊",prop:"enable_voice",rules:[{required:!0,message:"",trigger:"change"}]}},[a("el-radio-group",{attrs:{disabled:e.readOnly},model:{value:e.value.enable_voice,callback:function(t){e.$set(e.value,"enable_voice",t)},expression:"value.enable_voice"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e.value.enable_voice?a("el-form-item",{attrs:{label:"服务期内电话转诊总次数",prop:"counts",rules:[{required:!0,message:"请选择服务期内电话转诊总次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1},model:{value:e.value.voice_counts,callback:function(t){e.$set(e.value,"voice_counts",t)},expression:"value.voice_counts"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.otherVoiceCounts)+"\n        ")])])]):e._e(),e.value.enable_voice?a("el-form-item",{attrs:{label:"每月电话转诊次数上限",prop:"counts",rules:[{required:!0,message:"每月电话转诊次数",trigger:"change"}]}},[a("div",{staticClass:"form-item"},[a("div",[a("el-input-number",{attrs:{size:"small",disabled:e.readOnly,step:1,min:1,max:e.value.voice_counts},model:{value:e.value.voice_counts_per_month,callback:function(t){e.$set(e.value,"voice_counts_per_month",t)},expression:"value.voice_counts_per_month"}})],1),a("div",{staticClass:"red-tips margin-left-20"},[e._v("\n          "+e._s(e.serviceTips.otherVoiceCountsPerMonth)+"\n        ")])])]):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"其他科室人员服务工作日",prop:"service_days",rules:[{required:!0,message:"其他科室人员服务工作日",trigger:"change"}]}},[a("el-checkbox",{attrs:{disabled:e.readOnly,indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllDay,callback:function(t){e.checkAllDay=t},expression:"checkAllDay"}},[e._v("全选")]),a("div",{staticStyle:{margin:"5px 0"}}),a("el-checkbox-group",{attrs:{disabled:e.readOnly},on:{change:e.handleCheckedDayChange},model:{value:e.value.service_days,callback:function(t){e.$set(e.value,"service_days",t)},expression:"value.service_days"}},e._l(e.weekdays,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),e.value.enable?a("el-form-item",{attrs:{label:"其他科室医生每日服务时间",prop:"serviceTime",rules:[{required:!0,message:"其他科室医生每日服务时间",trigger:"blur"}]}},[a("div",{staticStyle:{width:"350px"}},[a("el-time-picker",{attrs:{readonly:e.readOnly,"is-range":"",format:"HH : mm",size:"small","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.value.serviceTime,callback:function(t){e.$set(e.value,"serviceTime",t)},expression:"value.serviceTime"}})],1)]):e._e()],1)],1)},L=[],J={props:{value:{type:Object,default:function(){}},formType:{type:String,default:""},readOnly:{type:Boolean,default:!1}},data:function(){return{serviceTips:w,weekdays:c(),isIndeterminate:!1,checkAllDay:!1}},methods:{onHourChange:function(e,t){"first"===t?0===e&&(this.value.first_delay_minute=10):"common"===t?0===e&&(this.value.common_delay_minute=10):"duration"===t&&0===e&&(this.value.max_duration_minute=10)},getDelayMinuteFrom:function(){var e=15,t=15,a=15;return this.value.first_delay_hour>0&&(e=0),this.value.common_delay_hour>0&&(t=0),this.value.max_duration_hour>0&&(a=0),{first:e,common:t,duration:a}},handleCheckedDayChange:function(e){var t=e.length;this.checkAllDay=t===this.weekdays.length,this.isIndeterminate=t>0&&t<this.weekdays.length},handleCheckAllChange:function(e){this.value.service_days=e?c().map((function(e){return e.value})):[],this.isIndeterminate=!1},validForm:function(){return this.$refs.doctorAndDietitianForm.validate()}}},Q=J,W=(a("c126"),Object(f["a"])(Q,B,L,!1,null,"89bebe64",null)),X=W.exports,Y=a("db72");function Z(e,t){return"PT".concat(e,"H").concat(t,"M")}function ee(e){return"P".concat(e,"M")}function te(e){var t=H()(e).startOf("days"),a=H()(e),r=H.a.duration(a.diff(t));return r.toISOString()}function ae(e){return Math.round(H.a.duration(e).asMonths())}function re(e){return H.a.duration(e).hours()}function ie(e){return H.a.duration(e).minutes()}function se(e,t){var a=new Date(H()().startOf("days")+H.a.duration(e)),r=new Date(H()().startOf("days")+H.a.duration(t));return[a,r]}function oe(e){var t={ask_doctor:{},ask_dietitian:{},ask_hm:{},ask_common:{}};return t.title=e.title,t.sub_title=e.sub_title,t.department=e.department,t.market_price=100*e.market_price,t.price=100*e.price,t.base_price=100*e.base_price,t.duration=ee(e.duration),t.corps=e.corps,"ERKE"===t.department&&(t.dietitian_corps=e.dietitian_corps),t.ask_mode=e.ask_mode,t.description=e.description,t.advantage=e.advantage,t.enabled_services=e.enabled_services,t.ask_hm.service_days=e.serviceDays,t.ask_hm.service_days_start=te(e.serviceTime[0]),t.ask_hm.service_days_end=te(e.serviceTime[1]),t.ask_hm.resource=100*e.hmResource,"ERKE"===t.department&&(t.ask_doctor.resource=100*e.doctorResource,t.ask_dietitian.resource=100*e.dietitianResource),t.ask_hm.first_delay=Z(e.ask_hm.first_delay_hour,e.ask_hm.first_delay_minute),t.ask_hm.common_delay=Z(e.ask_hm.common_delay_hour,e.ask_hm.common_delay_minute),t.ask_hm.user_delay=Z(e.ask_hm.max_duration_hour,e.ask_hm.max_duration_minute),"ROUND"===e.ask_mode&&(t.ask_hm.counts=e.ask_hm.counts,t.ask_hm.counts_per_month=e.ask_hm.counts_per_month,t.ask_hm.round_counts=e.ask_hm.round_counts,t.ask_hm.appendable=e.ask_hm.appendable),"ERKE"===t.department?(t.ask_doctor.enable=e.ask_doctor.enable,t.ask_doctor.enable_voice=e.ask_doctor.enable_voice,t.ask_dietitian.enable=e.ask_dietitian.enable,t.ask_common.enable=!1):"CHANKE"===t.department&&(t.ask_common.enable=e.ask_common.enable,t.ask_common.enable_voice=e.ask_common.enable_voice,t.ask_dietitian.enable=!1),"ERKE"===t.department&&e.ask_doctor.enable&&(t.ask_doctor.counts=e.ask_doctor.counts,t.ask_doctor.counts_per_month=e.ask_doctor.counts_per_month,t.ask_doctor.first_delay=Z(e.ask_doctor.first_delay_hour,e.ask_doctor.first_delay_minute),t.ask_doctor.common_delay=Z(e.ask_doctor.common_delay_hour,e.ask_doctor.common_delay_minute),t.ask_doctor.user_delay=Z(e.ask_doctor.max_duration_hour,e.ask_doctor.max_duration_minute),"ROUND"===e.ask_mode&&(t.ask_doctor.round_counts=e.ask_doctor.round_counts)),"ERKE"===t.department&&e.ask_doctor.enable_voice&&(t.ask_doctor.voice_counts=e.ask_doctor.voice_counts,t.ask_doctor.voice_counts_per_month=e.ask_doctor.voice_counts_per_month),"ERKE"===t.department&&e.ask_dietitian.enable&&(t.ask_dietitian.counts=e.ask_dietitian.counts,t.ask_dietitian.counts_per_month=e.ask_dietitian.counts_per_month,t.ask_dietitian.first_delay=Z(e.ask_dietitian.first_delay_hour,e.ask_dietitian.first_delay_minute),t.ask_dietitian.common_delay=Z(e.ask_dietitian.common_delay_hour,e.ask_dietitian.common_delay_minute),t.ask_dietitian.user_delay=Z(e.ask_dietitian.max_duration_hour,e.ask_dietitian.max_duration_minute),t.ask_dietitian.service_days=e.ask_dietitian.service_days,t.ask_dietitian.service_days_start=te(e.ask_dietitian.serviceTime[0]),t.ask_dietitian.service_days_end=te(e.ask_dietitian.serviceTime[1]),"ROUND"===e.ask_mode&&(t.ask_dietitian.round_counts=e.ask_dietitian.round_counts)),"CHANKE"===t.department&&e.ask_common.enable&&(t.ask_common.counts=e.ask_common.counts,t.ask_common.counts_per_month=e.ask_common.counts_per_month,t.ask_common.first_delay=Z(e.ask_common.first_delay_hour,e.ask_common.first_delay_minute),t.ask_common.common_delay=Z(e.ask_common.common_delay_hour,e.ask_common.common_delay_minute),t.ask_common.user_delay=Z(e.ask_common.max_duration_hour,e.ask_common.max_duration_minute),"ROUND"===e.ask_mode&&(t.ask_common.round_counts=e.ask_common.round_counts),t.ask_common.service_days=e.ask_common.service_days,t.ask_common.service_days_start=te(e.ask_common.serviceTime[0]),t.ask_common.service_days_end=te(e.ask_common.serviceTime[1])),"CHANKE"===t.department&&e.ask_common.enable_voice&&(t.ask_common.voice_counts=e.ask_common.voice_counts,t.ask_common.voice_counts_per_month=e.ask_common.voice_counts_per_month),"CHANKE"===t.department&&(t.ask_doctor=Object(Y["a"])({},t.ask_hm,{enable:!0,enable_voice:!1}),t.ask_hm={enable:!1}),t}var ne=function(e){var t=e.title,a=e.sub_title,r=e.department,i=e.corps,s=e.dietitian_corps,o=e.ask_mode,n=e.description,l=e.advantage,c=e.enabled_services,u={title:t,sub_title:a,department:r,corps:i,dietitian_corps:s,ask_mode:o,description:n,advantage:l,enabled_services:c};u.market_price=e.market_price/100,u.price=e.price/100,u.base_price=e.base_price/100,u.duration=ae(e.duration),"CHANKE"===u.department&&(e.ask_hm=e.ask_doctor),u.serviceDays=e.ask_hm.service_days,u.serviceTime=se(e.ask_hm.service_days_start,e.ask_hm.service_days_end),u.hmResource=e.ask_hm.resource/100,u.doctorResource=e.ask_doctor.resource/100,u.dietitianResource=e.ask_dietitian.resource/100;var m={counts:e.ask_hm.counts,counts_per_month:e.ask_hm.counts_per_month,round_counts:e.ask_hm.round_counts,appendable:e.ask_hm.appendable,first_delay_hour:re(e.ask_hm.first_delay),first_delay_minute:ie(e.ask_hm.first_delay),common_delay_hour:re(e.ask_hm.common_delay),common_delay_minute:ie(e.ask_hm.common_delay),max_duration_hour:re(e.ask_hm.user_delay),max_duration_minute:ie(e.ask_hm.user_delay)};u.ask_hm=m;var d={enable:e.ask_doctor.enable,enable_voice:e.ask_doctor.enable_voice,counts:e.ask_doctor.counts,counts_per_month:e.ask_doctor.counts_per_month,round_counts:e.ask_doctor.round_counts,first_delay_hour:re(e.ask_doctor.first_delay),first_delay_minute:ie(e.ask_doctor.first_delay),common_delay_hour:re(e.ask_doctor.common_delay),common_delay_minute:ie(e.ask_doctor.common_delay),max_duration_hour:re(e.ask_doctor.user_delay),max_duration_minute:ie(e.ask_doctor.user_delay),voice_counts:e.ask_doctor.voice_counts,voice_counts_per_month:e.ask_doctor.voice_counts_per_month};u.ask_doctor=d;var _={enable:e.ask_dietitian.enable,counts:e.ask_dietitian.counts,counts_per_month:e.ask_dietitian.counts_per_month,round_counts:e.ask_dietitian.round_counts,first_delay_hour:re(e.ask_dietitian.first_delay),first_delay_minute:ie(e.ask_dietitian.first_delay),common_delay_hour:re(e.ask_dietitian.common_delay),common_delay_minute:ie(e.ask_dietitian.common_delay),max_duration_hour:re(e.ask_dietitian.user_delay),max_duration_minute:ie(e.ask_dietitian.user_delay),service_days:e.ask_dietitian.service_days,serviceTime:se(e.ask_dietitian.service_days_start,e.ask_dietitian.service_days_end)};u.ask_dietitian=_;var p={enable:e.ask_common.enable,enable_voice:e.ask_common.enable_voice,counts:e.ask_common.counts,counts_per_month:e.ask_common.counts_per_month,round_counts:e.ask_common.round_counts,first_delay_hour:re(e.ask_common.first_delay),first_delay_minute:ie(e.ask_common.first_delay),common_delay_hour:re(e.ask_common.common_delay),common_delay_minute:ie(e.ask_common.common_delay),max_duration_hour:re(e.ask_common.user_delay),max_duration_minute:ie(e.ask_common.user_delay),service_days:e.ask_common.service_days,serviceTime:se(e.ask_common.service_days_start,e.ask_common.service_days_end),voice_counts:e.ask_common.voice_counts,voice_counts_per_month:e.ask_common.voice_counts_per_month};return u.ask_common=p,u},le=["basic","ask","service","other","group"],ce={components:{BasicGroupSelect:b,BasicChankeSelect:x,DietitianGroupSelect:N,HmForm:j,DoctorAndDietitianForm:U,OtherDoctorForm:X},data:function(){return{packageType:Object(u["b"])("","arr"),confirm:!1,serviceTips:w,activeNames:le,productForm:{title:"",sub_title:"",department:"",corps:[],dietitian_corps:[],ask_mode:"ROUND",description:"",advantage:"",enabled_services:[],market_price:null,price:null,base_price:null,duration:1,serviceDays:[],serviceTime:"",hmResource:0,dietitianResource:0,doctorResource:0,ask_hm:{counts:0,counts_per_month:0,round_counts:0,appendable:!0,first_delay_hour:0,first_delay_minute:0,common_delay_hour:0,common_delay_minute:0,max_duration_hour:0,max_duration_minute:0},ask_doctor:{enable:!0,appendable:!0,counts:0,counts_per_month:0,round_counts:0,first_delay_hour:0,first_delay_minute:0,common_delay_hour:0,common_delay_minute:0,max_duration_hour:0,max_duration_minute:0,enable_voice:!0,voice_counts:0,voice_counts_per_month:0},ask_dietitian:{enable:!0,counts:0,counts_per_month:0,round_counts:0,first_delay_hour:0,first_delay_minute:0,common_delay_hour:0,common_delay_minute:0,max_duration_hour:0,max_duration_minute:0,service_days:[],serviceTime:""},ask_common:{enable:!0,counts:0,counts_per_month:0,round_counts:0,first_delay_hour:0,first_delay_minute:0,common_delay_hour:0,common_delay_minute:0,max_duration_hour:0,max_duration_minute:0,enable_voice:!0,voice_counts:0,voice_counts_per_month:0,service_days:[],serviceTime:""}},dialogVisible:!1,editReason:"",weekdays:c(),isIndeterminate:!1,checkAllDay:!1,services:[],chankeServices:[],corps:[]}},watch:{},created:function(){var e=this;this.getServices();var t=this.$route.params.id;t&&Object(s["c"])(t).then((function(t){var a=n.a.cloneDeep(t.data);e.productForm=ne(a),e.checkAllDay=7===e.productForm.serviceDays.length,e.$nextTick((function(){e.$refs.dietitianForm&&(e.$refs.dietitianForm.checkAllDay=7===e.productForm.ask_dietitian.service_days.length),e.$refs.otherDoctorForm&&(e.$refs.otherDoctorForm.checkAllDay=7===e.productForm.ask_common.service_days.length)}))}))},methods:{getDepartment:u["b"],setNumber:function(e,t){"mp"===t&&isNaN(Number(e))&&(this.productForm.market_price=""),"p"===t&&isNaN(Number(e))&&(this.productForm.price=""),"bp"===t&&isNaN(Number(e))&&(this.productForm.base_price="")},toFixedNum:function(e,t){e&&("mp"===t&&Number(e)&&(this.productForm.market_price=Number(e).toFixed(2)),"p"===t&&Number(e)&&(this.productForm.price=Number(e).toFixed(2)),"bp"===t&&Number(e)&&(this.productForm.base_price=Number(e).toFixed(2)),this.productForm.market_price&&this.productForm.price&&Number(this.productForm.market_price)<Number(this.productForm.price)&&(this.$message.warning("原价必须小于现价"),this.productForm.price=""),this.productForm.base_price&&this.productForm.price&&Number(this.productForm.price)<Number(this.productForm.base_price)&&(this.$message.warning("固定建档费用必须小于现价"),this.productForm.base_price=""))},getSelectNameList:function(e,t){var a=e.filter((function(e){if(t.includes(e.value))return e}));return a.map((function(e){return e.label})).join(",")},servicesNameList:function(){return this.getSelectNameList(this.services,this.productForm.enabled_services)},dietitianGroupList:function(){return this.$refs.dietitianGroupSelect?this.getSelectNameList(this.$refs.dietitianGroupSelect.options,this.productForm.dietitian_corps):""},commonGroupList:function(){return this.$refs.basicGroupSelect?this.getSelectNameList(this.$refs.basicGroupSelect.options,this.productForm.corps):""},getServices:function(){var e=this;Object(s["e"])().then((function(t){var a=t.data.services.map((function(e){return{value:e.key,label:e.name}}));e.services=a.filter((function(e){return"health_follow"!==e.value&&"common_text_transfer"!==e.value&&"common_voice_transfer"!==e.value})),e.chankeServices=a.filter((function(e){return"health_follow"===e.value||"health_record"===e.value||"fd_ask"===e.value||"common_text_transfer"===e.value||"common_voice_transfer"===e.value}))}))},handleCheckedDayChange:function(e){var t=e.length;this.checkAllDay=t===this.weekdays.length,this.isIndeterminate=t>0&&t<this.weekdays.length},handleCheckAllChange:function(e){this.productForm.serviceDays=e?c().map((function(e){return e.value})):[],this.isIndeterminate=!1},submitForm:function(e){var t,a=this,r=this.$refs[e].validate();"ERKE"===this.productForm.department?t=this.$refs.dietitianForm.validForm():"CHANKE"===this.productForm.department&&(t=this.$refs.otherDoctorForm.validForm()),Promise.all([r,t]).then((function(e){a.dialogVisible=!0})).catch((function(e){e.hm?(a.activeNames=["ask"],a.$message.error(e.hm)):a.activeNames=le}))},confirmForm:function(){var e=this,t=oe(this.productForm);this.confirm=!0,"add"===this.pageType?Object(s["a"])(t).then((function(t){e.confirm=!1,e.$message.success("新增套餐成功"),e.dialogVisible=!1,e.$router.back(-1)})).catch((function(t){e.confirm=!1})):"update"===this.pageType&&(t.update_remark=this.editReason,Object(s["f"])(this.$route.params.id,t).then((function(t){e.confirm=!1,e.$message.success("更新套餐成功"),e.dialogVisible=!1,e.$router.back(-1)})).catch((function(t){e.confirm=!1})))}},computed:{consultList:function(){var e="",t="",a="";return"ERKE"===this.productForm.department?(e=this.productForm.ask_doctor.enable?"图文转诊医生":"",t=this.productForm.ask_doctor.enable_voice?"电话转诊医生":"",a=this.productForm.ask_dietitian.enable?"图文转诊营养师":""):"CHANKE"===this.productForm.department&&(e=this.productForm.ask_common.enable?"图文转诊其他科室":"",t=this.productForm.ask_common.enable_voice?"电话转诊其他科室":""),"健康咨询,".concat(e,",").concat(t,",").concat(a)},pageReadOnly:function(){return"detail"===this.pageType},dietitianTeamItemShow:function(){return this.productForm.ask_dietitian.enable||this.enabledServicesIncludeRecipes},enabledServicesIncludeRecipes:function(){return this.productForm.enabled_services.includes("recipe_service")},pageType:function(){return"update"===this.$route.params.type?"update":"detail"===this.$route.params.type?"detail":"add"},pageAction:function(){switch(this.pageType){case"add":return"新增";case"update":return"修改";case"detail":return"详情";default:return""}}}},ue=ce,me=(a("feac"),Object(f["a"])(ue,r,i,!1,null,"f82263c2",null));t["default"]=me.exports},9815:function(e,t,a){"use strict";var r=a("22ab"),i=a.n(r);i.a},"9b28":function(e,t,a){},c126:function(e,t,a){"use strict";var r=a("fcdb"),i=a.n(r);i.a},f017:function(e,t,a){"use strict";var r=a("9b28"),i=a.n(r);i.a},f0b1:function(e,t,a){},f1c9:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return n})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return c}));var r=a("b775");function i(e){return Object(r["a"])({url:"/fd/products",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/fd/products",method:"post",data:e})}function o(e,t){return Object(r["a"])({url:"/fd_service_type/services",method:"get",params:t})}function n(e,t){return Object(r["a"])({url:"/fd/products/".concat(e,"/status"),method:"put",data:t})}function l(e,t){return Object(r["a"])({url:"/fd/products/".concat(e),method:"put",data:t})}function c(e){return Object(r["a"])({url:"/fd/products/".concat(e),method:"get"})}},fcdb:function(e,t,a){},feac:function(e,t,a){"use strict";var r=a("f0b1"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-0d55ff9f.11a572a9.js.map