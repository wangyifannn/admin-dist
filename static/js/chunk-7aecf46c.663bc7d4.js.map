{"version":3,"sources":["webpack:///./src/views/system-settings/grow-template/addTemplate.vue?ca16","webpack:///./src/views/system-settings/grow-template/components/QuestionAnswer.vue?eedd","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./src/api/grow-table.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./src/views/system-settings/grow-template/addTemplate.vue?cd9d","webpack:///./src/views/system-settings/grow-template/components/QuestionAnswer.vue?11e8","webpack:///src/views/system-settings/grow-template/components/QuestionAnswer.vue","webpack:///./src/views/system-settings/grow-template/components/QuestionAnswer.vue?12c9","webpack:///./src/views/system-settings/grow-template/components/QuestionAnswer.vue","webpack:///src/views/system-settings/grow-template/addTemplate.vue","webpack:///./src/views/system-settings/grow-template/addTemplate.vue?62b0","webpack:///./src/views/system-settings/grow-template/addTemplate.vue"],"names":["$export","S","isInteger","getGrowList","params","request","url","method","createGrow","data","updateGrow","id","deleteGrow","getGrowDetail","getGrowStatus","getGrowthList","getGrowthDetail","getGrowthStatus","sendGrowth","createFeedback","isObject","floor","Math","module","exports","it","isFinite","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","rules","addTemplateForm","staticStyle","model","value","callback","$$v","$set","expression","_n","questionArr","on","removeQuestion","isSave","$event","submitForm","_v","staticRenderFns","length","_l","item","index","key","refInFor","_e","required","message","trigger","minRows","maxRows","domain","ind","class","preventDefault","removeAnswer","addAnswer","addQuestion","props","type","Array","default","methods","getRandom","parentInd","answer","splice","i","push","question","$emit","component","components","QuestionAnswer","checkAge","Error","setTimeout","Number","templateName","age","FormValid","created","$route","$refs","formName","validate","valid","childerRef","childValid","that","resetForm","resetFields"],"mappings":"kHAAA,yBAAwgB,EAAG,G,kCCA3gB,yBAAqgB,EAAG,G,uBCCxgB,IAAIA,EAAU,EAAQ,QAEtBA,EAAQA,EAAQC,EAAG,SAAU,CAAEC,UAAW,EAAQ,W,oCCHlD,sYAGO,SAASC,EAAYC,GAC1B,OAAOC,eAAQ,CACbC,IAAK,oBACLC,OAAQ,MACRH,WAIG,SAASI,EAAWC,GACzB,OAAOJ,eAAQ,CACbC,IAAK,eACLC,OAAQ,OACRE,SAIG,SAASC,EAAWC,EAAIF,GAC7B,OAAOJ,eAAQ,CACbC,IAAK,gBAAkBK,EACvBJ,OAAQ,MACRE,SAIG,SAASG,EAAWH,GACzB,OAAOJ,eAAQ,CACbC,IAAK,eACLC,OAAQ,SACRE,SAIG,SAASI,EAAcF,GAC5B,OAAON,eAAQ,CACbC,IAAK,gBAAkBK,EACvBJ,OAAQ,QAIL,SAASO,EAAcH,GAC5B,OAAON,eAAQ,CACbC,IAAK,gBAAkBK,EAAK,UAC5BJ,OAAQ,QAIL,SAASQ,EAAcX,GAC5B,OAAOC,eAAQ,CACbC,IAAK,gCACLC,OAAQ,MACRH,WAIG,SAASY,EAAgBZ,GAC9B,OAAOC,eAAQ,CACbC,IAAK,0BACLC,OAAQ,MACRH,WAIG,SAASa,EAAgBN,GAC9B,OAAON,eAAQ,CACbC,IAAK,2BAA6BK,EAClCJ,OAAQ,QAIL,SAASW,EAAWP,GACzB,OAAON,eAAQ,CACbC,IAAK,yBAA2BK,EAChCJ,OAAQ,QAIL,SAASY,EAAeV,GAC7B,OAAOJ,eAAQ,CACbC,IAAK,2BACLC,OAAQ,OACRE,W,8CClFJ,IAAIW,EAAW,EAAQ,QACnBC,EAAQC,KAAKD,MACjBE,EAAOC,QAAU,SAAmBC,GAClC,OAAQL,EAASK,IAAOC,SAASD,IAAOJ,EAAMI,KAAQA,I,yCCJxD,IAAIE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAACG,IAAI,kBAAkBD,YAAY,eAAeE,MAAM,CAAC,MAAQR,EAAIS,MAAM,MAAQT,EAAIU,gBAAgB,cAAc,UAAU,CAACN,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,eAAe,MAAQ,SAAS,CAACJ,EAAG,WAAW,CAACO,YAAY,CAAC,MAAQ,OAAOH,MAAM,CAAC,YAAc,UAAU,UAAY,KAAK,kBAAkB,IAAII,MAAM,CAACC,MAAOb,EAAIU,gBAA4B,aAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,gBAAiB,eAAgBK,IAAME,WAAW,mCAAmC,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,MAAM,MAAQ,SAAS,CAACJ,EAAG,WAAW,CAACO,YAAY,CAAC,MAAQ,OAAOH,MAAM,CAAC,YAAc,UAAUI,MAAM,CAACC,MAAOb,EAAIU,gBAAmB,IAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,gBAAiB,MAAOV,EAAIkB,GAAGH,KAAOE,WAAW,0BAA0B,GAAGb,EAAG,iBAAiB,CAACG,IAAI,YAAYC,MAAM,CAAC,eAAeR,EAAImB,aAAaC,GAAG,CAAC,eAAiBpB,EAAIqB,kBAAkBjB,EAAG,MAAM,CAACA,EAAG,eAAe,CAACO,YAAY,CAAC,SAAW,SAAS,OAAS,iBAAiB,aAAa,WAAW,CAACP,EAAG,YAAY,CAACO,YAAY,CAAC,QAAU,YAAYH,MAAM,CAAC,KAAO,OAAO,SAAWR,EAAIsB,QAAQF,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOvB,EAAIwB,WAAW,kBAAmB,SAAS,CAACxB,EAAIyB,GAAG,QAAQrB,EAAG,YAAY,CAACO,YAAY,CAAC,QAAU,YAAYH,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQY,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOvB,EAAIwB,WAAW,kBAAmB,SAAS,CAACxB,EAAIyB,GAAG,SAAS,IAAI,IAAI,IAAI,IAC3/CC,EAAkB,G,kCCDlB,G,oBAAS,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAImB,YAAYQ,OAAS,EAAGvB,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACN,EAAI4B,GAAI5B,EAAe,aAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,SAAS,CAAC2B,IAAID,EAAQ,WAAWxB,YAAY,sBAAsBE,MAAM,CAAC,OAAS,KAAK,CAACJ,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,UAAU,CAACG,IAAI,cAAgBuB,EAAME,UAAS,EAAK1B,YAAY,uBAAuBE,MAAM,CAAC,MAAQqB,EAAK,cAAc,QAAQ,iBAAiB,QAAQ,CAAEC,GAAS,EAAG1B,EAAG,IAAI,CAACE,YAAY,oCAAoCc,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOvB,EAAIqB,eAAeS,OAAW9B,EAAIiC,KAAK7B,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,KAAK,CAACJ,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,WAAW,MAAQ,MAAQsB,EAAQ,GAAG,MAAQ,CAClwB,CAAEI,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAC7C,CAAChC,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,YAAc,UAAU,SAAW,CAAE6B,QAAS,EAAGC,QAAS,GAAI,UAAY,MAAM,kBAAkB,IAAI1B,MAAM,CAACC,MAAOb,EAAImB,YAAYW,GAAe,SAAEhB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAImB,YAAYW,GAAQ,WAAYf,IAAME,WAAW,kCAAkC,IAAI,GAAGb,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,KAAO,KAAK,CAACR,EAAI4B,GAAIC,EAAW,QAAE,SAASU,EAAOC,GAAK,OAAOpC,EAAG,eAAe,CAAC2B,IAAIS,EAAM,QAAQhC,MAAM,CAAC,MAAe,GAAPgC,EAAW,KAAO,GAAG,KAAO,UAAYA,EAAM,SAAS,MAAQ,CAC9hBN,UAAU,EACVC,QAAS,SACTC,QAAS,UACP,CAAChC,EAAG,WAAW,CAACqC,MAAMD,GAAO,EAAI,UAAY,GAAGhC,MAAM,CAAC,YAAc,QAAQ,UAAY,KAAK,kBAAkB,IAAII,MAAM,CAACC,MAAO0B,EAAY,MAAEzB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKuB,EAAQ,QAASxB,IAAME,WAAW,kBAAmBuB,GAAO,EAAGpC,EAAG,WAAW,CAACE,YAAY,aAAamC,MAAM,UAAUjC,MAAM,CAAC,aAAa,UAAUY,GAAG,CAAC,MAAQ,SAASG,GAAgC,OAAxBA,EAAOmB,iBAAwB1C,EAAI2C,aAAaJ,EAAQT,OAAW9B,EAAIiC,MAAM,MAAK7B,EAAG,MAAM,CAACE,YAAY,iBAAiBc,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOvB,EAAI4C,UAAUd,MAAU,CAAC1B,EAAG,IAAI,CAACE,YAAY,iBAAiBN,EAAIyB,GAAG,uBAAuB,IAAI,IAAI,QAAOrB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,iBAAiBK,YAAY,CAAC,OAAS,SAAS,MAAQ,SAASS,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOvB,EAAI6C,iBAAiB,CAACzC,EAAG,IAAI,CAACE,YAAY,iBAAiBN,EAAIyB,GAAG,mBAAmB,GAAGzB,EAAIiC,OACv1B,EAAkB,G,YC+EtB,GACEa,MAAO,CACL3B,YAAa,CACX4B,KAAMC,MACNC,QAAS,WAAf,YAGEpE,KAPF,WAQI,MAAO,IAETqE,QAAS,CACPC,UAAJ,eACIR,aAFJ,SAEA,KACM,IAAN,yCACqB,IAAXb,GACF7B,KAAKkB,YAAYiC,GAAWC,OAAOC,OAAOxB,EAAO,GAEnD,IAAK,IAAX,4CACQ7B,KAAKkB,YAAYiC,GAAWC,OAAOE,GAAGxB,IAAMwB,GAGhDX,UAXJ,SAWA,GACM3C,KAAKkB,YAAYiC,GAAWC,OAAOG,KAAK,CACtC3C,MAAO,GACPkB,IAAK9B,KAAKkB,YAAYiC,GAAWC,OAAO1B,OAAS,IAEnD,IAAK,IAAX,4CACQ1B,KAAKkB,YAAYiC,GAAWC,OAAOE,GAAGxB,IAAMwB,GAGhDV,YApBJ,WAqBM5C,KAAKkB,YAAYqC,KAAK,CACpBC,SAAU,GACVJ,OAAQ,CAChB,CACU,MAAV,GACU,IAAV,GAEA,CACU,MAAV,GACU,IAAV,GAEA,CACU,MAAV,GACU,IAAV,OAKIhC,eAvCJ,SAuCA,GACMpB,KAAKyD,MAAM,iBAAkBN,MCxIkW,I,wBCQjYO,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,yCCsCf,GACEC,WAAY,CACVC,eAAJ,GAEEhF,KAJF,WAKI,IAAIiF,EAAW,SAAnB,OACM,IAAKjD,GAAmB,IAAVA,EACZ,OAAOC,EAAS,IAAIiD,MAAM,aAE5BC,YAAW,WACJC,OAAO3F,UAAUuC,GAGhBA,GAAS,EACXC,EAAS,IAAIiD,MAAM,WAEnBjD,IALFA,EAAS,IAAIiD,MAAM,aAQ7B,KAEI,MAAO,CACLtD,MAAO,CACLyD,aAAc,CACtB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQC,IAAK,CAAC,CAAd,8BAEMzD,gBAAiB,CACfwD,aAAc,GACdC,IAAK,IAEP7C,QAAQ,EACR8C,WAAW,EACXjD,YAAa,CACnB,CACQ,SAAR,GACQ,OAAR,CACA,CACU,MAAV,GACU,IAAV,GAEA,CACU,MAAV,GACU,IAAV,GAEA,CACU,MAAV,GACU,IAAV,KAIA,CACQ,SAAR,GACQ,OAAR,CACA,CACU,MAAV,GACU,IAAV,GAEA,CACU,MAAV,GACU,IAAV,GAEA,CACU,MAAV,GACU,IAAV,QAOEkD,QAxEF,WAyEQpE,KAAKqE,OAAO9F,OAAOO,IAAIkB,KAAKhB,iBAElCiE,QAAS,CACP1B,WADJ,SACA,gBACMvB,KAAKsE,MAAMC,GAAUC,UAAS,SAApC,GACQ,IAAIC,EAoBF,OAAO,EAnBP,IAAV,0BACA,IACU,IAAK,IAAf,OACiBC,EAAWpB,GAAG5B,eAAegD,EAAWpB,GAE/C,EAAV,yBACY1C,EAAM,GAAG4D,UAAS,SAA9B,GACc,IAAIG,EAIF,OADAC,EAAKT,WAAY,GACV,EAHPS,EAAKT,WAAY,QAOnB,EAAd,WACY,EAAZ,iBAOIU,UA3BJ,SA2BA,GACM7E,KAAKsE,MAAMC,GAAUO,eAEvB,UA9BJ,oEA8BA,GA9BA,6GA+BA,GACA,uCACA,mCACA,2BACA,kCAEA,iCArCA,iCAsCA,kBAtCA,gBAsCA,EAtCA,EAsCA,OAtCA,EAsCA,KACA,UACA,qCACA,eACA,gCACA,oCAEA,uBAEA,qBACA,MAhDA,yCAmDA,wCAnDA,iBAmDA,EAnDA,EAmDA,OAnDA,EAmDA,KACA,UACA,qCACA,eACA,gCACA,qCAxDA,0GA6DI1D,eA7DJ,SA6DA,GACMpB,KAAKkB,YAAc,EAAzB,yCACQ,QAASW,IAAUsB,OAGvB,cAlEJ,iLAmEA,sCAnEA,gBAmEA,EAnEA,EAmEA,OAnEA,EAmEA,KACA,SACA,WACA,8CACA,8CACA,gDACA,6CAzEA,0GCpImX,ICQ/W,G,UAAY,eACd,EACArD,EACA2B,GACA,EACA,KACA,WACA,OAIa,e","file":"static/js/chunk-7aecf46c.663bc7d4.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=style&index=0&id=d6536508&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=style&index=0&id=d6536508&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionAnswer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionAnswer.vue?vue&type=style&index=0&lang=scss&\"","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","import request from '@/utils/request'\r\n\r\n//  获取发育量模板列表\r\nexport function getGrowList(params) {\r\n  return request({\r\n    url: '/growth_info/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n//  创建发育量模板\r\nexport function createGrow(data) {\r\n  return request({\r\n    url: '/growth_info',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//  更新发育量模板\r\nexport function updateGrow(id, data) {\r\n  return request({\r\n    url: '/growth_info/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n//  删除发育量模板\r\nexport function deleteGrow(data) {\r\n  return request({\r\n    url: '/growth_info',\r\n    method: 'delete',\r\n    data\r\n  })\r\n}\r\n//  发育量模板详情\r\nexport function getGrowDetail(id) {\r\n  return request({\r\n    url: '/growth_info/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n//  发育量模板状态更改\r\nexport function getGrowStatus(id) {\r\n  return request({\r\n    url: '/growth_info/' + id + '/status',\r\n    method: 'put'\r\n  })\r\n}\r\n//  获取发育量列表\r\nexport function getGrowthList(params) {\r\n  return request({\r\n    url: '/family_member/in_server_list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n//  获取发育量列表\r\nexport function getGrowthDetail(params) {\r\n  return request({\r\n    url: 'baby_growth_info/growth',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n//  获取发育详情\r\nexport function getGrowthStatus(id) {\r\n  return request({\r\n    url: 'baby_growth_info/detail/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n//  发送发育量表\r\nexport function sendGrowth(id) {\r\n  return request({\r\n    url: 'baby_growth_info/send/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n//  发送发育量表\r\nexport function createFeedback(data) {\r\n  return request({\r\n    url: 'baby_growth_info/content',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add_template\"},[_c('el-form',{ref:\"addTemplateForm\",staticClass:\"demo-dynamic\",attrs:{\"rules\":_vm.rules,\"model\":_vm.addTemplateForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"templateName\",\"label\":\"模版名称\"}},[_c('el-input',{staticStyle:{\"width\":\"35%\"},attrs:{\"placeholder\":\"请输入模版名称\",\"maxlength\":\"20\",\"show-word-limit\":\"\"},model:{value:(_vm.addTemplateForm.templateName),callback:function ($$v) {_vm.$set(_vm.addTemplateForm, \"templateName\", $$v)},expression:\"addTemplateForm.templateName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"age\",\"label\":\"测试月龄\"}},[_c('el-input',{staticStyle:{\"width\":\"35%\"},attrs:{\"placeholder\":\"请输入正整数\"},model:{value:(_vm.addTemplateForm.age),callback:function ($$v) {_vm.$set(_vm.addTemplateForm, \"age\", _vm._n($$v))},expression:\"addTemplateForm.age\"}})],1),_c('QuestionAnswer',{ref:\"childForm\",attrs:{\"question-arr\":_vm.questionArr},on:{\"removeQuestion\":_vm.removeQuestion}}),_c('div',[_c('el-form-item',{staticStyle:{\"overflow\":\"hidden\",\"margin\":\"20px 0 0 -95px\",\"text-align\":\"center\"}},[_c('el-button',{staticStyle:{\"padding\":\"8px 25px\"},attrs:{\"size\":\"mini\",\"disabled\":_vm.isSave},on:{\"click\":function($event){return _vm.submitForm('addTemplateForm', '保存')}}},[_vm._v(\"保存\")]),_c('el-button',{staticStyle:{\"padding\":\"8px 25px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.submitForm('addTemplateForm', '发布')}}},[_vm._v(\"发布\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.questionArr.length > 0)?_c('div',{staticClass:\"question_answer_box\"},[_vm._l((_vm.questionArr),function(item,index){return _c('el-row',{key:index + 'question',staticClass:\"question_answer_row\",attrs:{\"gutter\":24}},[_c('div',{staticClass:\"question_answer_row_Form_box\"},[_c('el-form',{ref:'questionArr' + index,refInFor:true,staticClass:\"question_answer_Form\",attrs:{\"model\":item,\"label-width\":\"100px\",\"label-position\":\"top\"}},[(index >= 1)?_c('i',{staticClass:\"el-icon-close close_question_icon\",on:{\"click\":function($event){return _vm.removeQuestion(index)}}}):_vm._e(),_c('el-col',{attrs:{\"span\":14}},[_c('el-form-item',{attrs:{\"prop\":\"question\",\"label\":'问题' + (index + 1),\"rules\":[\n              { required: true, message: '请输入问题描述', trigger: 'blur' }\n            ]}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入问题描述\",\"autosize\":{ minRows: 9, maxRows: 9 },\"maxlength\":\"500\",\"show-word-limit\":\"\"},model:{value:(_vm.questionArr[index].question),callback:function ($$v) {_vm.$set(_vm.questionArr[index], \"question\", $$v)},expression:\"questionArr[index].question\"}})],1)],1),_c('el-col',{staticClass:\"answer_box\",attrs:{\"span\":10}},[_vm._l((item.answer),function(domain,ind){return _c('el-form-item',{key:ind + 'anser',attrs:{\"label\":ind == 0 ? '答案' : '',\"prop\":'answer.' + ind + '.value',\"rules\":{\n              required: true,\n              message: '答案不能为空',\n              trigger: 'blur'\n            }}},[_c('el-input',{class:ind >= 2 ? 'width80' : '',attrs:{\"placeholder\":\"请输入答案\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(domain.value),callback:function ($$v) {_vm.$set(domain, \"value\", $$v)},expression:\"domain.value\"}}),(ind >= 2)?_c('svg-icon',{staticClass:\"icon-scdaa\",class:'del_btn',attrs:{\"icon-class\":\"scdaan\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeAnswer(domain, index)}}}):_vm._e()],1)}),_c('div',{staticClass:\"add_answer_btn\",on:{\"click\":function($event){return _vm.addAnswer(index)}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"添加答案\\n          \")])],2)],1)],1)])}),_c('div',[_c('p',{staticClass:\"add_answer_btn\",staticStyle:{\"margin\":\"0 auto\",\"width\":\"200px\"},on:{\"click\":function($event){return _vm.addQuestion()}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"添加问题\\n    \")])])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"questionArr.length > 0\" class=\"question_answer_box\">\r\n    <el-row\r\n      v-for=\"(item, index) in questionArr\"\r\n      :key=\"index + 'question'\"\r\n      :gutter=\"24\"\r\n      class=\"question_answer_row\"\r\n    >\r\n      <div class=\"question_answer_row_Form_box\">\r\n        <el-form\r\n          :ref=\"'questionArr' + index\"\r\n          :model=\"item\"\r\n          label-width=\"100px\"\r\n          label-position=\"top\"\r\n          class=\"question_answer_Form\"\r\n        >\r\n          <i\r\n            v-if=\"index >= 1\"\r\n            class=\"el-icon-close close_question_icon\"\r\n            @click=\"removeQuestion(index)\"\r\n          />\r\n          <el-col :span=\"14\">\r\n            <el-form-item\r\n              prop=\"question\"\r\n              :label=\"'问题' + (index + 1)\"\r\n              :rules=\"[\r\n                { required: true, message: '请输入问题描述', trigger: 'blur' }\r\n              ]\"\r\n            >\r\n              <el-input\r\n                v-model=\"questionArr[index].question\"\r\n                type=\"textarea\"\r\n                placeholder=\"请输入问题描述\"\r\n                :autosize=\"{ minRows: 9, maxRows: 9 }\"\r\n                maxlength=\"500\"\r\n                show-word-limit\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\" class=\"answer_box\">\r\n            <el-form-item\r\n              v-for=\"(domain, ind) in item.answer\"\r\n              :key=\"ind + 'anser'\"\r\n              :label=\"ind == 0 ? '答案' : ''\"\r\n              :prop=\"'answer.' + ind + '.value'\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '答案不能为空',\r\n                trigger: 'blur'\r\n              }\"\r\n            >\r\n              <el-input\r\n                v-model=\"domain.value\"\r\n                placeholder=\"请输入答案\"\r\n                :class=\"ind >= 2 ? 'width80' : ''\"\r\n                maxlength=\"10\"\r\n                show-word-limit\r\n              />\r\n              <svg-icon\r\n                v-if=\"ind >= 2\"\r\n                icon-class=\"scdaan\"\r\n                :class=\"'del_btn'\"\r\n                class=\"icon-scdaa\"\r\n                @click.prevent=\"removeAnswer(domain, index)\"\r\n              />\r\n            </el-form-item>\r\n            <div class=\"add_answer_btn\" @click=\"addAnswer(index)\">\r\n              <i class=\"el-icon-plus\" />添加答案\r\n            </div>\r\n          </el-col>\r\n        </el-form>\r\n      </div>\r\n    </el-row>\r\n    <div>\r\n      <p\r\n        class=\"add_answer_btn\"\r\n        style=\"margin:0 auto;width:200px;\"\r\n        @click=\"addQuestion()\"\r\n      >\r\n        <i class=\"el-icon-plus\" />添加问题\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getRandom } from '@/filters'\r\nexport default {\r\n  props: {\r\n    questionArr: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    getRandom,\r\n    removeAnswer(item, parentInd) {\r\n      const index = this.questionArr[parentInd].answer.indexOf(item)\r\n      if (index !== -1) {\r\n        this.questionArr[parentInd].answer.splice(index, 1)\r\n      }\r\n      for (let i = 0; i < this.questionArr[parentInd].answer.length; i++) {\r\n        this.questionArr[parentInd].answer[i].key = i\r\n      }\r\n    },\r\n    addAnswer(parentInd) {\r\n      this.questionArr[parentInd].answer.push({\r\n        value: '',\r\n        key: this.questionArr[parentInd].answer.length + 1\r\n      })\r\n      for (let i = 0; i < this.questionArr[parentInd].answer.length; i++) {\r\n        this.questionArr[parentInd].answer[i].key = i\r\n      }\r\n    },\r\n    addQuestion() {\r\n      this.questionArr.push({\r\n        question: '',\r\n        answer: [\r\n          {\r\n            value: '',\r\n            key: 0\r\n          },\r\n          {\r\n            value: '',\r\n            key: 1\r\n          },\r\n          {\r\n            value: '',\r\n            key: 2\r\n          }\r\n        ]\r\n      })\r\n    },\r\n    removeQuestion(parentInd) {\r\n      this.$emit('removeQuestion', parentInd)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.question_answer_box {\r\n  margin: 0 auto;\r\n  width: 94%;\r\n  .question_answer_row {\r\n    position: relative;\r\n    padding: 5px 15px;\r\n    background: #f5f7fa;\r\n    border: 1px solid #e8eaec;\r\n    border-radius: 4px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .close_question_icon {\r\n    position: absolute;\r\n    top: -10px;\r\n    right: -10px;\r\n    padding: 2px;\r\n    color: #fff;\r\n    background: #f8747f;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n  }\r\n  p {\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .el-form--label-top .el-form-item__label {\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n  .width80 {\r\n    width: 85%;\r\n  }\r\n  .del_btn {\r\n    margin-left: 15px;\r\n    // background: #576277;\r\n    font-size: 16px;\r\n    color: #576277;\r\n    border-radius: 4px;\r\n    // color: #fff;\r\n    cursor: pointer;\r\n  }\r\n  .answer_box {\r\n    .el-form-item {\r\n      margin-bottom: 15px;\r\n    }\r\n  }\r\n  .add_answer_btn {\r\n    padding: 10px 0;\r\n    text-align: center;\r\n    color: #0085ff;\r\n    background: #fff;\r\n    border: 1px dotted #0085ff;\r\n    border-radius: 4px;\r\n    // margin-top: -10px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionAnswer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionAnswer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionAnswer.vue?vue&type=template&id=fabdbcfe&\"\nimport script from \"./QuestionAnswer.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionAnswer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionAnswer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"add_template\">\r\n    <el-form\r\n      ref=\"addTemplateForm\"\r\n      :rules=\"rules\"\r\n      :model=\"addTemplateForm\"\r\n      label-width=\"100px\"\r\n      class=\"demo-dynamic\"\r\n    >\r\n      <el-form-item prop=\"templateName\" label=\"模版名称\">\r\n        <el-input\r\n          v-model=\"addTemplateForm.templateName\"\r\n          placeholder=\"请输入模版名称\"\r\n          maxlength=\"20\"\r\n          show-word-limit\r\n          style=\"width:35%\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item prop=\"age\" label=\"测试月龄\">\r\n        <el-input\r\n          v-model.number=\"addTemplateForm.age\"\r\n          placeholder=\"请输入正整数\"\r\n          style=\"width:35%\"\r\n        />\r\n      </el-form-item>\r\n      <QuestionAnswer\r\n        ref=\"childForm\"\r\n        :question-arr=\"questionArr\"\r\n        @removeQuestion=\"removeQuestion\"\r\n      />\r\n      <div>\r\n        <el-form-item\r\n          style=\"overflow:hidden;margin:20px 0 0 -95px;text-align:center;\"\r\n        >\r\n          <el-button\r\n            size=\"mini\"\r\n            style=\"padding:8px 25px;\"\r\n            :disabled=\"isSave\"\r\n            @click=\"submitForm('addTemplateForm', '保存')\"\r\n            >保存</el-button\r\n          >\r\n          <el-button\r\n            type=\"primary\"\r\n            style=\"padding:8px 25px;\"\r\n            size=\"mini\"\r\n            @click=\"submitForm('addTemplateForm', '发布')\"\r\n            >发布</el-button\r\n          >\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport QuestionAnswer from './components/QuestionAnswer'\r\nimport _ from 'lodash'\r\nimport { createGrow, updateGrow, getGrowDetail } from '@/api/grow-table'\r\nexport default {\r\n  components: {\r\n    QuestionAnswer\r\n  },\r\n  data() {\r\n    var checkAge = (rule, value, callback) => {\r\n      if (!value && value !== 0) {\r\n        return callback(new Error('测试月龄不能为空'))\r\n      }\r\n      setTimeout(() => {\r\n        if (!Number.isInteger(value)) {\r\n          callback(new Error('请输入正整数'))\r\n        } else {\r\n          if (value <= 0) {\r\n            callback(new Error('请输入正整数'))\r\n          } else {\r\n            callback()\r\n          }\r\n        }\r\n      }, 10)\r\n    }\r\n    return {\r\n      rules: {\r\n        templateName: [\r\n          { required: true, message: '请输入模版名称', trigger: 'blur' }\r\n        ],\r\n        age: [{ validator: checkAge, trigger: 'blur' }]\r\n      },\r\n      addTemplateForm: {\r\n        templateName: '',\r\n        age: ''\r\n      },\r\n      isSave: false,\r\n      FormValid: false, // 表单验证flag\r\n      questionArr: [\r\n        {\r\n          question: '',\r\n          answer: [\r\n            {\r\n              value: '',\r\n              key: 0\r\n            },\r\n            {\r\n              value: '',\r\n              key: 1\r\n            },\r\n            {\r\n              value: '',\r\n              key: 2\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          question: '',\r\n          answer: [\r\n            {\r\n              value: '',\r\n              key: 0\r\n            },\r\n            {\r\n              value: '',\r\n              key: 1\r\n            },\r\n            {\r\n              value: '',\r\n              key: 2\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    if (this.$route.params.id) this.getGrowDetail()\r\n  },\r\n  methods: {\r\n    submitForm(formName, str) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const childerRef = this.$refs.childForm.$refs\r\n          const that = this\r\n          for (const i in childerRef) {\r\n            if (!childerRef[i].length) delete childerRef[i]\r\n          }\r\n          _.forIn(childerRef, function(value, key) {\r\n            value[0].validate(childValid => {\r\n              if (childValid) {\r\n                that.FormValid = true\r\n              } else {\r\n                that.FormValid = false\r\n                return false\r\n              }\r\n            })\r\n          })\r\n          if (this.FormValid) {\r\n            this.submitFun(str)\r\n          }\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    async submitFun(str) {\r\n      const params = {\r\n        name: this.addTemplateForm.templateName,\r\n        month_age: this.addTemplateForm.age,\r\n        questions: this.questionArr,\r\n        status: str === '保存' ? 'save' : 'release'\r\n      }\r\n      if (this.$route.name === 'addTemplate') {\r\n        const { data, code } = await createGrow(params)\r\n        if (code === 20000) {\r\n          if (str === '发布' && data.result) this.isSave = true\r\n          this.$message({\r\n            type: data.result ? 'success' : 'error',\r\n            message: data.result ? str + '成功' : data.message\r\n          })\r\n          setTimeout(() => {\r\n            // 保存成功后跳回列表页\r\n            this.$router.back(-1)\r\n          }, 1000)\r\n        }\r\n      } else {\r\n        const { data, code } = await updateGrow(this.$route.params.id, params)\r\n        if (code === 20000) {\r\n          if (str === '发布' && data.result) this.isSave = true\r\n          this.$message({\r\n            type: data.result ? 'success' : 'error',\r\n            message: data.result ? str + '成功' : data.message\r\n          })\r\n        }\r\n      }\r\n    },\r\n    removeQuestion(parentInd) {\r\n      this.questionArr = _.remove(this.questionArr, function(n, index) {\r\n        return !(index === parentInd)\r\n      })\r\n    },\r\n    async getGrowDetail() {\r\n      const { data, code } = await getGrowDetail(this.$route.params.id)\r\n      if (code === 20000) {\r\n        if (data.result) {\r\n          if (data.growth.status === 'release') this.isSave = true\r\n          this.questionArr = data.growth && data.growth.questions\r\n          this.addTemplateForm.templateName = data.growth.name\r\n          this.addTemplateForm.age = data.growth.month_age\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.add_template {\r\n  padding: 25px 0 25px;\r\n  width: 100%;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addTemplate.vue?vue&type=template&id=d6536508&scoped=true&\"\nimport script from \"./addTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./addTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addTemplate.vue?vue&type=style&index=0&id=d6536508&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6536508\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}