(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dbd05d06"],{1431:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"management"},[e("el-row",{staticClass:"short-head",attrs:{gutter:10}},[e("el-col",{staticClass:"stem",attrs:{span:19},domProps:{innerHTML:t._s(t.comment.stem)}}),e("el-col",{staticClass:"student-name",attrs:{span:4,offset:1}},[e("div",{staticClass:"name"},[t._v("姓名："+t._s(t.comment.name))]),e("div",{staticClass:"result"},[t._v("结果：/")])])],1),t.comment.options||t.comment.answers?e("div",[e("h3",{staticClass:"title"},[t._v("点评列表")]),e("div",{staticClass:"answer-information"},[e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("学员答案")]),e("el-col",{attrs:{span:20}},[e("p",{staticClass:"problem"},[t._v("该用户出现的问题罗列：")]),e("p",{staticClass:"info",domProps:{innerHTML:t._s(t.comment.options||"无")}}),e("p",{staticClass:"problem primary-problem"},[t._v("该用户主要问题：")]),e("p",{staticClass:"info",domProps:{innerHTML:t._s(t.comment.answers||"无")}})])],1),e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("正确答案")]),e("el-col",{attrs:{span:20}},[e("p",{domProps:{innerHTML:t._s(t.comment.standard_answers||"无")}})])],1),e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("答案解析")]),e("el-col",{attrs:{span:20}},[e("p",{domProps:{innerHTML:t._s(t.comment.answer_analysis||"无")}})])],1),e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("点评")]),e("el-col",{attrs:{span:20}},[t.diagnosisEdit?e("el-input",{attrs:{type:"textarea",resize:"none",rows:4,placeholder:"请输入点评内容",maxlength:"500","show-word-limit":""},model:{value:t.comment.diagnosis_review,callback:function(s){t.$set(t.comment,"diagnosis_review",s)},expression:"comment.diagnosis_review"}}):t._e(),e("el-col",{attrs:{span:20}},[t.diagnosisEdit?t._e():e("p",[t._v("\n              "+t._s(t.comment.diagnosis_review||"无")+"\n            ")]),e("p",{staticClass:"edit-del"},[t.diagnosisEdit?t._e():e("el-button",{attrs:{type:"text"},nativeOn:{click:function(s){return t.isDelShow("diagnosis_review")}}},[t._v("删除")]),t.diagnosisEdit?t._e():e("el-button",{attrs:{type:"text"},nativeOn:{click:function(s){return t.onDiagnosisClick(s)}}},[t._v(t._s(t.diagnosisEdit?"保存":"编辑"))]),t.diagnosisEdit?e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(s){return t.onDiagnosisClick(s)}}},[t._v("提交")]):t._e()],1)])],1)],1),t._e()],1)]):t._e(),t.comment.analysis_idea||t.comment.inquiry||t.comment.handler_suggestion?e("div",[e("h3",{staticClass:"title"},[t._v("问诊训练")]),e("div",{staticClass:"answer-information"},[e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("学员答案")]),e("el-col",{attrs:{span:20}},[e("p",{staticClass:"problem"},[t._v("分析思路：")]),e("p",{staticClass:"info"},[t._v(t._s(t.comment.analysis_idea||"无"))]),e("p",{staticClass:"problem primary-problem"},[t._v("问诊：")]),e("p",{staticClass:"info"},[t._v(t._s(t.comment.inquiry||"无"))]),e("p",{staticClass:"problem primary-problem"},[t._v("处理意见：")]),e("p",{staticClass:"info"},[t._v(t._s(t.comment.handler_suggestion||"无"))])])],1),e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("正确答案")]),e("el-col",{attrs:{span:20}},[e("p",{domProps:{innerHTML:t._s(t.comment.standard_options||"无")}})])],1),e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("答案解析")]),e("el-col",{attrs:{span:20}},[e("p",{domProps:{innerHTML:t._s(t.comment.answer_analysis||"无")}})])],1),e("el-row",{staticClass:"answer",attrs:{gutter:10}},[e("el-col",{staticClass:"answer-title",attrs:{span:2}},[t._v("点评")]),e("el-col",{attrs:{span:20}},[t.processEdit?e("el-input",{attrs:{type:"textarea",resize:"none",rows:4,"show-word-limit":"",placeholder:"请输入点评内容",maxlength:"500"},model:{value:t.comment.process_review,callback:function(s){t.$set(t.comment,"process_review",s)},expression:"comment.process_review"}}):t._e(),e("el-col",{attrs:{span:20}},[t.processEdit?t._e():e("p",{domProps:{innerHTML:t._s(t.comment.process_review||"无")}}),e("p",{staticClass:"edit-del"},[t.processEdit?t._e():e("el-button",{attrs:{type:"text"},nativeOn:{click:function(s){return t.isDelShow("process_review")}}},[t._v("删除")]),t.processEdit?t._e():e("el-button",{attrs:{type:"text"},nativeOn:{click:function(s){return t.onProcessClick(s)}}},[t._v(t._s(t.processEdit?"保存":"编辑"))]),t.processEdit?e("el-button",{attrs:{type:"primary"},nativeOn:{click:function(s){return t.onProcessClick(s)}}},[t._v("提交")]):t._e()],1)])],1)],1)],1)]):t._e(),e("div",{staticClass:"switch"},[e("div",{staticClass:"prev"},[e("el-link",{attrs:{underline:!1,type:t.preType,disabled:t.preDisabled},nativeOn:{click:function(s){return t.preClick(s)}}},[t._v("上一个")])],1),e("div",{staticClass:"next"},[e("el-link",{attrs:{underline:!1,type:t.nextType,disabled:t.nextDisabled},nativeOn:{click:function(s){return t.nextClick(s)}}},[t._v("下一个")])],1)]),e("el-dialog",{attrs:{title:"提示",visible:t.isDel,width:"30%",center:""},on:{"update:visible":function(s){t.isDel=s}}},[e("span",[t._v("删除后，该点评内容将不再保留，请确定是否删除？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(s){t.isDel=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.onProcessDel}},[t._v("确 定")])],1)])],1)},n=[],a=(e("20d6"),e("96cf"),e("3b8d")),r=e("f296"),o={data:function(){return{processEdit:!1,diagnosisEdit:!1,preDisabled:!0,nextDisabled:!0,preType:"info",nextType:"info",index:0,count:0,list:[],isDel:!1,type:"",comment:{stem:"",standard_options:"",standard_answers:"",options:"",answers:"",process_review:"",diagnosis_review:"",analysis_idea:"",handler_suggestion:"",inquiry:"",name:""}}},created:function(){this.getReviewList()},methods:{preClick:function(t){if(t.stopPropagation(),0===this.index&&this.count>0)return!1;this.index=this.index-1,this.setData(this.list,this.index),0===this.index&&this.count>0&&(this.preDisabled=!0)},nextClick:function(t){if(t.stopPropagation(),this.count===this.index+1)return!1;this.index=this.index+1,this.setData(this.list,this.index),this.count===this.index+1&&(this.nextDisabled=!0)},getReviewList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var s,e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["db"])({pageSize:0});case 2:s=t.sent,e=s.data,e&&(this.list=e.list,this.index=this.list.findIndex((function(t){return String(t._id)===i.$route.params.id})),this.count=e.count,this.setData(e.list,this.index));case 5:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),setData:function(t,s){this.comment=Object.assign({},t[s]),this.diagnosisEdit=!this.comment.diagnosis_review,this.processEdit=!this.comment.process_review,this.count>this.index+1&&this.index>0&&(this.preDisabled=!1,this.preType="primary"),this.count>this.index+1&&(this.nextDisabled=!1,this.nextType="primary")},onDiagnosisClick:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var s,e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.diagnosisEdit){t.next=8;break}return t.next=3,Object(r["Z"])({id:this.comment._id,diagnosis_review:this.comment.diagnosis_review});case 3:return s=t.sent,e=s.data,i=s.code,2e4===i&&e.result?(this.diagnosisEdit=!1,this.$message({message:"数据提交成功",type:"success"})):this.$message({message:e.message,type:"error"}),t.abrupt("return",!1);case 8:this.diagnosisEdit=!0;case 9:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),onProcessClick:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var s,e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.processEdit){t.next=9;break}return t.next=3,Object(r["Z"])({id:this.comment._id,process_review:this.comment.process_review});case 3:return s=t.sent,e=s.data,i=s.code,2e4===i&&e.result?this.$message({message:"数据提交成功",type:"success"}):this.$message({message:e.message,type:"error"}),this.processEdit=!1,t.abrupt("return",!1);case 9:this.processEdit=!0;case 10:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),onProcessDel:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(s){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["o"])(this.comment._id,{type:this.type});case 2:e=t.sent,i=e.data,i.result?(this.$message({message:"删除成功",type:"success"}),this.isDel=!1,"process_review"===this.type?this.comment.process_review="":this.comment.diagnosis_review=""):this.$message({message:i.message,type:"error"});case 5:case"end":return t.stop()}}),t,this)})));function s(s){return t.apply(this,arguments)}return s}(),isDelShow:function(t){this.type=t,this.isDel=!0}}},c=o,l=(e("b352"),e("2877")),p=Object(l["a"])(c,i,n,!1,null,"03a53b29",null);s["default"]=p.exports},b352:function(t,s,e){"use strict";var i=e("d4c6"),n=e.n(i);n.a},d4c6:function(t,s,e){}}]);
//# sourceMappingURL=chunk-dbd05d06.94dd544f.js.map