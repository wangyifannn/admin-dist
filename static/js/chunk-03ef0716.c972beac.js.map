{"version":3,"sources":["webpack:///./src/views/system-settings/fd-team/add-team.vue?f02e","webpack:///./src/components/Select/DoctorsSelect.vue?cf36","webpack:///./src/views/system-settings/fd-team/add-team.vue?c94d","webpack:///./src/components/Select/DoctorsSelect.vue?0037","webpack:///src/components/Select/DoctorsSelect.vue","webpack:///./src/components/Select/DoctorsSelect.vue?1d8e","webpack:///./src/components/Select/DoctorsSelect.vue","webpack:///./src/components/Select/ChankeDoctorSelect.vue?d38c","webpack:///src/components/Select/ChankeDoctorSelect.vue","webpack:///./src/components/Select/ChankeDoctorSelect.vue?2216","webpack:///./src/components/Select/ChankeDoctorSelect.vue","webpack:///./src/components/Select/HmSelect.vue?aa01","webpack:///src/components/Select/HmSelect.vue","webpack:///./src/components/Select/HmSelect.vue?436e","webpack:///./src/components/Select/HmSelect.vue","webpack:///src/views/system-settings/fd-team/add-team.vue","webpack:///./src/views/system-settings/fd-team/add-team.vue?b871","webpack:///./src/views/system-settings/fd-team/add-team.vue","webpack:///./src/api/group.js","webpack:///./src/components/Select/HmSelect.vue?03fb","webpack:///./src/views/system-settings/fd-team/add-team.vue?ddd0","webpack:///./src/views/system-settings/fd-team/add-team.vue?3a62","webpack:///./src/api/upload.js","webpack:///./src/components/Select/ChankeDoctorSelect.vue?f507"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","pageTitle","ref","attrs","teamInfo","required","message","trigger","pageAction","model","value","callback","$$v","$set","expression","pageRole","_l","$store","state","dictionary","item","key","label","_e","category","handleAvatarSuccess","uploadFunc","beforeAvatarUpload","imageUrl","slot","on","$event","submitForm","formActionText","dialogVisible","name","_f","membersNameList","hmNameList","desc","skill","staticStyle","editReason","confirmForm","staticRenderFns","prop","rules","placeholder","selectDisable","onValueChange","data","optionValue","options","props","type","Boolean","default","String","moduleName","Array","filterOption","watch","val","created","getDoctors","methods","bus_role","department","doctor","_id","$emit","component","hm","components","DoctorsSelect","ChankeDoctorSelect","HmSelect","commonTeamMembers","allHms","healthManagers","members","computed","$route","params","id","teamCategory","getEditInfoById","member","memberNames","join","$refs","hmSelect","hmNames","uploading","$message","isJPG","error","isLt2M","formName","validate","valid","avatar","description","expert","common_members","hms","warning","update_remark","getList","query","request","url","method","addGroup","changeOnlineStatus","putGroup","getEditInfo","oss","getImageMeta","postObject","ossData","file","onProgress","FormData","append","OSSAccessKeyId","policy","Signature","headers","onUploadProgress","indexOf","meta","videoMeta","size","Error","extname","filename","a","split","reverse","b","substring","search","upload","random","Math","floor","fileName","Date","getTime","fileType","path","prefix","res"],"mappings":"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","file":"static/js/chunk-03ef0716.c972beac.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=style&index=0&id=e3e47ba8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=style&index=0&id=e3e47ba8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DoctorsSelect.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DoctorsSelect.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fd-team-add\"},[_c('h1',{staticClass:\"margin-left-20 color-576277\"},[_vm._v(_vm._s(_vm.pageTitle))]),_c('div',{staticClass:\"team-form\"},[_c('el-form',{ref:\"team-info\",attrs:{\"model\":_vm.teamInfo,\"label-width\":\"100px\",\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"团队名称\",\"prop\":\"name\",\"rules\":[\n          { required: true, message: '请填写团队名称', trigger: 'blur' }\n        ]}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"10\",\"show-word-limit\":\"\",\"placeholder\":\"请输入团队名称\",\"disabled\":_vm.pageAction === '编辑'},model:{value:(_vm.teamInfo.name),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"name\", $$v)},expression:\"teamInfo.name\"}})],1),(_vm.pageRole === '共享团队')?_c('el-form-item',{attrs:{\"label\":\"团队类型\",\"prop\":\"category\",\"rules\":[\n          { required: true, message: '请选择团队类型', trigger: 'change' }\n        ]}},[_c('el-select',{attrs:{\"disabled\":_vm.pageAction === '编辑',\"placeholder\":\"请选择团队类型\",\"size\":\"small\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.teamInfo.category),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"category\", $$v)},expression:\"teamInfo.category\"}},_vm._l((_vm.$store.state.dictionary.teamCategories),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1):_vm._e(),(_vm.pageRole === '共享团队' && _vm.teamInfo.category)?_c('el-form-item',{attrs:{\"label\":\"团队成员\",\"prop\":\"members\",\"rules\":[\n          { required: true, message: '请选择团队成员', trigger: 'blur' }\n        ]}},[_c('el-select',{attrs:{\"placeholder\":\"请选择团队成员\",\"size\":\"small\",\"multiple\":\"\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.teamInfo.members),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"members\", $$v)},expression:\"teamInfo.members\"}},_vm._l((_vm.commonTeamMembers),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1):_vm._e(),(_vm.pageRole === '儿科基础团队' || _vm.pageRole === '产科基础团队')?_c('el-form-item',{attrs:{\"label\":\"医生科室\",\"rules\":[{ required: true, message: '请填写', trigger: 'blur' }]}},[_c('el-input',{attrs:{\"disabled\":\"\",\"value\":_vm.pageRole === '儿科基础团队' ? '儿科' : '产科'}})],1):_vm._e(),(_vm.pageRole === '儿科基础团队')?_c('DoctorsSelect',{attrs:{\"label\":'医生',\"selectDisable\":_vm.pageAction === '编辑',\"prop\":'doctor',\"rules\":[\n          { required: true, message: '请选择医生', trigger: 'change' }\n        ]},model:{value:(_vm.teamInfo.doctor),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"doctor\", $$v)},expression:\"teamInfo.doctor\"}}):_vm._e(),(_vm.pageRole === '产科基础团队')?_c('ChankeDoctorSelect',{attrs:{\"label\":'医生',\"selectDisable\":_vm.pageAction === '编辑',\"prop\":'doctor',\"rules\":[\n          { required: true, message: '请选择医生', trigger: 'change' }\n        ]},model:{value:(_vm.teamInfo.doctor),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"doctor\", $$v)},expression:\"teamInfo.doctor\"}}):_vm._e(),(_vm.pageRole === '儿科基础团队')?_c('HmSelect',{ref:\"hmSelect\",attrs:{\"label\":'健康管理师',\"placeholder\":'请选择健康管理师',\"prop\":'healthManagers'},model:{value:(_vm.teamInfo.healthManagers),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"healthManagers\", $$v)},expression:\"teamInfo.healthManagers\"}}):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"团队简介\",\"prop\":\"desc\",\"rules\":[{ required: true, message: '请输入简介', trigger: 'blur' }]}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请填写团队简介，填写完成的信息将在小程序展示，请慎重填写！\"},model:{value:(_vm.teamInfo.desc),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"desc\", $$v)},expression:\"teamInfo.desc\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"skill\",\"label\":\"团队擅长\",\"rules\":[\n          { required: true, message: '请输入成员擅长', trigger: 'blur' }\n        ]}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请填写团队擅长，填写完成的信息将在小程序展示，请慎重填写！\"},model:{value:(_vm.teamInfo.skill),callback:function ($$v) {_vm.$set(_vm.teamInfo, \"skill\", $$v)},expression:\"teamInfo.skill\"}})],1),_c('el-form-item',{attrs:{\"label\":\"团队图片\",\"prop\":\"imageUrl\",\"rules\":[\n          { required: true, message: '请上传团队图片', trigger: 'change' }\n        ]}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"http-request\":_vm.uploadFunc,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.teamInfo.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.teamInfo.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"}),_c('div',{staticClass:\"el-upload__tip tips\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"\\n            图片格式支持：BMP、JPEG、JPG、PNG，大小不超过2M\\n            上传的图片将在小程序展示，请慎重上传！\\n            为保证小程序端的美观，请上传654 * 368px或等比例图片\\n          \")])])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('team-info')}}},[_vm._v(\"确认\"+_vm._s(this.formActionText))])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":(_vm.pageRole + \"信息确认\"),\"visible\":_vm.dialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"confirm\"},[_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"团队名称：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_vm._v(_vm._s(_vm.teamInfo.name))])]),(_vm.pageRole === '共享团队')?_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"团队类型：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"teamCategory\")(_vm.teamInfo.category))+\"\\n        \")])]):_vm._e(),(_vm.pageRole === '共享团队')?_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"团队成员：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_vm._v(_vm._s(_vm.membersNameList()))])]):_vm._e(),(_vm.pageRole === '儿科基础团队')?_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"健康管理师：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_vm._v(_vm._s(_vm.hmNameList()))])]):_vm._e(),_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"团队简介：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_vm._v(_vm._s(_vm.teamInfo.desc))])]),_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"团队擅长：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_vm._v(_vm._s(_vm.teamInfo.skill))])]),_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_vm._v(\"团队图片：\")]),_c('div',{staticClass:\"confirm__item--content\"},[_c('el-avatar',{attrs:{\"size\":'large',\"shape\":\"square\",\"src\":_vm.teamInfo.imageUrl}})],1)]),(_vm.pageAction === '编辑')?_c('div',{staticClass:\"confirm__item\"},[_c('div',{staticClass:\"confirm__item--label\"},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"修改原因：\\n        \")]),_c('div',{staticClass:\"confirm__item--content\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\"},model:{value:(_vm.editReason),callback:function ($$v) {_vm.editReason=$$v},expression:\"editReason\"}})],1)]):_vm._e(),_c('div',{staticClass:\"tips margin-left-20\"},[_vm._v(\"\\n        提交的部分信息将展示在小程序并影响业务，请确保信息的准确性!\\n      \")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"返回修改\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmForm}},[_vm._v(\"确认\"+_vm._s(this.formActionText))])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group-select\"},[_c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[_c('el-select',{attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder,\"disabled\":_vm.selectDisable,\"clearable\":\"\"},on:{\"change\":_vm.onValueChange}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}},[_vm._v(_vm._s(item.label))])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 备选儿科医生 -->\r\n  <div class=\"group-select\">\r\n    <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\r\n      <el-select\r\n        :value=\"value\"\r\n        @change=\"onValueChange\"\r\n        :placeholder=\"placeholder\"\r\n        :disabled=\"selectDisable\"\r\n        clearable\r\n      >\r\n        <el-option\r\n          v-for=\"item in options\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\"\r\n          :label=\"item.label\"\r\n          >{{ item.label }}</el-option\r\n        >\r\n      </el-select>\r\n    </el-form-item>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getMembers } from '@/api/professionalRole'\r\nexport default {\r\n  data() {\r\n    return {\r\n      optionValue: '',\r\n      options: []\r\n    }\r\n  },\r\n  props: {\r\n    selectDisable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    moduleName: {\r\n      type: String,\r\n      default: '医生'\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: '医生'\r\n    },\r\n    prop: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    rules: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    filterOption: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择'\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.optionValue = val\r\n    }\r\n  },\r\n  created() {\r\n    this.getDoctors()\r\n  },\r\n  methods: {\r\n    getDoctors() {\r\n      const params = {\r\n        bus_role: 'doctor',\r\n        department: 'pediatric'\r\n      }\r\n      getMembers(params).then(res => {\r\n        const { list } = res.data\r\n        this.options = list.map(doctor => {\r\n          return {\r\n            value: doctor._id,\r\n            label: doctor.name\r\n          }\r\n        })\r\n      })\r\n    },\r\n    onValueChange(val) {\r\n      this.$emit('input', val)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.group-select {\r\n  .el-select {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DoctorsSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DoctorsSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DoctorsSelect.vue?vue&type=template&id=ef026d94&\"\nimport script from \"./DoctorsSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./DoctorsSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DoctorsSelect.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group-select\"},[_c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[_c('el-select',{attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder,\"disabled\":_vm.selectDisable,\"clearable\":\"\"},on:{\"change\":_vm.onValueChange}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}},[_vm._v(_vm._s(item.label))])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 备选产科科医生 -->\r\n  <div class=\"group-select\">\r\n    <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\r\n      <el-select\r\n        :value=\"value\"\r\n        @change=\"onValueChange\"\r\n        :placeholder=\"placeholder\"\r\n        :disabled=\"selectDisable\"\r\n        clearable\r\n      >\r\n        <el-option\r\n          v-for=\"item in options\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\"\r\n          :label=\"item.label\"\r\n          >{{ item.label }}</el-option\r\n        >\r\n      </el-select>\r\n    </el-form-item>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getMembers } from '@/api/professionalRole'\r\nexport default {\r\n  data() {\r\n    return {\r\n      optionValue: '',\r\n      options: []\r\n    }\r\n  },\r\n  props: {\r\n    selectDisable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    moduleName: {\r\n      type: String,\r\n      default: '医生'\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: '医生'\r\n    },\r\n    prop: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    rules: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    filterOption: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择'\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.optionValue = val\r\n    }\r\n  },\r\n  created() {\r\n    this.getDoctors()\r\n  },\r\n  methods: {\r\n    getDoctors() {\r\n      const params = {\r\n        bus_role: 'doctor',\r\n        department: 'obstetrics'\r\n      }\r\n      getMembers(params).then(res => {\r\n        const { list } = res.data\r\n        this.options = list.map(doctor => {\r\n          return {\r\n            value: doctor._id,\r\n            label: doctor.name\r\n          }\r\n        })\r\n      })\r\n    },\r\n    onValueChange(val) {\r\n      this.$emit('input', val)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.group-select {\r\n  .el-select {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChankeDoctorSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChankeDoctorSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChankeDoctorSelect.vue?vue&type=template&id=92dc8f7e&\"\nimport script from \"./ChankeDoctorSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./ChankeDoctorSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChankeDoctorSelect.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group-select\"},[_c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[_c('el-select',{attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder,\"disabled\":_vm.selectDisable,\"multiple\":\"\",\"clearable\":\"\"},on:{\"change\":_vm.onValueChange}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}},[_vm._v(_vm._s(item.label))])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"group-select\">\r\n    <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\r\n      <el-select\r\n        :value=\"value\"\r\n        @change=\"onValueChange\"\r\n        :placeholder=\"placeholder\"\r\n        :disabled=\"selectDisable\"\r\n        multiple\r\n        clearable\r\n      >\r\n        <el-option\r\n          v-for=\"item in options\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\"\r\n          :label=\"item.label\"\r\n          >{{ item.label }}</el-option\r\n        >\r\n      </el-select>\r\n    </el-form-item>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getMembers } from '@/api/professionalRole'\r\nexport default {\r\n  data() {\r\n    return {\r\n      optionValue: '',\r\n      options: []\r\n    }\r\n  },\r\n  props: {\r\n    selectDisable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    moduleName: {\r\n      type: String,\r\n      default: '健康管理师'\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: '健康管理师'\r\n    },\r\n    prop: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    rules: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    filterOption: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择'\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.optionValue = val\r\n    }\r\n  },\r\n  created() {\r\n    this.getDoctors()\r\n  },\r\n  methods: {\r\n    getDoctors() {\r\n      const params = {\r\n        bus_role: 'hm'\r\n      }\r\n      getMembers(params).then(res => {\r\n        const { list } = res.data\r\n        this.options = list.map(hm => {\r\n          return {\r\n            value: hm._id,\r\n            label: hm.name\r\n          }\r\n        })\r\n      })\r\n    },\r\n    onValueChange(val) {\r\n      this.$emit('input', val)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.group-select {\r\n  .el-select {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HmSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HmSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HmSelect.vue?vue&type=template&id=1e8fd73e&\"\nimport script from \"./HmSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./HmSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HmSelect.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"fd-team-add\">\r\n    <h1 class=\"margin-left-20 color-576277\">{{ pageTitle }}</h1>\r\n    <div class=\"team-form\">\r\n      <el-form\r\n        ref=\"team-info\"\r\n        :model=\"teamInfo\"\r\n        label-width=\"100px\"\r\n        label-position=\"right\"\r\n      >\r\n        <el-form-item\r\n          label=\"团队名称\"\r\n          prop=\"name\"\r\n          :rules=\"[\r\n            { required: true, message: '请填写团队名称', trigger: 'blur' }\r\n          ]\"\r\n        >\r\n          <el-input\r\n            v-model=\"teamInfo.name\"\r\n            size=\"small\"\r\n            maxlength=\"10\"\r\n            show-word-limit\r\n            placeholder=\"请输入团队名称\"\r\n            :disabled=\"pageAction === '编辑'\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"团队类型\"\r\n          prop=\"category\"\r\n          v-if=\"pageRole === '共享团队'\"\r\n          :rules=\"[\r\n            { required: true, message: '请选择团队类型', trigger: 'change' }\r\n          ]\"\r\n        >\r\n          <el-select\r\n            v-model=\"teamInfo.category\"\r\n            :disabled=\"pageAction === '编辑'\"\r\n            placeholder=\"请选择团队类型\"\r\n            size=\"small\"\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"item in $store.state.dictionary.teamCategories\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"团队成员\"\r\n          v-if=\"pageRole === '共享团队' && teamInfo.category\"\r\n          prop=\"members\"\r\n          :rules=\"[\r\n            { required: true, message: '请选择团队成员', trigger: 'blur' }\r\n          ]\"\r\n        >\r\n          <el-select\r\n            v-model=\"teamInfo.members\"\r\n            placeholder=\"请选择团队成员\"\r\n            size=\"small\"\r\n            multiple\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"item in commonTeamMembers\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"医生科室\"\r\n          v-if=\"pageRole === '儿科基础团队' || pageRole === '产科基础团队'\"\r\n          :rules=\"[{ required: true, message: '请填写', trigger: 'blur' }]\"\r\n        >\r\n          <el-input\r\n            disabled\r\n            :value=\"pageRole === '儿科基础团队' ? '儿科' : '产科'\"\r\n          />\r\n        </el-form-item>\r\n        <DoctorsSelect\r\n          v-model=\"teamInfo.doctor\"\r\n          :label=\"'医生'\"\r\n          :selectDisable=\"pageAction === '编辑'\"\r\n          :prop=\"'doctor'\"\r\n          v-if=\"pageRole === '儿科基础团队'\"\r\n          :rules=\"[\r\n            { required: true, message: '请选择医生', trigger: 'change' }\r\n          ]\"\r\n        ></DoctorsSelect>\r\n        <ChankeDoctorSelect\r\n          v-model=\"teamInfo.doctor\"\r\n          :label=\"'医生'\"\r\n          :selectDisable=\"pageAction === '编辑'\"\r\n          :prop=\"'doctor'\"\r\n          v-if=\"pageRole === '产科基础团队'\"\r\n          :rules=\"[\r\n            { required: true, message: '请选择医生', trigger: 'change' }\r\n          ]\"\r\n        ></ChankeDoctorSelect>\r\n        <HmSelect\r\n          ref=\"hmSelect\"\r\n          :label=\"'健康管理师'\"\r\n          :placeholder=\"'请选择健康管理师'\"\r\n          :prop=\"'healthManagers'\"\r\n          v-if=\"pageRole === '儿科基础团队'\"\r\n          v-model=\"teamInfo.healthManagers\"\r\n        ></HmSelect>\r\n        <el-form-item\r\n          label=\"团队简介\"\r\n          prop=\"desc\"\r\n          :rules=\"[{ required: true, message: '请输入简介', trigger: 'blur' }]\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"teamInfo.desc\"\r\n            placeholder=\"请填写团队简介，填写完成的信息将在小程序展示，请慎重填写！\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          prop=\"skill\"\r\n          label=\"团队擅长\"\r\n          :rules=\"[\r\n            { required: true, message: '请输入成员擅长', trigger: 'blur' }\r\n          ]\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"teamInfo.skill\"\r\n            placeholder=\"请填写团队擅长，填写完成的信息将在小程序展示，请慎重填写！\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"团队图片\"\r\n          prop=\"imageUrl\"\r\n          :rules=\"[\r\n            { required: true, message: '请上传团队图片', trigger: 'change' }\r\n          ]\"\r\n        >\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :http-request=\"uploadFunc\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img\r\n              v-if=\"teamInfo.imageUrl\"\r\n              :src=\"teamInfo.imageUrl\"\r\n              class=\"avatar\"\r\n            />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            <div slot=\"tip\" class=\"el-upload__tip tips\">\r\n              图片格式支持：BMP、JPEG、JPG、PNG，大小不超过2M\r\n              上传的图片将在小程序展示，请慎重上传！\r\n              为保证小程序端的美观，请上传654 * 368px或等比例图片\r\n            </div>\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('team-info')\"\r\n            >确认{{ this.formActionText }}</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-dialog\r\n      :title=\"`${pageRole}信息确认`\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"600px\"\r\n    >\r\n      <div class=\"confirm\">\r\n        <div class=\"confirm__item\">\r\n          <div class=\"confirm__item--label\">团队名称：</div>\r\n          <div class=\"confirm__item--content\">{{ teamInfo.name }}</div>\r\n        </div>\r\n        <div class=\"confirm__item\" v-if=\"pageRole === '共享团队'\">\r\n          <div class=\"confirm__item--label\">团队类型：</div>\r\n          <div class=\"confirm__item--content\">\r\n            {{ teamInfo.category | teamCategory }}\r\n          </div>\r\n        </div>\r\n        <div class=\"confirm__item\" v-if=\"pageRole === '共享团队'\">\r\n          <div class=\"confirm__item--label\">团队成员：</div>\r\n          <div class=\"confirm__item--content\">{{ membersNameList() }}</div>\r\n        </div>\r\n        <div class=\"confirm__item\" v-if=\"pageRole === '儿科基础团队'\">\r\n          <div class=\"confirm__item--label\">健康管理师：</div>\r\n          <div class=\"confirm__item--content\">{{ hmNameList() }}</div>\r\n        </div>\r\n        <div class=\"confirm__item\">\r\n          <div class=\"confirm__item--label\">团队简介：</div>\r\n          <div class=\"confirm__item--content\">{{ teamInfo.desc }}</div>\r\n        </div>\r\n        <div class=\"confirm__item\">\r\n          <div class=\"confirm__item--label\">团队擅长：</div>\r\n          <div class=\"confirm__item--content\">{{ teamInfo.skill }}</div>\r\n        </div>\r\n        <div class=\"confirm__item\">\r\n          <div class=\"confirm__item--label\">团队图片：</div>\r\n          <div class=\"confirm__item--content\">\r\n            <el-avatar\r\n              :size=\"'large'\"\r\n              shape=\"square\"\r\n              :src=\"teamInfo.imageUrl\"\r\n            ></el-avatar>\r\n          </div>\r\n        </div>\r\n        <div class=\"confirm__item\" v-if=\"pageAction === '编辑'\">\r\n          <div class=\"confirm__item--label\">\r\n            <span style=\"color: red\">*</span>修改原因：\r\n          </div>\r\n          <div class=\"confirm__item--content\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"editReason\"\r\n            ></el-input>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"tips margin-left-20\">\r\n          提交的部分信息将展示在小程序并影响业务，请确保信息的准确性!\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <div style=\"text-align: center\">\r\n          <el-button @click=\"dialogVisible = false\">返回修改</el-button>\r\n          <el-button type=\"primary\" @click=\"confirmForm\"\r\n            >确认{{ this.formActionText }}</el-button\r\n          >\r\n        </div>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addGroup, getEditInfo, putGroup } from '@/api/group'\r\nimport { getMembers } from '@/api/professionalRole'\r\nimport { fdTeamType } from '@/filters'\r\nimport { upload } from '@/api/upload'\r\nimport DoctorsSelect from '@/components/Select/DoctorsSelect'\r\nimport ChankeDoctorSelect from '@/components/Select/ChankeDoctorSelect.vue'\r\nimport HmSelect from '@/components/Select/HmSelect'\r\n\r\nexport default {\r\n  components: {\r\n    DoctorsSelect,\r\n    ChankeDoctorSelect,\r\n    HmSelect\r\n  },\r\n  data() {\r\n    return {\r\n      commonTeamMembers: [],\r\n      allHms: [],\r\n      editReason: '',\r\n      dialogVisible: false,\r\n      teamInfo: {\r\n        name: '',\r\n        healthManagers: [],\r\n        imageUrl: '',\r\n        department: '',\r\n        category: '',\r\n        members: [],\r\n        desc: '',\r\n        skill: '',\r\n        doctor: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    pageTitle() {\r\n      return this.pageAction + this.pageRole\r\n    },\r\n    pageRole() {\r\n      return fdTeamType(this.$route.params.type)\r\n    },\r\n    pageAction() {\r\n      return this.$route.params.id ? '编辑' : '新增'\r\n    },\r\n    formActionText() {\r\n      return this.$route.params.id ? '修改' : '新增'\r\n    },\r\n    teamCategory() {\r\n      return this.teamInfo.category\r\n    }\r\n  },\r\n  watch: {\r\n    teamCategory(val) {\r\n      this.teamInfo.members = []\r\n      let params\r\n      if (val === 'DIETICIAN') {\r\n        params = {\r\n          bus_role: 'dietician'\r\n        }\r\n      } else if (val === 'NEIFENMI') {\r\n        params = {\r\n          bus_role: 'doctor',\r\n          department: 'endocrine'\r\n        }\r\n      }\r\n      getMembers(params).then(res => {\r\n        const { list } = res.data\r\n        this.commonTeamMembers = list.map(doctor => {\r\n          return {\r\n            value: doctor._id,\r\n            label: doctor.name\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    if (this.pageAction === '编辑') {\r\n      this.getEditInfoById()\r\n    }\r\n  },\r\n  methods: {\r\n    membersNameList() {\r\n      const choosedMembers = this.commonTeamMembers.filter(member => {\r\n        if (this.teamInfo.members.includes(member.value)) {\r\n          return member\r\n        }\r\n      })\r\n      const memberNames = choosedMembers.map(member => member.label)\r\n      return memberNames.join(',')\r\n    },\r\n    hmNameList() {\r\n      if (this.$refs.hmSelect) {\r\n        const allHms = this.$refs.hmSelect.options\r\n        const choosedHms = allHms.filter(hm => {\r\n          if (this.teamInfo.healthManagers.includes(hm.value)) {\r\n            return hm\r\n          }\r\n        })\r\n        const hmNames = choosedHms.map(hm => hm.label)\r\n        return hmNames.join(',')\r\n      }\r\n      return ''\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      this.uploading = false\r\n      this.$message({ message: '上传成功', type: 'success' })\r\n    },\r\n    async uploadFunc(option) {\r\n      const data = await upload(option.file, progress => {})\r\n      this.teamInfo.imageUrl = data.url\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      this.uploading = true\r\n      const isJPG =\r\n        ['image/png', 'image/jpeg', 'image/jpg', 'image/bmp'].indexOf(\r\n          file.type\r\n        ) >= 0\r\n      const isLt2M = file.size / 1024 / 1024 < 2\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG 格式!')\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!')\r\n      }\r\n      return isJPG && isLt2M\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid, error) => {\r\n        if (valid) {\r\n          this.dialogVisible = true\r\n        } else {\r\n          if (error.imageUrl) {\r\n            this.$message.error(error.imageUrl[0].message)\r\n          }\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    confirmForm() {\r\n      if (this.pageAction === '新增') {\r\n        const params = {\r\n          type: this.$route.params.type,\r\n          name: this.teamInfo.name,\r\n          avatar: this.teamInfo.imageUrl,\r\n          description: this.teamInfo.desc,\r\n          expert: this.teamInfo.skill\r\n        }\r\n        if (this.pageRole === '共享团队') {\r\n          params.category = this.teamInfo.category\r\n          params.common_members = this.teamInfo.members\r\n        } else if (this.pageRole === '儿科基础团队') {\r\n          params.doctor = this.teamInfo.doctor\r\n          params.hms = this.teamInfo.healthManagers\r\n        } else if (this.pageRole === '产科基础团队') {\r\n          params.doctor = this.teamInfo.doctor\r\n        }\r\n        addGroup(params).then(res => {\r\n          this.$message.success('新增成功')\r\n          this.dialogVisible = false\r\n          this.$router.push({\r\n            name: 'FDTeamList',\r\n            params: { type: this.$route.params.type }\r\n          })\r\n        })\r\n      } else if (this.pageAction === '编辑') {\r\n        if (!this.editReason) {\r\n          this.$message.warning('请填写修改原因')\r\n          return\r\n        }\r\n        const params = {\r\n          avatar: this.teamInfo.imageUrl,\r\n          description: this.teamInfo.desc,\r\n          expert: this.teamInfo.skill,\r\n          update_remark: this.editReason\r\n        }\r\n        if (this.pageRole === '共享团队') {\r\n          params.common_members = this.teamInfo.members\r\n        } else if (this.pageRole === '儿科基础团队') {\r\n          params.hms = this.teamInfo.healthManagers\r\n        }\r\n        putGroup(this.$route.params.id, params).then(res => {\r\n          this.$message.success('信息更新成功')\r\n          this.dialogVisible = false\r\n          this.$router.push({\r\n            name: 'FDTeamList',\r\n            params: { type: this.$route.params.type }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    async getEditInfoById() {\r\n      getEditInfo(this.$route.params.id).then(res => {\r\n        const resDate = Object.assign({}, res.data)\r\n        this.teamInfo.name = resDate.name\r\n        this.teamInfo.desc = resDate.description\r\n        this.teamInfo.skill = resDate.expert\r\n        this.teamInfo.imageUrl = resDate.avatar\r\n        if (this.pageRole === '共享团队') {\r\n          this.teamInfo.category = resDate.category\r\n          setTimeout(() => {\r\n            this.teamInfo.members = resDate.common_members.map(\r\n              member => member._id\r\n            )\r\n          }, 500)\r\n        } else if (this.pageRole === '儿科基础团队') {\r\n          this.teamInfo.doctor = resDate.doctor.name\r\n          this.teamInfo.healthManagers = resDate.hms.map(hm => hm._id)\r\n        } else if (this.pageRole === '产科基础团队') {\r\n          this.teamInfo.doctor = resDate.doctor.name\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~@/styles/mixin.scss';\r\n@import '~@/styles/variables.scss';\r\n.color-576277 {\r\n  color: #576277;\r\n}\r\n.team-form {\r\n  margin-left: 280px;\r\n  width: 45%;\r\n}\r\n.tips {\r\n  line-height: 16px;\r\n  font-size: 12px;\r\n  color: #f8747f;\r\n}\r\n.confirm {\r\n  line-height: 20px;\r\n  font-size: 14px;\r\n  &__item {\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n    &--label {\r\n      font-weight: bold;\r\n      text-align: right;\r\n      flex: 1;\r\n    }\r\n    &--content {\r\n      flex: 5;\r\n      padding-left: 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.team-form {\r\n  .el-select {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n<style>\r\n.avatar-uploader .el-upload {\r\n  position: relative;\r\n  overflow: hidden;\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  font-size: 28px;\r\n  text-align: center;\r\n  color: #8c939d;\r\n}\r\n.avatar {\r\n  display: block;\r\n  width: 100px;\r\n  height: 100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-team.vue?vue&type=template&id=e3e47ba8&scoped=true&\"\nimport script from \"./add-team.vue?vue&type=script&lang=js&\"\nexport * from \"./add-team.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add-team.vue?vue&type=style&index=0&id=e3e47ba8&lang=scss&scoped=true&\"\nimport style1 from \"./add-team.vue?vue&type=style&index=1&lang=scss&\"\nimport style2 from \"./add-team.vue?vue&type=style&index=2&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3e47ba8\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: '/fd/corps',\r\n    method: 'get',\r\n    params: query\r\n    // mock: true\r\n  })\r\n}\r\n// 查看团队编辑历史，入口按钮已被删除\r\n// export function getHistoryList(id, query) {\r\n//   return request({\r\n//     url: '/fd_group/' + id + '/logs',\r\n//     method: 'get',\r\n//     params: query\r\n//   })\r\n// }\r\n\r\nexport function addGroup(params) {\r\n  return request({\r\n    url: '/fd/corps',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\nexport function changeOnlineStatus(id, params) {\r\n  return request({\r\n    url: `/fd/corps/${id}/status`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function putGroup(id, params) {\r\n  return request({\r\n    url: `/fd/corps/${id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function getEditInfo(id) {\r\n  return request({\r\n    url: `/fd/corps/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HmSelect.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HmSelect.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=style&index=2&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=style&index=2&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-team.vue?vue&type=style&index=1&lang=scss&\"","import request from '@/utils/request'\r\nexport const oss = () => {\r\n  return request({\r\n    url: '/oss/auth',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const getImageMeta = url => {\r\n  return request({\r\n    url: url + '?x-oss-process=image/info',\r\n    method: 'get'\r\n  })\r\n}\r\nexport const postObject = async ({ oss: ossData, key, file, onProgress }) => {\r\n  const data = new FormData()\r\n  data.append('OSSAccessKeyId', ossData.OSSAccessKeyId)\r\n  data.append('success_action_status', 200)\r\n  data.append('policy', ossData.policy)\r\n  data.append('Signature', ossData.Signature)\r\n  data.append('key', key)\r\n  data.append('file', file)\r\n  let url = 'https://pic1.baobaohehu.com/'\r\n  await request({\r\n    url,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    onUploadProgress: onProgress || null,\r\n    data\r\n  })\r\n  url = url + key\r\n  let meta\r\n  if (file.type.indexOf('image') > -1) {\r\n    meta = await getImageMeta(url)\r\n  } else if (file.type.indexOf('video') > -1) {\r\n    meta = {\r\n      ...file.videoMeta,\r\n      size: file.size\r\n    }\r\n  } else if (file.type.indexOf('audio') > -1) {\r\n    meta = {\r\n      size: file.size,\r\n      type: file.type\r\n    }\r\n  } else {\r\n    throw new Error(\r\n      '当前上传的类型不是image或者video；当前上传的类型是' + file.type\r\n    )\r\n  }\r\n  return {\r\n    url,\r\n    meta: meta\r\n  }\r\n}\r\n// 获取文件后缀名\r\nexport const extname = filename => {\r\n  if (!filename || typeof filename !== 'string') {\r\n    return false\r\n  }\r\n  const a = filename\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  const b = a\r\n    .substring(0, a.search(/\\./))\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  return b\r\n}\r\n/**\r\n * 封装下oss获取跟上传\r\n * @param file\r\n * @param onProgress\r\n * @returns {Promise.<*>}\r\n */\r\nexport const upload = async (file, onProgress) => {\r\n  const { data } = await oss()\r\n  const random = Math.floor(Math.random() * (100 - 1)) + 1\r\n  let fileName = new Date().getTime()\r\n  const fileType = extname(file.name)\r\n  fileName = fileName + random + '.' + fileType\r\n  const key = `${data.path}/${data.prefix}/${fileName}`\r\n  const res = await postObject({ oss: data, key, file, onProgress })\r\n  return res\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChankeDoctorSelect.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChankeDoctorSelect.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}