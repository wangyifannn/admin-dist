(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73f95d03","chunk-537e3168"],{"116c":function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return n}));var r=o("4de9"),a=o("c88f");function l(e){return r[e]}function n(e,t){return a[e][t]}},"17ec":function(e,t,o){},"3acd":function(e,t,o){"use strict";o.d(t,"i",(function(){return a})),o.d(t,"l",(function(){return l})),o.d(t,"m",(function(){return n})),o.d(t,"g",(function(){return s})),o.d(t,"a",(function(){return i})),o.d(t,"o",(function(){return c})),o.d(t,"d",(function(){return u})),o.d(t,"k",(function(){return d})),o.d(t,"f",(function(){return p})),o.d(t,"e",(function(){return f})),o.d(t,"h",(function(){return h})),o.d(t,"n",(function(){return m})),o.d(t,"c",(function(){return b})),o.d(t,"j",(function(){return w})),o.d(t,"b",(function(){return v}));var r=o("b775");function a(e){return Object(r["a"])({url:"/crm/customer/list",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/crm/user/list",method:"get",params:e})}function n(e){return Object(r["a"])({url:"/crm/user/".concat(e),method:"get",params:e})}function s(e){return Object(r["a"])({url:"/crm/customer/".concat(e,"/detail"),method:"get",params:e})}function i(e){return Object(r["a"])({url:"/crm/customer",method:"post",data:e})}function c(e,t){return Object(r["a"])({url:"/crm/customer/".concat(t,"/update"),method:"put",data:e})}function u(e,t){return Object(r["a"])({url:"/crm/customer/".concat(t,"/relative"),method:"put",data:e})}function d(e,t){return Object(r["a"])({url:"/crm/customer/".concat(e,"/orders"),method:"get",params:t})}function p(e){return Object(r["a"])({url:"/crm/customer/".concat(e,"/brief_info"),method:"get"})}function f(e,t){return Object(r["a"])({url:"/crm/customer/".concat(e,"/path"),method:"post",data:t})}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["a"])({url:"/crm/customer/".concat(e,"/path/list"),method:"get",params:t})}function m(){return Object(r["a"])({url:"/crm/basic/customer/supervisor/options",method:"get"})}function b(e){return Object(r["a"])({url:"/crm/customer/change_supervisor",method:"put",data:e})}function w(e){return Object(r["a"])({url:"/crm/customer/".concat(e,"/creator_options"),method:"get"})}function v(e){return Object(r["a"])({url:"/crm/customer/".concat(e,"/cancel_relative"),method:"put"})}},"3ceb":function(e,t,o){"use strict";var r=o("17ec"),a=o.n(r);a.a},"4de9":function(e){e.exports={customerList:[{prop:"nickname",label:"微信昵称",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"babys",label:"宝宝信息",width:"auto",fixed:!1,sortable:!1,type:"ArrayObject",separator:"-",object:[{prop:"name",label:"",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"desc",label:"",width:"auto",fixed:!1,sortable:!1,show:!0}],show:!0},{prop:"user_type",label:"客户类型",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"source_channel",label:"来源渠道",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"createAt",label:"创建时间",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"customer_ask",label:"首次沟通客户诉求",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"supervisor",label:"当前负责人",width:"auto",fixed:!1,type:"slot",sortable:!1,show:!0},{prop:"isRelative",label:"是否与系统关联",width:"auto",fixed:!1,sortable:!1,type:"slot",show:!0},{prop:"fd_sign_status",label:"当前签约状态",width:"auto",fixed:!1,sortable:!1,slot:{header:!0,content:"表示该客户当前家庭医生签约状态",placement:"top"},show:!0},{prop:"updatedAt",label:"更新时间",width:"auto",fixed:!1,sortable:!1,show:!0}],relatedList:[{prop:"user_id",label:"用户ID",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"nickname",label:"用户微信",width:"auto",fixed:!1,type:"slot",sortable:!1,show:!0},{prop:"gender",label:"性别",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"mobile",label:"联系方式",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"area",label:"地区信息",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"lastLoginTime",label:"最后登录时间",width:"auto",fixed:!1,sortable:!1,show:!0},{type:"Object",fprop:"last_order",prop:"order_id",label:"最近一次订单号",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"last_order_created_at",label:"最近一次订单时间",width:"auto",fixed:!1,sortable:!1,show:!0},{fprop:"last_order",prop:"order_name",type:"Object",label:"最近一次订单名称",width:"auto",fixed:!1,sortable:!1,show:!0},{fprop:"last_order",prop:"order_type",type:"Object",label:"最近一次订单类型",width:"auto",fixed:!1,sortable:!1,show:!0},{fprop:"last_order",prop:"order_status",cpropType:"Object",cprop:"value",type:"Object",label:"最近一次订单状态",width:"auto",fixed:!1,sortable:!1,show:!0}],opratorAction:[{prop:"id",label:"编号",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"actionName",label:"运营动作描述",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"description",label:"描述",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"creator",label:"创建人",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"createAt",label:"创建时间",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"status",label:"状态",width:"auto",type:"switch",fixed:!1,sortable:!1,show:!0}],orderList:[{prop:"orderId",label:"订单号",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"createAt",label:"订单创建时间",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"orderName",label:"订单名称",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"orderType",label:"订单类型",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"unitPrice",label:"单价",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"count",label:"数量",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"afterMarket",label:"售后状态",width:"auto",fixed:!1,sortable:!1,show:!0,type:"slot"},{prop:"user",label:"客户",width:"auto",fixed:!1,sortable:!1,show:!0,type:"slot"},{prop:"tradeStatus",label:"交易状态",width:"auto",fixed:!1,sortable:!1,show:!0,type:"slot"},{prop:"cost",label:"实收款",width:"auto",fixed:!1,sortable:!1,show:!0}]}},5067:function(e,t,o){"use strict";var r=o("892a"),a=o.n(r);a.a},7024:function(e,t,o){},"7df0":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"customer__basic"},[o("el-row",{staticClass:"customer__basic-info",attrs:{gutter:24}},[o("el-col",{attrs:{span:24}},[o("el-row",{staticClass:"info-top",attrs:{gutter:24}},[o("el-col",{staticClass:"user-avatar",attrs:{span:3}},[o("el-avatar",{key:e.userInfo.id,attrs:{src:e.userInfo.avatar}})],1),o("el-col",{attrs:{span:7}},[o("span",{staticClass:"span-key"},[e._v("客户昵称：")]),o("span",{staticClass:"span-val",attrs:{title:e.userInfo.nickname}},[e._v("\n            "+e._s(e.formatSpanVal(e.userInfo.nickname))+"\n          ")])]),o("el-col",{attrs:{span:7}},[o("div",{staticClass:"item"},[o("span",{staticClass:"span-key"},[e._v("微信号：")]),o("span",{staticClass:"span-val",attrs:{title:e.userInfo.weapp_id}},[e._v("\n              "+e._s(e.formatSpanVal(e.userInfo.weapp_id))+"\n            ")])])]),o("el-col",{attrs:{span:7}},[o("span",{staticClass:"span-key"},[e._v("用户ID：")]),o("span",{staticClass:"span-val",attrs:{title:e.userInfo.user_id}},[e._v("\n            "+e._s(e.formatSpanVal(e.userInfo.user_id))+"\n          ")])])],1),o("el-row",{staticClass:"align-left",attrs:{gutter:24}},e._l(e.userInfo.babys,(function(t,r){return o("el-col",{key:t._id,staticClass:"margin-bottom-10",attrs:{offset:r%3===0?3:0,span:7}},[e._v("\n          宝宝：\n          "),o("span",{attrs:{title:e.getBabyInfo(t)}},[e._v(e._s(e.formatSpanVal(e.getBabyInfo(t))))])])})),1)],1)],1)],1)},a=[],l=(o("7f7f"),o("c5f6"),o("3acd")),n=o("8975"),s={name:"UserInfo",props:{customerId:{type:String,default:""},ellipsisLength:{type:Number,default:20}},data:function(){return{userInfo:{}}},methods:{formatSpanVal:function(e){return e?Object(n["ellipsis"])(e,this.ellipsisLength):"-"},getBabyInfo:function(e){return e.name+"-"+e.info},getCardUserInfo:function(e){var t=this;Object(l["f"])(e).then((function(e){2e4===e.code&&(t.userInfo=e.data)}))}},watch:{customerId:function(e){this.getCardUserInfo(e)}},created:function(){this.getCardUserInfo(this.customerId)}},i=s,c=(o("954b"),o("2877")),u=Object(c["a"])(i,r,a,!1,null,"da53301e",null);t["a"]=u.exports},"892a":function(e,t,o){},"954b":function(e,t,o){"use strict";var r=o("7024"),a=o.n(r);a.a},9873:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return a}));var r={disabledDate:function(e){return e.getTime()<Date.now()-1728e5||e.getTime()>Date.now()}};function a(e){switch(e.action_type){case"add":return{dotColor:"#409EFF",iconType:"iconico_entry"};case"follow":return{dotColor:"#FFB718",iconType:"iconico_operationx"};case"relative":return{dotColor:"#67C23A",iconType:"iconico_relevancex"};case"out_service":return{dotColor:"#F56C6C",iconType:"iconico_relievex"};case"add_order":return{dotColor:"#409EFF",iconType:"iconico_create_orderx"};default:return{}}}},c88f:function(e){e.exports={customerListSearch:{item:[{type:"text",name:"user_id",value:"",placeholder:"请输入用户ID",width:"100%",label:"用户ID:",show:!0,colSpan:6,rules:[]},{type:"text",name:"weapp_info",value:"",placeholder:"请输入客户微信名或昵称",width:"100%",label:"客户:",colSpan:6,show:!0,rules:[]},{type:"text",name:"baby_name",value:"",placeholder:"请输入宝宝乳名",width:"100%",colSpan:6,label:"宝宝乳名:",show:!0,rules:[]},{type:"creator",haveItem:!0,value:"",show:!0,colSpan:6,placeholder:"请选择创建人",label:"创建人:",name:"creator"},{type:"datetimerange",name:"createAt",placeholder:"创建日期",value:"",width:"100%",colSpan:10,label:"创建日期:",show:!0,rules:[]},{type:"supervisor",haveItem:!0,value:"",placeholder:"请选择负责人",show:!0,label:"负责人:",name:"supervisor"},{type:"contractStatus",haveItem:!0,value:"",show:!0,placeholder:"请选择当前签约状态",label:"当前签约状态:",name:"fd_sign"},{type:"customerType",haveItem:!0,value:"",show:!0,label:"客户类型:",placeholder:"请选择客户类型",isOpen:"all",disabled:!1,name:"user_type",colSpan:7},{type:"sourceChannel",haveItem:!0,value:"",show:!0,label:"来源渠道:",placeholder:"请选择来源渠道",isOpen:"all",disabled:!1,colSpan:7,multiple:!0,name:"sourceChannel"},{type:"relatedStatus",haveItem:!0,value:"",show:!0,label:"关联状态:",placeholder:"请选择关联状态",colSpan:5,name:"relative_status"},{type:"btn",colSpan:5,show:!0}],data:{user_id:"",weapp_info:"",baby_name:"",sourceChannel:"",user_type:"",createAt:"",creator:"",supervisor:"",relative_status:"",fd_sign:""}},customerRelatedSearch:{item:[{type:"text",name:"user_id",value:"",placeholder:"请输入用户ID",width:"100%",label:"用户ID:",show:!0,colSpan:6,rules:[]},{type:"text",name:"nickname",value:"",placeholder:"请输入用户昵称",width:"100%",label:"用户:",colSpan:6,show:!0,rules:[]},{type:"text",name:"mobile",value:"",placeholder:"请输入用户联系方式",width:"100%",label:"联系方式:",show:!0,colSpan:7,rules:[]},{type:"text",value:"",show:!0,label:"订单号:",colSpan:6,placeholder:"请输入订单号",name:"order_id"},{type:"btn",colSpan:13,show:!0}],data:{user_id:"",nickname:"",mobile:"",order_id:"",order_name:"",order_status:""}},customerAddForm:{item:[{type:"text",name:"nickname",value:"",placeholder:"请输入客户微信昵称",width:"100%",label:"客户微信昵称:",show:!0,rules:[{required:!0,message:"请输入客户微信昵称",trigger:"blur"}]},{type:"text",name:"weapp_id",value:"",placeholder:"请输入客户微信号",width:"100%",label:"客户微信号:",showlimit:!0,maxlength:20,show:!0,rules:[{required:!0,message:"请输入客户微信号",trigger:"blur"}]},{type:"radio",name:"is_during_pregnancy",value:"",width:"100%",label:"客户怀孕状态:",show:!0,options:[{value:!1,label:"未怀孕"},{value:!0,label:"怀孕中"}],rules:[{required:!0,message:"请选择客户怀孕状态",trigger:"blur"}]},{type:"customerType",haveItem:!0,value:"",show:!0,label:"客户类型:",placeholder:"请选择客户类型",name:"user_type",isOpen:!0,disabled:!1,rules:[{required:!0,message:"请选择客户类型",trigger:"blur"}]},{type:"sourceChannel",haveItem:!0,value:"",show:!0,label:"来源渠道:",placeholder:"请选择来源渠道",isOpen:!0,disabled:!1,rules:[{required:!0,message:"请选择来源渠道",trigger:"blur"}],multiple:!1,name:"sourceChannel"},{type:"textarea",name:"customer_ask",value:"",placeholder:"请填写首次沟通客户诉求",width:"100%",label:"首次沟通客户诉求:",disabled:!0,show:!0,rules:[{required:!0,message:"请填写首次沟通客户诉求",trigger:"blur"}]},{type:"text",name:"customer_realname",value:"",placeholder:"请输入客户真实姓名",width:"100%",label:"客户真实姓名:",show:!0,showlimit:!0,maxlength:20,rules:[]},{type:"text",name:"mobile",value:"",placeholder:"请输入客户联系方式",width:"100%",label:"客户联系方式:",show:!0,showlimit:!0,maxlength:20,rules:[]},{type:"textarea",name:"remark",value:"",placeholder:"请填写备注信息",width:"100%",label:"备注:",show:!0,rules:[]}],data:{nickname:"",weapp_id:"",is_during_pregnancy:"",user_type:"",sourceChannel:"",customer_ask:"",realName:"",relative_user:"",mobile:"",remark:""}},historySearchForm:{item:[{type:"datetimerange",name:"createTime",placeholder:"请选择时间",value:"",width:"100%",colSpan:8,label:"运营动作创建时间",show:!0,rules:[]},{type:"supervisor",haveItem:!0,value:"",show:!0,label:"负责人:",name:"supervisor",colSpan:5},{type:"btn",colSpan:5,show:!0}],data:{createTime:"",supervisor:""}}}},d95e:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"跟进客户",visible:e.followDialogVisible,width:"45%","before-close":e.handleClose,center:!1},on:{"update:visible":function(t){e.followDialogVisible=t},opened:e.resetFollowForm}},[o("div",{staticClass:"margin-bottom-30"},[o("customer-basic-info",{attrs:{"customer-id":e.customerId,"ellipsis-length":12}})],1),o("div",{staticClass:"follow"},[o("el-form",{ref:"followForm",attrs:{model:e.followForm,"label-position":"right","label-width":"120px"}},[o("oprator-action-select",{attrs:{"is-open":!0,prop:"action",rules:[{required:!0,message:"请选择运营动作",trigger:"change"}]},model:{value:e.followForm.action,callback:function(t){e.$set(e.followForm,"action",t)},expression:"followForm.action"}}),o("el-form-item",{attrs:{label:"运营动作日期",prop:"actionDate",rules:[{required:!0,message:"请选择运营动作日期",trigger:"blur"}]}},[o("div",{staticClass:"follow-dialog__picker"},[o("el-date-picker",{staticClass:"follow-dialog__date-picker",attrs:{"picker-options":e.pickerOptions,type:"date",placeholder:"请选择运营动作日期"},model:{value:e.followForm.actionDate,callback:function(t){e.$set(e.followForm,"actionDate",t)},expression:"followForm.actionDate"}})],1)]),o("el-form-item",{attrs:{label:"备注",prop:"desc"}},[o("el-input",{attrs:{type:"textarea",rows:3,"show-word-limit":"",placeholder:"请输入内容"},model:{value:e.followForm.desc,callback:function(t){e.$set(e.followForm,"desc",t)},expression:"followForm.desc"}})],1)],1)],1),o("div",{staticClass:"form-tip"},[e._v("\n    运营动作日期仅能选择当天及前日，请及时录入跟进信息\n  ")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.addFollow}},[e._v("确认提交")])],1)])},a=[],l=o("54b5"),n=o("7df0"),s=o("9873"),i=o("3acd"),c={name:"followCustomerDialog",props:{followDialogVisible:{type:Boolean,default:!1},customerId:{type:String,default:""}},components:{OpratorActionSelect:l["a"],CustomerBasicInfo:n["a"]},data:function(){return{pickerOptions:s["a"],followForm:{action:"",actionDate:"",desc:""}}},methods:{addFollow:function(){var e=this;this.$refs.followForm.validate((function(t){if(!t)return!1;var o={opration_action:e.followForm.action,desc:e.followForm.desc,action_at:e.followForm.actionDate};Object(i["e"])(e.customerId,o).then((function(t){2e4===t.code&&(e.$message.success("跟进用户成功"),e.$emit("followSuccess"))}))}))},handleClose:function(){this.$emit("closeDialog")},resetFollowForm:function(){this.$refs.followForm.resetFields()}}},u=c,d=(o("5067"),o("3ceb"),o("2877")),p=Object(d["a"])(u,r,a,!1,null,"1785dd7a",null);t["a"]=p.exports},f8b7:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"i",(function(){return l})),o.d(t,"h",(function(){return n})),o.d(t,"k",(function(){return s})),o.d(t,"l",(function(){return i})),o.d(t,"d",(function(){return c})),o.d(t,"f",(function(){return u})),o.d(t,"e",(function(){return d})),o.d(t,"j",(function(){return p})),o.d(t,"g",(function(){return f})),o.d(t,"c",(function(){return h})),o.d(t,"m",(function(){return m})),o.d(t,"b",(function(){return b}));var r=o("b775");function a(e){return Object(r["a"])({url:"/fd/contract/".concat(e,"/active"),method:"put"})}function l(){return Object(r["a"])({url:"order/basic/options",method:"get"})}function n(){return Object(r["a"])({url:"/order/basic/order_name/options",method:"get"})}function s(){return Object(r["a"])({url:"/order/basic/order_status/options",method:"get"})}function i(){return Object(r["a"])({url:"/order/basic/order_type/options",method:"get"})}function c(e){return Object(r["a"])({url:"/order/check_export",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/order/".concat(e,"/detail"),method:"get"})}function d(e,t){return Object(r["a"])({url:"/order/".concat(e,"/close"),method:"put",data:t})}function p(){return Object(r["a"])({url:"/order/process_numbers",method:"get"})}function f(e){return Object(r["a"])({url:"/order/list",method:"post",data:e})}function h(e,t){return Object(r["a"])({url:"/order/".concat(e,"/refund"),method:"put",data:t})}function m(e){return Object(r["a"])({url:"/order/log",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/order/log",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-73f95d03.b484c49d.js.map