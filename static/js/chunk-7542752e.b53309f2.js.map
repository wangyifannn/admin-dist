{"version":3,"sources":["webpack:///./src/views/user-management/index.vue?242c","webpack:///src/views/user-management/index.vue","webpack:///./src/views/user-management/index.vue?6914","webpack:///./src/views/user-management/index.vue","webpack:///./src/views/user-management/index.vue?6aff","webpack:///./src/utils/crmRequest.js","webpack:///./src/api/assistantManage.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","userSearch","model","value","callback","$$v","$set","trim","expression","_l","item","key","label","staticStyle","on","onSubmit","_v","resetForm","list","hasListInfo","scopedSlots","_u","fn","scope","domProps","_s","row","baby","follow","$event","$router","push","currentPage","pageSize","count","handleSizeChange","handleCurrentChange","staticRenderFns","data","isOpen","delShow","rowInfo","singleList","createNameList","babyInfo","name","source","type","charge","time","gender","typeList","sourceList","genderList","chargeList","computed","getBaby","info","getSourceType","getFollowInfo","getUserTypeInfo","level","getUserSource","first_name","created","getCurrentList","getUserType","getUserTypeList","methods","val","component","service","axios","create","baseURL","process","timeout","interceptors","request","use","config","store","getters","token","headers","getToken","error","console","log","Promise","reject","response","res","url","indexOf","code","router","Message","message","duration","dispatch","then","location","reload","Error","getHelperList","params","method","getAdminList","getHelper","createHelper","matchingHelper","id","updateHelper","deleteHelper","getChannelList","createChannel","updateChannel","deleteChannel","createUserType","updateUserType","deleteUserType","getFollowList","createFollow","updateFollow","deleteFollow","setStatus","getUserInfo","getFollowLog","getOrderList","addSource","putSource","getSourceDetail","deleteSource","getSourceList","getQrcode","getCodeList","createProgramCode","deleteProgramCode","downloadCode"],"mappings":"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","file":"static/js/chunk-7542752e.b53309f2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topic-list\"},[_c('el-form',{ref:\"userSearch\",attrs:{\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.userSearch,\"inline\":\"\"}},[_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"用户昵称\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入用户昵称\"},model:{value:(_vm.userSearch.name),callback:function ($$v) {_vm.$set(_vm.userSearch, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userSearch.name\"}})],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"用户来源\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择用户来源\"},model:{value:(_vm.userSearch.source),callback:function ($$v) {_vm.$set(_vm.userSearch, \"source\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userSearch.source\"}},_vm._l((_vm.sourceList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"用户类型\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择用户类型\"},model:{value:(_vm.userSearch.type),callback:function ($$v) {_vm.$set(_vm.userSearch, \"type\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userSearch.type\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"负责人\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入负责人姓名\"},model:{value:(_vm.userSearch.charge),callback:function ($$v) {_vm.$set(_vm.userSearch, \"charge\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userSearch.charge\"}})],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"添加日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"-\",\"start-placeholder\":\"起始添加时间\",\"end-placeholder\":\"截止添加时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.userSearch.time),callback:function ($$v) {_vm.$set(_vm.userSearch, \"time\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userSearch.time\"}})],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"性别\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择用户性别\"},model:{value:(_vm.userSearch.gender),callback:function ($$v) {_vm.$set(_vm.userSearch, \"gender\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userSearch.gender\"}},_vm._l((_vm.genderList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{staticClass:\"select-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")]),_c('el-button',{staticClass:\"select-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1),_c('div',{staticClass:\"list\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\",\"empty-text\":_vm.hasListInfo}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"name\",\"label\":\"用户昵称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"gender\",\"label\":\"用户性别\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"baby\",\"label\":\"宝宝信息\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row.baby)}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"source\",\"label\":\"用户来源\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"scene\",\"label\":\"来源场景\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"用户类型\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"follow\",\"label\":\"跟进情况\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row.follow)}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"charge\",\"label\":\"当前负责人\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"appeal\",\"label\":\"用户诉求\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"first_time\",\"label\":\"首次添加时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"update_time\",\"label\":\"更新时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"count\",\"label\":\"签约次数\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push(\n                (\"/user-manage/user-info/\" + (scope.row.external_userid))\n              )}}},[_vm._v(\"查看详情\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 50],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"topic-list\">\r\n    <!--  搜索  -->\r\n    <el-form\r\n      ref=\"userSearch\"\r\n      label-position=\"left\"\r\n      label-width=\"100px\"\r\n      :model=\"userSearch\"\r\n      inline\r\n    >\r\n      <el-form-item label=\"用户昵称\" class=\"search-item\">\r\n        <el-input\r\n          v-model.trim=\"userSearch.name\"\r\n          clearable\r\n          placeholder=\"请输入用户昵称\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"用户来源\" class=\"search-item\">\r\n        <el-select\r\n          v-model.trim=\"userSearch.source\"\r\n          clearable\r\n          placeholder=\"请选择用户来源\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in sourceList\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户类型\" class=\"search-item\">\r\n        <el-select\r\n          v-model.trim=\"userSearch.type\"\r\n          clearable\r\n          placeholder=\"请选择用户类型\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in typeList\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"负责人\" class=\"search-item\">\r\n        <el-input\r\n          v-model.trim=\"userSearch.charge\"\r\n          clearable\r\n          placeholder=\"请输入负责人姓名\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"添加日期\" class=\"search-item\">\r\n        <el-date-picker\r\n          v-model.trim=\"userSearch.time\"\r\n          type=\"daterange\"\r\n          align=\"right\"\r\n          unlink-panels\r\n          range-separator=\"-\"\r\n          start-placeholder=\"起始添加时间\"\r\n          end-placeholder=\"截止添加时间\"\r\n          value-format=\"yyyy-MM-dd\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"性别\" class=\"search-item\">\r\n        <el-select\r\n          v-model.trim=\"userSearch.gender\"\r\n          clearable\r\n          placeholder=\"请选择用户性别\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in genderList\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item style=\"float: right\">\r\n        <el-button type=\"primary\" class=\"select-btn\" @click=\"onSubmit\"\r\n          >查询</el-button\r\n        >\r\n        <el-button type=\"primary\" class=\"select-btn\" @click=\"resetForm\"\r\n          >重置</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n    <!--  列表  -->\r\n    <div class=\"list\">\r\n      <el-table\r\n        :data=\"list\"\r\n        style=\"width: 100%\"\r\n        border\r\n        :empty-text=\"hasListInfo\"\r\n      >\r\n        <el-table-column fixed prop=\"name\" label=\"用户昵称\" align=\"center\" />\r\n        <el-table-column prop=\"gender\" label=\"用户性别\" align=\"center\" />\r\n        <el-table-column prop=\"baby\" label=\"宝宝信息\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-html=\"scope.row.baby\"></div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"source\" label=\"用户来源\" align=\"center\" />\r\n        <el-table-column prop=\"scene\" label=\"来源场景\" align=\"center\" />\r\n        <el-table-column prop=\"type\" label=\"用户类型\" align=\"center\" />\r\n        <el-table-column prop=\"follow\" label=\"跟进情况\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-html=\"scope.row.follow\"></div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"charge\" label=\"当前负责人\" align=\"center\" />\r\n        <el-table-column prop=\"appeal\" label=\"用户诉求\" align=\"center\" />\r\n        <el-table-column\r\n          prop=\"first_time\"\r\n          label=\"首次添加时间\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column prop=\"update_time\" label=\"更新时间\" align=\"center\" />\r\n        <el-table-column prop=\"count\" label=\"签约次数\" align=\"center\" />\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"150\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"\r\n                $router.push(\r\n                  `/user-manage/user-info/${scope.row.external_userid}`\r\n                )\r\n              \"\r\n              >查看详情</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[10, 20, 50]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"count\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getCurrentList,\r\n  getUserType,\r\n  getUserTypeList\r\n} from '@/api/assistantManage'\r\nimport { getAge } from '@/utils'\r\nexport default {\r\n  data() {\r\n    return {\r\n      isOpen: false,\r\n      list: [],\r\n      currentPage: 1,\r\n      delShow: false,\r\n      pageSize: 10,\r\n      count: 0,\r\n      rowInfo: '',\r\n      hasListInfo: '暂无数据',\r\n      singleList: [],\r\n      createNameList: [],\r\n      babyInfo: [],\r\n      userSearch: {\r\n        name: '',\r\n        source: '',\r\n        type: '',\r\n        charge: '',\r\n        time: ['', ''],\r\n        gender: ''\r\n      },\r\n      typeList: [],\r\n      sourceList: [],\r\n      genderList: [\r\n        { value: 1, label: '男' },\r\n        { value: 2, label: '女' }\r\n      ],\r\n      chargeList: [{ value: '233', label: '233' }]\r\n    }\r\n  },\r\n  computed: {\r\n    getBaby() {\r\n      return function(arr) {\r\n        let info = ''\r\n        for (const item of arr) {\r\n          const gender =\r\n            item.gender === 1 ? '男' : item.gender === 2 ? '女' : '未知'\r\n          const { year, month, date } = getAge(item.birthday)\r\n          const monthAge = `${year ? year + '年' : ''}${\r\n            month ? month + '月' : ''\r\n          }${date ? date + '天' : ''}`\r\n          info += `${item.name ? item.name + '/' : ''}${\r\n            item.birthday ? monthAge + '/' : ''\r\n          }${gender}<br />`\r\n        }\r\n        return info || '/'\r\n      }\r\n    },\r\n    getSourceType() {\r\n      return function(type) {\r\n        if (type === 'public_account') return '公众号'\r\n        if (type === 'association') return '社群'\r\n        if (type === 'small_routine') return '小程序'\r\n        if (type === 'under_line') return '线下'\r\n        if (type === 'video') return '视频'\r\n        if (type === 'other') return '其它'\r\n      }\r\n    },\r\n    getFollowInfo() {\r\n      return function(current_count, count, time) {\r\n        return (\r\n          (current_count > 0 ? '跟进中' : '未跟进') +\r\n          '<br />跟进次数/总次数：' +\r\n          (current_count || 0) +\r\n          '/' +\r\n          (count || 0) +\r\n          '<br />最近跟进时间间：' +\r\n          (time ? this.formatTime(time) : '/')\r\n        )\r\n      }\r\n    },\r\n    getUserTypeInfo() {\r\n      return function(type) {\r\n        if (type) {\r\n          return type.type + (type.level ? '-' + type.level : '')\r\n        }\r\n        return ''\r\n      }\r\n    },\r\n    getUserSource() {\r\n      return function(type) {\r\n        if (type && type.first_name) {\r\n          return `${type.first_name}-${type.second_name}-${type.three_name}`\r\n        }\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCurrentList()\r\n    this.getUserType()\r\n    this.getUserTypeList()\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      this.currentPage = 1\r\n      this.getCurrentList(this.userSearch)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getCurrentList(this.userSearch)\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.getCurrentList(this.userSearch)\r\n    },\r\n    resetForm() {\r\n      this.userSearch = {\r\n        name: '',\r\n        source: '',\r\n        type: '',\r\n        charge: '',\r\n        time: ['', ''],\r\n        gender: ''\r\n      }\r\n      this.getCurrentList()\r\n    },\r\n    async getCurrentList(search) {\r\n      let params = {\r\n        page: this.currentPage,\r\n        pageSize: this.pageSize\r\n      }\r\n      if (search) {\r\n        if (search.name) params.name = search.name\r\n        if (search.type) params.user_type = search.type\r\n        if (search.charge) params.handler_name = search.charge\r\n        if (search.time && search.time[0] && search.time[1])\r\n          params.created_at = search.time[0] + '|' + search.time[1]\r\n        if (search.gender) params.gender = search.gender\r\n        if (search.source) params.user_source = search.source\r\n      }\r\n      const { code, data } = await getCurrentList(params)\r\n      if (code === 10000) {\r\n        this.count = data.count\r\n        this.list = data.list.map(item => {\r\n          return {\r\n            name: item.name,\r\n            gender:\r\n              item.gender === 1 ? '男' : item.gender === 2 ? '女' : '未知',\r\n            baby: item.member ? this.getBaby(item.member) : '/',\r\n            source: this.getUserSource(item.user_source) || '/',\r\n            scene: item.from_scene || '/',\r\n            type: this.getUserTypeInfo(item.user_type) || '/',\r\n            follow: this.getFollowInfo(\r\n              item.follow_current_times,\r\n              item.follow_total_times,\r\n              item.last_follow_at\r\n            ),\r\n            charge:\r\n              `${item.handler_name || ''}${\r\n                item.nickname ? `(${item.nickname})` : ''\r\n              }` || '/',\r\n            appeal: item.user_remark || '/',\r\n            first_time: item.created_at\r\n              ? this.formatTime(item.created_at)\r\n              : '-',\r\n            update_time: item.updated_at\r\n              ? this.formatTime(item.created_at)\r\n              : '-',\r\n            count: item.order_count || 0,\r\n            id: item._id,\r\n            user_id: item.user_id,\r\n            external_userid: item.external_userid\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async getUserType() {\r\n      const { code, data } = await getUserType()\r\n      if (code === 10000) {\r\n        this.sourceList = data.list\r\n          .map(v => {\r\n            return `${v.first_name}-${v.second_name}-${v.three_name}`\r\n          })\r\n          .filter((v, index, arr) => {\r\n            return arr.indexOf(v) === index\r\n          })\r\n      }\r\n    },\r\n    async getUserTypeList() {\r\n      const { code, data } = await getUserTypeList({ pageSize: 0 })\r\n      if (code === 10000) {\r\n        this.typeList = data.list\r\n          .map(item => {\r\n            return item.type + (item.level ? '-' + item.level : '')\r\n          })\r\n          .filter((v, index, arr) => {\r\n            return arr.indexOf(v) === index\r\n          })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.topic-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  font-size: 14px;\r\n  margin-bottom: 20px;\r\n  /deep/form {\r\n    width: 100%;\r\n    .el-date-editor {\r\n      padding: 0 10px;\r\n      width: 220px;\r\n      height: 32px;\r\n      .el-range-input {\r\n        width: 85px;\r\n        height: 30px;\r\n      }\r\n    }\r\n  }\r\n  .search-item {\r\n    margin-right: 70px;\r\n    color: #17233d;\r\n    /deep/input {\r\n      width: 220px;\r\n      height: 32px;\r\n      line-height: 32px;\r\n    }\r\n    /deep/span {\r\n      top: -3px;\r\n    }\r\n    /deep/.el-input__suffix {\r\n      top: 0;\r\n    }\r\n  }\r\n  .select-btn {\r\n    padding: 0 20px;\r\n    width: 68px;\r\n    height: 32px;\r\n  }\r\n  .arrow {\r\n    float: right;\r\n  }\r\n  .list {\r\n    margin: 20px 0 0;\r\n    width: 100%;\r\n    .title {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      line-height: 32px;\r\n      /deep/button {\r\n        padding: 6px 20px;\r\n        height: 32px;\r\n      }\r\n    }\r\n    /deep/.el-dialog__wrapper {\r\n      button {\r\n        padding: 6px 20px;\r\n        height: 32px;\r\n      }\r\n      .el-dialog__headerbtn {\r\n        top: 10px;\r\n        right: 5px;\r\n      }\r\n    }\r\n    .pagination {\r\n      margin-top: 50px;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .center {\r\n    text-align: center;\r\n  }\r\n  .el-dialog__wrapper {\r\n    /deep/.el-input__inner {\r\n      width: 220px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=461bce97&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=461bce97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"461bce97\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=461bce97&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=461bce97&lang=scss&scoped=true&\"","import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// const baseUrl = process.env.NODE_ENV === process.env.VUE_APP_BASE_CRM_API\r\n\r\n// create an axios instance\r\nconst service = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_CRM_API, // url = base url + request url\r\n  // withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 200000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // do something before request is sent\r\n    // 使用mock地址或者真实地址\r\n    if (process.env.NODE_ENV === 'development' && config.mock) {\r\n      config.url = process.env.VUE_APP_MOCK_API + config.url\r\n    }\r\n\r\n    if (store.getters.token) {\r\n      // let each request carry token\r\n      // ['Authorization'] is a custom headers key\r\n      // please modify it according to the actual situation\r\n      config.headers['Authorization'] = getToken()\r\n    }\r\n\r\n    return config\r\n  },\r\n  error => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response interceptor\r\nservice.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n   */\r\n\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  response => {\r\n    const config = response.config\r\n    const res = response.data\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    if (config.url.indexOf(config.baseURL) > -1 && res.code !== 10000) {\r\n      // 没有 api 权限\r\n      if (res.code === 40001) {\r\n        router.push('/404')\r\n        return Promise.reject()\r\n      }\r\n\r\n      Message({\r\n        message: res.message || 'Error',\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n\r\n      // 403 超时的访问 401 未授权的访问\r\n      if (res.code === 401) {\r\n        store.dispatch('user/resetToken').then(() => {\r\n          location.reload()\r\n        })\r\n      }\r\n\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      /* if (res.data && res.data.result === false) {\r\n        Message({\r\n          message: res.data.message || 'Error',\r\n          type: 'error',\r\n          duration: 5 * 1000\r\n        })\r\n      }*/\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n","import request from '@/utils/crmRequest'\r\n\r\n/********* 小助手管理 ************/\r\n\r\n// 获取小助手列表\r\nexport function getHelperList(params) {\r\n  return request({\r\n    url: '/corp/wechat/helper',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取员工列表\r\nexport function getAdminList(params) {\r\n  return request({\r\n    url: '/corp/admin',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取列表\r\nexport function getHelper(params) {\r\n  return request({\r\n    url: '/corp/helper',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 创建小助手\r\nexport function createHelper(data) {\r\n  return request({\r\n    url: '/corp/helper',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 匹配运营人员\r\nexport function matchingHelper(id, data) {\r\n  return request({\r\n    url: '/corp/helper/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 更改运营人员\r\nexport function updateHelper(id, data) {\r\n  return request({\r\n    url: '/corp/helper/change/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除小助手\r\nexport function deleteHelper(id) {\r\n  return request({\r\n    url: '/corp/helper/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/********* 小助手管理 ************/\r\n\r\n/********* 来源渠道管理 ************/\r\n\r\n// 获取渠道列表\r\nexport function getChannelList(params) {\r\n  return request({\r\n    url: '/corp/source_channel',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 新增渠道\r\nexport function createChannel(data) {\r\n  return request({\r\n    url: '/corp/source_channel',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新渠道\r\nexport function updateChannel(id, data) {\r\n  return request({\r\n    url: '/corp/source_channel/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除渠道\r\nexport function deleteChannel(id) {\r\n  return request({\r\n    url: '/corp/source_channel/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/********* 来源渠道管理 ************/\r\n\r\n/********* 用户类型管理 ************/\r\n\r\n// 获取用户类型列表\r\nexport function getUserTypeList(params) {\r\n  return request({\r\n    url: '/corp/user_type',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 新增渠道\r\nexport function createUserType(data) {\r\n  return request({\r\n    url: '/corp/user_type',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新渠道\r\nexport function updateUserType(id, data) {\r\n  return request({\r\n    url: '/corp/user_type/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除渠道\r\nexport function deleteUserType(id) {\r\n  return request({\r\n    url: '/corp/user_type/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/********* 用户类型管理 ************/\r\n\r\n/********* 跟进操作管理 ************/\r\n\r\n// 获取用户类型列表\r\nexport function getFollowList(params) {\r\n  return request({\r\n    url: '/corp/user_visit',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 新增渠道\r\nexport function createFollow(data) {\r\n  return request({\r\n    url: '/corp/user_visit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新渠道\r\nexport function updateFollow(id, data) {\r\n  return request({\r\n    url: '/corp/user_visit/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除渠道\r\nexport function deleteFollow(id) {\r\n  return request({\r\n    url: '/corp/user_visit/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 改变状态\r\nexport function setStatus(id) {\r\n  return request({\r\n    url: '/corp/user_visit/status/' + id,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\n/********* 跟进操作管理 ************/\r\n\r\n/********* 用户管理 ************/\r\n\r\n// 获取用户列表\r\nexport const getCurrentList = params => {\r\n  return request({\r\n    url: 'corp/user',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取用户信息\r\nexport const getUserInfo = id => {\r\n  return request({\r\n    url: 'corp/admin/crm_user/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取跟进列表\r\nexport const getFollowLog = params => {\r\n  return request({\r\n    url: 'corp/follow_up_log',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取用户来源\r\nexport const getUserType = params => {\r\n  return request({\r\n    url: 'corp/source_channel',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取订单列表\r\nexport const getOrderList = id => {\r\n  return request({\r\n    url: 'corp/admin/order/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/********* 用户管理 ************/\r\n\r\n/********* 渠道场景管理 ************/\r\n\r\n// 创建\r\nexport const addSource = data => {\r\n  return request({\r\n    url: 'corp/admin/scene',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新\r\nexport const putSource = (id, data) => {\r\n  return request({\r\n    url: 'corp/admin/scene/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取详情\r\nexport const getSourceDetail = id => {\r\n  return request({\r\n    url: 'corp/admin/scene/detail/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 删除\r\nexport const deleteSource = id => {\r\n  return request({\r\n    url: 'corp/admin/scene/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 获取列表\r\nexport const getSourceList = params => {\r\n  return request({\r\n    url: 'corp/admin/scene',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取二维码qrcode\r\nexport const getQrcode = id => {\r\n  return request({\r\n    url: 'corp/admin/scene/qrcode/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/********* 渠道场景管理 ************/\r\n\r\n/********* 小程序码管理 ************/\r\n\r\n// 获取列表\r\nexport const getCodeList = params => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 创建小程序码\r\nexport const createProgramCode = data => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除小程序码\r\nexport const deleteProgramCode = id => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 下载小程序码\r\nexport const downloadCode = params => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode/download',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n/********* 小程序码管理 ************/\r\n"],"sourceRoot":""}