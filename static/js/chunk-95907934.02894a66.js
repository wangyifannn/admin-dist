(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95907934"],{"0acd":function(e,t,r){"use strict";var a=r("bc3a"),n=r.n(a),i=r("5c96"),c=r("a18c"),o=r("4360"),s=r("5f87"),l=n.a.create({baseURL:"https://api-ch.baobaohehu.com/",timeout:2e5});l.interceptors.request.use((function(e){return o["a"].getters.token&&(e.headers["Authorization"]=Object(s["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.config,r=e.data;return t.url.indexOf(t.baseURL)>-1&&1e3!==r.code?4001===r.code?(c["c"].push("/404"),Promise.reject()):(Object(i["Message"])({message:r.message||"Error",type:"error",duration:5e3}),401===r.code&&o["a"].dispatch("user/resetToken").then((function(){location.reload()})),Promise.reject(new Error(r.message||"Error"))):r}),(function(e){return console.log("err"+e),Object(i["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var u=l;function d(e){return u({url:"/wx_wechat/wx_menu/list",method:"get",params:e})}function f(e){return u({url:"/wx_wechat/wx_menu",method:"post",data:e})}function h(e,t){return u({url:"/wx_wechat/wx_menu/"+e,method:"get",params:t})}function p(e,t){return u({url:"/wx_wechat/wx_menu/"+e,method:"put",data:t})}function m(e){return u({url:"/wx_wechat/wx_menu/"+e,method:"delete"})}function w(e){return u({url:"/wx_wechat/release/wx_menu",method:"post",data:e})}function b(e){return u({url:"/wx_wechat/wx_material",method:"post",data:e})}function _(e){return u({url:"/wx_wechat/wx_keyword_callback",method:"post",data:e})}function y(){return u({url:"/wx_wechat/wx_keyword_callback",method:"get"})}function k(e){return u({url:"/wx_wechat/wx_keyword_callback/"+e,method:"get"})}function g(e,t){return u({url:"/wx_wechat/wx_keyword_callback/"+e,method:"put",data:t})}function x(e){return u({url:"/wx_wechat/wx_keyword_callback/"+e,method:"delete"})}r.d(t,"j",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"i",(function(){return h})),r.d(t,"k",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"l",(function(){return w})),r.d(t,"h",(function(){return b})),r.d(t,"a",(function(){return _})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return k})),r.d(t,"e",(function(){return g})),r.d(t,"c",(function(){return x}))},"4fc6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"source-channel"},[r("el-form",{ref:"sourceSearch",attrs:{"label-position":"left","label-width":"80px",model:e.officialSearch,inline:""}},[r("el-form-item",{staticClass:"search-item",attrs:{label:"菜单名称"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入名称"},model:{value:e.officialSearch.name,callback:function(t){e.$set(e.officialSearch,"name",t)},expression:"officialSearch.name"}})],1),r("el-form-item",{staticStyle:{float:"right"}},[r("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),r("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:e.resetForm}},[e._v("重置")])],1)],1),r("div",{staticClass:"list"},[r("div",{staticClass:"title"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"addMenu"})}}},[e._v("新增父级菜单")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"addKeyword"})}}},[e._v("新增关键字")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.releaseShow=!0}}},[e._v("发布")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","empty-text":e.hasListInfo,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":"id"}},[r("el-table-column",{attrs:{prop:"name",label:"菜单名称",align:"center"}}),r("el-table-column",{attrs:{prop:"url",label:"跳转url（key）",align:"center"}}),r("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.$router.push({name:"editMenu",params:{id:t.row.id}})}}},[e._v("编辑")]),"0"===t.row.parent_id?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.$router.push({name:"addMenu",query:{id:t.row.id}})}}},[e._v("添加子菜单")]):e._e(),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.delShow=!0,e.delText="该菜单信息将不存在",e.rowInfo=t.row}}},[e._v("删除")])]}}])})],1)],1),r("div",{staticClass:"list"},[r("div",{staticClass:"list-title"},[e._v("\n      关键词列表\n    ")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.keywordList,border:"","empty-text":e.hasListInfo}},[r("el-table-column",{attrs:{prop:"keyword",label:"关键词",align:"center"}}),r("el-table-column",{attrs:{prop:"callback_type",label:"返回数据格式",align:"center"}}),r("el-table-column",{attrs:{prop:"callback_data",label:"返回数据",align:"center"}}),r("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.$router.push({name:"editKeyword",params:{id:t.row.id}})}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.delShow=!0,e.delText="该关键词信息将不存在",e.rowInfo=t.row}}},[e._v("删除")])]}}])})],1)],1),r("el-dialog",{attrs:{title:"删除提示",visible:e.delShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.delShow=t}}},[r("p",{staticClass:"center"},[e._v("删除后，"+e._s(e.delText)+"， "),r("br"),e._v("请确定是否删除？")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.delConfirm}},[e._v("确 定")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delShow=!1}}},[e._v("取 消")])],1)]),r("el-dialog",{attrs:{title:"发布提示",visible:e.releaseShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.releaseShow=t}}},[r("p",{staticClass:"center"},[e._v("\n      请确认是否发布？\n    ")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.release}},[e._v("确 定")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.releaseShow=!1}}},[e._v("取 消")])],1)])],1)},n=[],i=(r("7f7f"),r("96cf"),r("3b8d")),c=r("0acd"),o={data:function(){return{isOpen:!1,list:[],delShow:!1,btnText:"",rowInfo:"",delText:"",hasListInfo:"暂无数据",releaseShow:!1,keywordList:[],officialSearch:{name:""}}},created:function(){this.getOfficialList(),this.getKeyword()},methods:{onSubmit:function(){this.currentPage=1,this.getOfficialList(this.officialSearch)},resetForm:function(){this.officialSearch={name:""},this.getOfficialList()},delConfirm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("该菜单信息将不存在"!==this.delText){e.next=9;break}return e.next=3,Object(c["d"])(this.rowInfo.id);case 3:t=e.sent,r=t.code,a=t.message,1e3===r&&(this.$message.success(a),this.delShow=!1,this.getOfficialList(this.officialSearch)),e.next=15;break;case 9:return e.next=11,Object(c["c"])(this.rowInfo.id);case 11:n=e.sent,i=n.code,o=n.message,1e3===i&&(this.$message.success(o),this.delShow=!1,this.getKeyword(this.officialSearch));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),release:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["l"])();case 2:t=e.sent,r=t.code,a=t.data,1e3===r&&(0===a.errcode?(this.releaseShow=!1,this.$message.success("发布成功")):this.$message.error(a.errcode+""));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOfficialList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={pageSize:this.pageSize,page:this.currentPage},t?(t.name&&(r.name=t.name),this.hasListInfo="暂无数据，请重新输入关键词"):this.hasListInfo="暂无数据",e.next=4,Object(c["j"])(r);case 4:a=e.sent,n=a.data,i=a.code,1e3===i&&(this.count=n.count,this.list=n.filter((function(e){return"0"===e.parent_id})).map((function(e,t){return{id:e._id,name:e.name,type:e.type,url:e.key||e.url||"/",callback_type:e.callback_type||"/",callback_data:e.callback_data||"/",created_at:o.formatTime(e.created_at),parent_id:e.parent_id,children:n.filter((function(t){return t.parent_id===e._id})).map((function(e){return{id:e._id,name:e.name,type:e.type,url:e.key||e.url||"/",callback_type:e.callback_type||"/",callback_data:e.callback_data||"/",created_at:o.formatTime(e.created_at),parent_id:e.parent_id}}))}})));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getKeyword:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["f"])();case 2:t=e.sent,r=t.code,a=t.data,1e3===r&&(this.keywordList=a.list.map((function(e){return{callback_type:e.callback_type,callback_data:e.callback_data,keyword:e.keyword,created_at:n.formatTime(e.created_at),id:e._id}})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},s=o,l=(r("a6f8"),r("2877")),u=Object(l["a"])(s,a,n,!1,null,"d9a35732",null);t["default"]=u.exports},a6f8:function(e,t,r){"use strict";var a=r("b44f"),n=r.n(a);n.a},b44f:function(e,t,r){}}]);
//# sourceMappingURL=chunk-95907934.02894a66.js.map