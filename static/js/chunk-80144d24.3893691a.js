(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80144d24"],{"07b2":function(e,t,r){},"0862":function(e,t,r){"use strict";var n=r("93d4"),a=r.n(n);a.a},"0969":function(e,t,r){"use strict";function n(e){switch(e){case"PENDING":return"待付款";case"SUCCESS":return"交易成功";case"CLOSED":return"交易关闭";default:if(e)throw new Error("无法识别的订单状态: ".concat(e));return""}}function a(e){switch(e){case"FdServiceType":return"家庭医生";case"InquiryServiceType":return"问诊";default:throw new Error("无法识别的订单类型: ".concat(e))}}function o(e){switch(e){case"apply_pending":return"请处理退款申请";case"refund_refused":return"退款已被拒绝";case"refund_process":return"退款中";case"refund_success":return"退款成功";default:throw new Error("无法识别的售后状态: ".concat(e))}}r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}))},"0a9a":function(e,t,r){e.exports={menuText:"#17233D",menuActiveText:"#409EFF",subMenuActiveText:"#17233D",menuBg:"#FEFEFE",menuHover:"#ECF4FF",subMenuBg:"#FEFEFE",subMenuHover:"#ECF4FF",sideBarWidth:"240px"}},"159d":function(e,t,r){"use strict";var n=r("5b99"),a=r.n(n);a.a},"19ea":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"close-trade"},[e._t("default"),r("el-dialog",{staticClass:"close-trade__close-order-dialog",attrs:{visible:e.curDialogVisible,"append-to-body":"",width:"400px",top:"25vh"},on:{"update:visible":function(t){e.curDialogVisible=t},closed:e.resetCom}},[r("div",{staticClass:"close-trade__close-order-dialog__body"},[r("div",{staticClass:"close-trade__close-order-dialog__body__tips"},[r("i",{staticClass:"el-icon-warning"}),r("span",[e._v("请您在于用户达成一致的前提下，使用关闭交易这个功能哟！")])]),r("div",{staticClass:"close-trade__close-order-dialog__content"},[r("div",{staticClass:"close-trade__close-order-dialog__content__close-txt"},[e._v("\n          请选择关闭交易的理由\n        ")]),r("el-select",{staticClass:"close-trade__close-order-dialog__content__select",attrs:{placeholder:"请选择关闭交易的理由",size:"small"},model:{value:e.closeReason,callback:function(t){e.closeReason=t},expression:"closeReason"}},e._l(e.closeReasons,(function(e){var t=e.key,n=e.value;return r("el-option",{key:t,attrs:{value:t,label:n}})})),1)],1)]),r("span",{staticClass:"close-trade__close-order-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleClosePendingOrder}},[e._v("关闭交易")]),r("el-button",{staticClass:"close-trade__close-order-dialog__cancel",attrs:{size:"small"},on:{click:function(t){e.curDialogVisible=!1}}},[e._v("取消并返回")])],1)])],2)},a=[],o=(r("96cf"),r("3b8d")),s=r("f8b7"),i=r("27ff"),c={model:{prop:"dialogVisible",event:"change"},props:{id:{type:String,required:!0},dialogVisible:{type:Boolean,default:!1,required:!0}},data:function(){return{curDialogVisible:!1,closeReason:"",closeReasons:[{key:"1",value:"用户不想买了"},{key:"2",value:"其它"}]}},watch:{dialogVisible:function(e){e!==this.curDialogVisible&&(this.curDialogVisible=e)},curDialogVisible:function(e){this.$emit("change",e)}},methods:{handleCloseTrade:function(e,t){return new Promise((function(r){Object(s["e"])(e,{close_reason:t}).then((function(e){Object(i["a"])(e),r()}))}))},handleClosePendingOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.closeReason){e.next=3;break}return this.$message({message:"请选择关闭交易的理由",type:"warning"}),e.abrupt("return");case 3:return e.next=5,this.handleCloseTrade(this.id,this.closeReason).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.curDialogVisible=!1,t.$emit("closeTradeAfter");case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetCom:function(){this.closeReason=""}}},l=c,u=(r("159d"),r("2c38"),r("2877")),d=Object(u["a"])(l,n,a,!1,null,"52382f53",null),f=d.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-info"},[r("card",{attrs:{title:"用户信息"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.userInfo}},[r("el-form-item",{attrs:{label:"用户ID:"}},[e._v(e._s(e.userInfo.userId))]),r("el-form-item",{attrs:{label:"微信昵称:"}},[e._v(e._s(e.userInfo.nickName))]),r("el-form-item",{attrs:{label:"所在地区:"}},[e._v(e._s(e.userInfo.address))]),r("el-form-item",{attrs:{label:"手机型号:"}},[e._v(e._s(e.userInfo.phoneModel))]),r("el-form-item",{attrs:{label:"联系电话:"}},[e._v(e._s(e.userInfo.mobileNumber))])],1)],1),r("card",{attrs:{title:"订单信息"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.orderInfo}},[r("el-form-item",{attrs:{label:"订单号:"}},[e._v(e._s(e.orderInfo.orderId))]),r("el-form-item",{attrs:{label:"微信交易号:"}},[e._v(e._s(e.orderInfo.paymentNumber))]),r("el-form-item",{attrs:{label:"支付方式:"}},[e._v(e._s(e.orderInfo.paymentType))]),r("el-form-item",{attrs:{label:"创建时间:"}},[e._v(e._s(e._f("formatTime")(e.orderInfo.createdDate)))]),"CLOSED"!==e.tradeStatus?r("el-form-item",{attrs:{label:"支付时间:"}},[e._v(e._s(e.orderInfo.payedDate))]):e._e(),"CLOSED"===e.tradeStatus?r("el-form-item",{attrs:{label:"交易关闭时间:"}},[e._v(e._s(e.orderInfo.closedDate))]):e._e()],1)],1),r("DetailTable",{attrs:{tableData:e.orderDetailData}}),e.orderInfo.fdStatus?r("div",{staticClass:"margin-top-20 margin-bottom-10"},[e._v("\n    当前服务状态："+e._s(e.orderInfo.fdStatus)+"\n  ")]):e._e(),"服务中"===e.orderInfo.fdStatus?r("div",[e._v("\n    激活时间："+e._s(e._f("formatTime")(e.contractInfo.started_at))+"\n  ")]):e._e(),"待激活"===e.orderInfo.fdStatus?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.activeService}},[e._v("立即激活")]):e._e(),r("OrderRemark",{attrs:{title:"订单备注",orderOrRefundId:e.orderInfo._id,logicType:"Order",orderId:e.orderInfo._id}})],1)},p=[],_=r("12f9"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("MyTable",{attrs:{size:"mini",stripe:!1,border:!0,multiple:!1,outlineBorder:!1,operation:e.operation,column:e.column,data:e.tableData,currentPage:e.currentPage,pageSize:e.pageSize,total:e.total}})],1)},h=[],v=(r("ac6a"),r("527b")),g=r("b5b3"),y={data:function(){var e={nowPage:"orderDetailTable",show:!1};return{userId:"",column:[],loading:!1,formItem:[],formData:{},pageSize:10,currentPage:1,total:0,operation:e}},props:{tableData:{type:Array,default:function(){return[]}}},components:{MyTable:g["a"]},created:function(){this.fieldInit()},methods:{fieldInit:function(){var e=Object(v["a"])();e.forEach((function(e){e.width&&"auto"!=e.width&&(e.width="300")})),this.column=e}}},w=y,S=Object(u["a"])(w,b,h,!1,null,null,null),x=S.exports,I=r("0969"),O=r("8975"),k=r("284e"),C={id:"",wxNickName:"",address:"",phoneModel:"",mobileNumber:""},T={orderId:"",paymentNumber:"",paymentType:"",createdDate:new Date,payedDate:new Date},D={orderName:"",orderType:"FdServiceType",order_action:"",orderStatus:{value:""},transactionStatus:"",actualUnitPrice:0,count:0},R={status:"",_id:""},j={components:{Card:_["a"],OrderRemark:k["a"],DetailTable:x},filters:{},props:{curOrderInfo:{type:Object,default:function(){}},tradeStatus:{type:String,default:""}},data:function(){return{orderDetailData:[],orderRemark:"order-remark",userInfo:Object.assign({},C),orderInfo:Object.assign({},T),orderTableInfo:Object.assign({},D),contractInfo:Object.assign({},R)}},watch:{curOrderInfo:{handler:function(e){e.user&&e.order&&this.getOrderDetail(e)},deep:!0}},methods:{fenToYuan:O["fenToYuan"],RMBSymbol:O["RMBSymbol"],activeService:function(){this.$emit("activeService")},getOrderDetail:function(e){var t=e.user,r=void 0===t?{}:t,n=e.order,a=void 0===n?{}:n,o=e.contract,s=void 0===o?{}:o;this.userInfo=Object.assign(C,{userId:r.user_id,nickName:r.nick_name,address:r.area,phoneModel:r.phone_code,mobileNumber:r.mobile}),this.orderInfo=Object.assign(T,{_id:a._id||this.$route.params.id,orderId:a.order_id,paymentNumber:a.out_trade_no,paymentType:a.payment_type,createdDate:a.created_at,closedDate:this.formatTime(a.closed_at),payedDate:a.payed_at?this.formatTime(a.payed_at):"",cost:a.cost,fdStatus:a.fd_status,sumPrice:a.cost_price?a.cost_price:""}),this.orderTableInfo=Object.assign(D,{orderName:a.order_name,orderType:a.order_type?a.order_type:"",orderTypeName:Object(I["b"])(a.order_type),order_action:a.order_action,orderStatus:a.status.value,actualUnitPrice:Object(O["RMBSymbol"])(Object(O["fenToYuan"])(a.percost)),coupon:a.coupon_name?"".concat(a.coupon_name,"(").concat(Object(O["RMBSymbol"])(a.coupon_value),")"):"无",fdRight:a.quanyi_name?"".concat(a.quanyi_name,"(").concat(Object(O["RMBSymbol"])(a.quanyi_value),")"):"无",cost:Object(O["RMBSymbol"])(Object(O["fenToYuan"])(a.cost)),count:a.count}),this.orderDetailData=[this.orderTableInfo],s._id?this.contractInfo=Object.assign(R,{_id:s._id,status:s.status,started_at:s.started_at}):this.contractInfo={status:"",_id:""},console.log("orderInfo id==",this.orderInfo._id)}}},F=j,E=(r("6566"),r("bec8"),Object(u["a"])(F,m,p,!1,null,"1da5ee06",null)),M=E.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"server-info"},[r("div",{staticClass:"baby__title"},[e._v(e._s(e.titleByType(e.curServerInfo).title)+"信息")]),r("div",{staticClass:"baby__content"},[r("div",{staticClass:"baby__content__item"},[e._v("\n      "+e._s(e.titleByType(e.curServerInfo).name)+"\n    ")]),"erke"===e.type?r("div",{staticClass:"baby__content__item"},[e._v("\n      性别： "+e._s(e._f("gender")(e.curServerInfo.family_member.gender))+"\n    ")]):e._e(),"erke"===e.type?r("div",{staticClass:"baby__content__item"},[e._v("\n      出生日期：\n      "+e._s(e._f("formatTime")(new Date(e.curServerInfo.family_member.birthday),"{y}-{m}-{d}"))+"\n    ")]):e._e(),e.curServerInfo.family_member.gestational_weeks?r("div",{staticClass:"baby__content__item"},[e._v("\n      孕周： "+e._s(e.curServerInfo.family_member.gestational_weeks)+"周"+e._s(e.curServerInfo.family_member.gestational_days)+"天\n    ")]):e._e(),r("div",{staticClass:"baby__content__item"},[e._v("\n      "+e._s(e.titleByType(e.curServerInfo).age)+"\n    ")]),r("div",{staticClass:"baby__content__item"},[e._v("\n      "+e._s(e.titleByType(e.curServerInfo).profession)+"\n    ")]),r("div",{staticClass:"baby__content__item"},[e._v("\n      "+e._s(e.titleByType(e.curServerInfo).curStage)+"\n    ")])]),r("card",{attrs:{title:"用户信息"}},[r("div",{attrs:{slot:"title"},slot:"title"},[e.curServerInfo.fd_product?r("el-button",{attrs:{type:"text",explain:""},on:{click:e.seeProductDetail}},[e._v("套餐信息")]):e._e(),r("el-button",{attrs:{type:"text",explain:""},on:{click:e.handleSeeDetail}},[e._v("套餐使用详情")])],1),r("div",{staticClass:"corps-info"},[r("div",[e._v("\n        基础团队：\n        "+e._s(e.curServerInfo.fd_group.name)+"\n        （\n        "),"chanke"!==e.type?r("span",[e._v("\n          医生："+e._s(e.curServerInfo.doctor&&e.curServerInfo.doctor.name)+"，\n        ")]):e._e(),e._v("\n        "+e._s(e.titleByType(e.curServerInfo).hmName)+"："+e._s(e.curServerInfo.hm&&e.curServerInfo.hm.name)+"\n        ）\n      ")]),e.curServerInfo.dietician?r("div",[e._v("\n        营养师团队：营养师团队（营养师："+e._s(e.curServerInfo.dietician.name)+"）\n      ")]):e._e()])])],1)},B=[],A=(r("7f7f"),{components:{Card:_["a"]},props:{curServerInfo:{type:Object,default:function(){return{family_member:{},fd_group:{},dietician:{},hm:{},doctor:{}}}}},filters:{gender:function(e){return 1===e?"男":"女"}},data:function(){return{type:""}},created:function(){this.type=this.curServerInfo.family_member.type},methods:{curStageTxt:O["curStageTxt"],titleByType:function(e){var t=e.family_member.type,r={title:"",name:"",age:"",curStage:""};switch(t){case"chanke":r={title:"成员",name:"姓名："+e.family_member.name,profession:"职业："+e.family_member.chanke.profession,age:"年龄："+e.family_member.age_of_month_value.year+"岁",curStage:"当前阶段："+this.curStageTxt(e.family_member.chanke.cur_stage),hmName:"产科医生"};break;case"erke":r={title:"宝宝",name:"乳名："+e.family_member.name,profession:"",age:"",curStage:"",hmName:"健康管理师"};break}return r},getServerDate:function(e,t){return e?this.formatTime(e,"{y}-{m}-{d}")+" 到 "+this.formatTime(t,"{y}-{m}-{d}"):"未知"},handleSeeDetail:function(){this.$message({type:"info",message:"预留按钮，文字链接"})},seeProductDetail:function(){this.$router.push({name:"FdServiceEdit",params:{id:this.curServerInfo.fd_product,type:"detail"}})}}}),P=A,$=(r("9cbf"),r("b6e5"),Object(u["a"])(P,N,B,!1,null,"32bb7a58",null)),z=$.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"server-info"},[r("card",{attrs:{title:"用户信息"}},[r("div",{attrs:{slot:"title"},slot:"title"},[r("span",{staticStyle:{color:"#409eff"}},[e._v("服务信息")]),r("span",{staticClass:"server-info__detail-btn",on:{click:e.handleSeeDetail}},[e._v("详情")])]),r("el-table",{staticClass:"server-info__table",staticStyle:{width:"100%"},attrs:{data:e.curServerInfo}},[r("el-table-column",{attrs:{label:"用户",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"avatar"},[r("el-avatar",{attrs:{src:t.row.user.avatar}}),r("p",[e._v(e._s(t.row.user.nickname))])],1)]}}])}),r("el-table-column",{attrs:{label:"服务科室",align:"center",prop:"section_office",formatter:function(t){return e.sectionOffice(t.section_office,"",!0)}}}),r("el-table-column",{attrs:{label:"接诊人",align:"center",prop:"doctor",formatter:function(e){return e.doctor.name}}}),r("el-table-column",{attrs:{align:"center",label:"提问时间","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.active_at?e.formatTime(t.row.active_at):"未知")+"\n        ")]}}])}),r("el-table-column",{attrs:{label:"问诊状态",align:"center",prop:"status",formatter:function(t){return e.singleAskStatus(t.status,"")}}}),r("el-table-column",{attrs:{label:"首次提问等待时间",align:"center",prop:"active_at",formatter:e.waitTime}})],1)],1)],1)},L=[],V=r("0680"),q={components:{Card:_["a"]},props:{curServerInfo:{type:Array,default:function(){return[]}}},methods:{sectionOffice:V["d"],singleAskStatus:V["f"],handleSeeDetail:function(){this.$message({type:"info",message:"预留按钮，文字链接"})},waitTime:function(e){var t=this.getHours(e.first_ask_at,e.first_reply_at||new Date),r=t.hour,n=t.minutes;return"".concat(r,"小时").concat(n,"分钟")},getHours:function(e,t){var r=new Date(e);r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var n=new Date(t);n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0);var a=0;while(r<n){var o=r.getHours();o>8&&o<=23&&(a+=1),r.setTime(r.setHours(r.getHours()+1))}var s=new Date(e),i=new Date(t),c=s.getHours(),l=i.getHours(),u=s.getMinutes(),d=s.getSeconds(),f=s.getMilliseconds();c<=7&&(u=0,d=0,f=0);var m=i.getMinutes(),p=i.getSeconds(),_=i.getMilliseconds();l<=7&&l>0?(m=0,p=0,_=0):0===l&&(m=59,p=59,_=0);var b=m-u,h=p-d,v=_-f;return v<0&&(h-=1,v=1e3+v),h<0&&(b-=1,h=60+h),b<0&&(a-=1,b=60+b),{hour:a,minutes:b,seconds:h,milliseconds:v}}}},U=q,Y=(r("c38c"),r("0862"),Object(u["a"])(U,H,L,!1,null,"d3000ca8",null)),W=Y.exports;r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return M})),r.d(t,"c",(function(){return z})),r.d(t,"d",(function(){return W}))},"27ff":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("5c96"),a=function(e){var t=e.data,r=t.result,a=t.message;Object(n["Message"])({type:r?"success":"error",message:a,duration:5e3})}},"284e":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("card",{staticClass:"rbd-consult-record"},[r("div",{staticClass:"rbd-consult-record__title",attrs:{slot:"title"},slot:"title"},[r("span",[e._v(e._s(e.title))]),r("el-button",{attrs:{type:"text"},on:{click:function(t){e.editorIsShow=!e.editorIsShow}}},[e._v("添加备注")])],1),r("div",{staticClass:"rbd-consult-record__body"},[r("el-collapse-transition",[e.editorIsShow?r("div",{staticClass:"rbd-consult-record__body__editor"},[r("el-input",{staticClass:"rbd-consult-record__body__editor__text",attrs:{type:"textarea",rows:5,placeholder:"请输入内容",maxlength:"200","show-word-limit":""},model:{value:e.edittingRecord.text,callback:function(t){e.$set(e.edittingRecord,"text",t)},expression:"edittingRecord.text"}}),r("uploader-list",{staticClass:"rbd-consult-record__body__editor__image",attrs:{width:"70px",height:"70px",max:3},model:{value:e.edittingRecord.image,callback:function(t){e.$set(e.edittingRecord,"image",t)},expression:"edittingRecord.image"}}),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAddRemark}},[e._v("提交")])],1):e._e()]),r("consult-record",{attrs:{"record-arr":e.orderRecords}})],1)])],1)},a=[],o=(r("96cf"),r("3b8d")),s=(r("c5f6"),r("f8b7")),i=r("27ff"),c=r("dc16"),l=r("12f9"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"record-list"},e._l(e.recordArr,(function(t,n){return r("div",{key:n,staticClass:"record-list__item",class:{"record-list__item--last":n===e.recordArr.length-1}},[r("message",{attrs:{msg:t}})],1)})),0)},d=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"msg-wrapper"},[r("div",{staticClass:"msg"},[r("div",{staticClass:"avatar"},[r("img",{attrs:{src:e.msg.user.avatar}})]),r("div",{staticClass:"body"},[r("div",{staticClass:"info"},[r("div",{staticClass:"name"},[e._v(e._s(e.msg.user.name))]),r("div",{staticClass:"date fontsize-12"},[e._v(e._s(e.formatTime(e.msg.created_at)))])]),r("div",{staticClass:"contents"},e._l(e.msg.remark,(function(t,n){return r("div",{key:""+(Number(new Date)+n),staticClass:"contents__item"},["text"===t.type?r("div",{staticClass:"contents__item--text",domProps:{innerHTML:e._s(e.getText(t.content))}}):e._e(),"image"===t.type?r("div",[r("uploader-list",{staticStyle:{display:"inine-block"},attrs:{uploadList:e.getImageArr,width:"70px",height:"70px",disabled:""}})],1):e._e()])})),0)])])])},m=[],p=(r("a481"),{user:{name:"",avatar:""},remark:[],sendDate:""}),_={components:{UploaderList:c["a"]},props:{msg:{type:Object,default:function(){return p}}},data:function(){return{userRemark:null,read:!1}},computed:{getImageArr:function(){var e=this.msg.remark,t=[];if(e.length){for(var r=0;r<e.length;r++)if("image"===e[r].type)for(var n=0;n<e[r].content.length;n++)t.push(e[r].content[n]);return t}return""}},methods:{getText:function(e){return e.replace("\n","<br>")}}},b=_,h=(r("4d8b"),r("2877")),v=Object(h["a"])(b,f,m,!1,null,"65b12e59",null),g=v.exports,y={components:{Message:g},props:{recordArr:{type:Array,default:function(){return[]}}}},w=y,S=(r("9efd"),Object(h["a"])(w,u,d,!1,null,null,null)),x=S.exports,I={data:function(){return{editorIsShow:!1,edittingRecord:{text:"",image:[]},orderRecords:[]}},props:{updateRemark:{type:Number,default:0},title:{type:String,default:"退款状态及协商历史"},orderId:{type:String,default:""},logicType:{type:String,default:""},orderOrRefundId:{type:String,require:!0,default:""}},components:{Card:l["a"],ConsultRecord:x,UploaderList:c["a"]},watch:{orderOrRefundId:function(){this.getRemarkList()},updateRemark:function(e){console.log("updateRemark===",e),this.getRemarkList()}},created:function(){this.getRemarkList()},methods:{getRemarkList:function(){var e=this;this.orderOrRefundId&&Object(s["m"])({logic_id:this.orderOrRefundId}).then((function(t){e.orderRecords=t.data}))},handleAddRemark:function(){var e=this,t=this.edittingRecord,r=t.text,n=t.image,a=[];if(r&&a.push({type:"text",content:r}),n.length>0&&a.push({type:"image",content:n}),0===a.length)this.$message.warning("添加的备注不能为空！");else{if(!this.orderOrRefundId)return void this.$message.warning("订单或退款id不能为空！");Object(s["b"])({logic_id:this.orderOrRefundId,logic_type:this.logicType,order:this.orderId,remark:a}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(i["a"])(r),e.edittingRecord={text:"",image:[]},e.editorIsShow=!1,t.next=5,e.getRemarkList();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}},O=I,k=(r("f7ab"),Object(h["a"])(O,n,a,!1,null,null,null));t["a"]=k.exports},"2c38":function(e,t,r){"use strict";var n=r("f296b"),a=r.n(n);a.a},"3a02":function(e,t,r){},"3e1a":function(e,t,r){},"4bdc":function(e,t,r){e.exports={menuText:"#17233D",menuActiveText:"#409EFF",subMenuActiveText:"#17233D",menuBg:"#FEFEFE",menuHover:"#ECF4FF",subMenuBg:"#FEFEFE",subMenuHover:"#ECF4FF",sideBarWidth:"240px"}},"4d8b":function(e,t,r){"use strict";var n=r("3e1a"),a=r.n(n);a.a},"527b":function(e,t,r){"use strict";function n(e){var t=[{prop:"orderName",label:"订单名称",width:"150",fixed:!1,sortable:!1,show:!0},{prop:"orderTypeName",label:"订单类型",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"order_action",label:"签约类型",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"orderStatus",label:"订单状态",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"actualUnitPrice",label:"单价",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"coupon",label:"使用的优惠券",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"fdRight",label:"使用的权益",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"cost",label:"实付金额",width:"auto",fixed:!1,sortable:!1,show:!0}];return t}function a(e){var t="FdServiceType"!==e&&"InquiryServiceType"!==e,r="FdServiceType"===e,n="InquiryServiceType"===e,a=[{prop:"orderId",label:"订单号",widths:"160",fixed:!1,sortable:!1,show:!0},{prop:"orderName",label:"订单名称",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"userInfo",label:"用户",fixed:!1,widths:"200",type:"slot",sortable:!1,show:!0},{prop:"orderType",label:"订单类型",widths:"120",fixed:!1,sortable:!1,show:t},{prop:"orderAction",label:"签约类型",widths:"120",fixed:!1,sortable:!1,show:r},{prop:"single_ask_user",label:"接诊人",widths:"120",fixed:!1,sortable:!1,show:n},{prop:"department",label:"服务科室",widths:"110",fixed:!1,sortable:!1,show:n},{prop:"actualUnitPrice",label:"单价",widths:"100",fixed:!1,sortable:!1,show:!0},{prop:"count",label:"数量",widths:"100",fixed:!1,sortable:!1,show:t},{prop:"cost",label:"实收款",widths:"120",fixed:!1,sortable:!1,show:!0},{prop:"tradeStatus",label:"交易状态",widths:"100",fixed:!1,type:"slot",sortable:!1,show:!0},{prop:"afterSaleStatus",label:"售后状态",widths:"130",fixed:!1,type:"slot",sortable:!1,show:!0},{prop:"createdDate",label:"创建时间",width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"fd_status",label:"服务状态",width:"auto",fixed:!1,sortable:!1,show:r},{prop:"scene",label:"来源",widths:"140",fixed:!1,type:"slot",sortable:!1,show:t}];return a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"5b99":function(e,t,r){},6566:function(e,t,r){"use strict";var n=r("7b96"),a=r.n(n);a.a},"6d02":function(e,t,r){"use strict";var n=r("0969"),a={filters:{tradeStatusFilter:n["c"]},data:function(){return{allTradeStatus:["PENDING","SUCCESS","CLOSED"]}},methods:{tradeStatusFilter:n["c"]}};r.d(t,"a",(function(){return a}))},7582:function(e,t,r){},"7b96":function(e,t,r){e.exports={menuText:"#17233D",menuActiveText:"#409EFF",subMenuActiveText:"#17233D",menuBg:"#FEFEFE",menuHover:"#ECF4FF",subMenuBg:"#FEFEFE",subMenuHover:"#ECF4FF",sideBarWidth:"240px"}},"91b6":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));r("7f7f"),r("386d"),r("28a5");var n=r("db72"),a=(r("96cf"),r("3b8d")),o=r("b775"),s=function(){return Object(o["a"])({url:"/oss/auth",method:"get"})},i=function(e){return Object(o["a"])({url:e+"?x-oss-process=image/info",method:"get"})},c=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.oss,a=t.key,s=t.file,c=t.onProgress,l=new FormData,l.append("OSSAccessKeyId",r.OSSAccessKeyId),l.append("success_action_status",200),l.append("policy",r.policy),l.append("Signature",r.Signature),l.append("key",a),l.append("file",s),u="https://pic1.baobaohehu.com/",e.next=11,Object(o["a"])({url:u,method:"post",headers:{"Content-Type":"multipart/form-data"},onUploadProgress:c||null,data:l});case 11:if(u+=a,!(s.type.indexOf("image")>-1)){e.next=18;break}return e.next=15,i(u);case 15:d=e.sent,e.next=27;break;case 18:if(!(s.type.indexOf("video")>-1)){e.next=22;break}d=Object(n["a"])({},s.videoMeta,{size:s.size}),e.next=27;break;case 22:if(!(s.type.indexOf("audio")>-1)){e.next=26;break}d={size:s.size,type:s.type},e.next=27;break;case 26:throw new Error("当前上传的类型不是image或者video；当前上传的类型是"+s.type);case 27:return e.abrupt("return",{url:u,meta:d});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){if(!e||"string"!==typeof e)return!1;var t=e.split("").reverse().join(""),r=t.substring(0,t.search(/\./)).split("").reverse().join("");return r},u=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,o,i,u,d,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return n=e.sent,a=n.data,o=Math.floor(99*Math.random())+1,i=(new Date).getTime(),u=l(t.name),i=i+o+"."+u,d="".concat(a.path,"/").concat(a.prefix,"/").concat(i),e.next=11,c({oss:a,key:d,file:t,onProgress:r});case 11:return f=e.sent,e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},"93d4":function(e,t,r){},"9cbf":function(e,t,r){"use strict";var n=r("0a9a"),a=r.n(n);a.a},"9efd":function(e,t,r){"use strict";var n=r("07b2"),a=r.n(n);a.a},b6e5:function(e,t,r){"use strict";var n=r("c8c7"),a=r.n(n);a.a},bec8:function(e,t,r){"use strict";var n=r("7582"),a=r.n(n);a.a},c38c:function(e,t,r){"use strict";var n=r("4bdc"),a=r.n(n);a.a},c8c7:function(e,t,r){},f296b:function(e,t,r){},f7ab:function(e,t,r){"use strict";var n=r("3a02"),a=r.n(n);a.a},f8b7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"i",(function(){return o})),r.d(t,"h",(function(){return s})),r.d(t,"k",(function(){return i})),r.d(t,"l",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"j",(function(){return f})),r.d(t,"g",(function(){return m})),r.d(t,"c",(function(){return p})),r.d(t,"m",(function(){return _})),r.d(t,"b",(function(){return b}));var n=r("b775");function a(e){return Object(n["a"])({url:"/fd/contract/".concat(e,"/active"),method:"put"})}function o(){return Object(n["a"])({url:"order/basic/options",method:"get"})}function s(){return Object(n["a"])({url:"/order/basic/order_name/options",method:"get"})}function i(){return Object(n["a"])({url:"/order/basic/order_status/options",method:"get"})}function c(){return Object(n["a"])({url:"/order/basic/order_type/options",method:"get"})}function l(e){return Object(n["a"])({url:"/order/check_export",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/order/".concat(e,"/detail"),method:"get"})}function d(e,t){return Object(n["a"])({url:"/order/".concat(e,"/close"),method:"put",data:t})}function f(){return Object(n["a"])({url:"/order/process_numbers",method:"get"})}function m(e){return Object(n["a"])({url:"/order/list",method:"post",data:e})}function p(e,t){return Object(n["a"])({url:"/order/".concat(e,"/refund"),method:"put",data:t})}function _(e){return Object(n["a"])({url:"/order/log",method:"get",params:e})}function b(e){return Object(n["a"])({url:"/order/log",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-80144d24.3893691a.js.map