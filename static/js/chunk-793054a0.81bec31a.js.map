{"version":3,"sources":["webpack:///./src/views/marketing/coupon/add/index.vue?e302","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./src/views/marketing/coupon/add/index.vue?4025","webpack:///./src/api/marketing.js","webpack:///./src/views/marketing/coupon/add/index.vue?97b0","webpack:///src/views/marketing/coupon/add/index.vue","webpack:///./src/views/marketing/coupon/add/index.vue?e5d4","webpack:///./src/views/marketing/coupon/add/index.vue","webpack:///./src/api/FdServiceType.js"],"names":["$export","S","isInteger","isObject","floor","Math","module","exports","it","isFinite","getRightsList","params","request","url","method","addRights","data","getRightsOne","id","updateRights","updateServeStatus","status","getList","getFilterApi","getCouponCreateInfo","addCoupon","getCodeImg","changeStatus","_id","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","form","name","discount_type","discount_money","fenToYuan","Number","discount_rate","toFixed","_e","application","valid_day_type","_f","Date","validDateRange","currentValid","nextDayValid","use_desc","ref","attrs","staticStyle","required","message","trigger","model","value","callback","$$v","$set","expression","validator","checkPositiveInt","_n","checkDiscount","on","discountTypeChange","onSingleChecked","singleAsk","isIndeterminate","handleCheckAllChange","checkAll","handleCheckedDoctorsChange","checkedDoctors","_l","doctor","key","item","index","department","price","rangeList","service","label","rights","fdRights","length","limitOptions","checkValidDay","validDayTypeChange","pickerOptions","submitCoupon","cancelCoupon","dialogVisible","$event","confirmSubmit","staticRenderFns","doctors","disabledDate","time","getTime","now","total","fd_servie_types","single_ask_doctors","preson_limit_num","valid_day_start","valid_day_end","packages","computed","singleAskStr","join","result","created","getProducts","methods","val","map","checkedCount","show_history","group","batch_id","title","sub_title","Error","setTimeout","$refs","couponForm","resetFields","valid_duration","fd_service_types","use_range_type_value","res","code","validate","valid","console","log","options","push","i","component","query","addProducts","getServices","changeSaleStatus","update","getEditInfo"],"mappings":"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","file":"static/js/chunk-793054a0.81bec31a.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=2ec783aa&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=2ec783aa&scoped=true&lang=scss&\"","import request from '@/utils/request'\r\n\r\nexport function getRightsList(params) {\r\n  return request({\r\n    url: '/trade/quanyi',\r\n    method: 'get',\r\n    params: params\r\n    // mock: true\r\n  })\r\n}\r\n\r\nexport function addRights(data) {\r\n  return request({\r\n    url: '/trade/quanyi',\r\n    method: 'post',\r\n    data: data\r\n    // mock: true\r\n  })\r\n}\r\n\r\nexport function getRightsOne(id) {\r\n  return request({\r\n    url: `/trade/quanyi/${id}`,\r\n    method: 'get'\r\n    // mock: true\r\n  })\r\n}\r\n\r\nexport function updateRights(id, params) {\r\n  return request({\r\n    url: `/trade/quanyi/${id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function changeSaleStatus(id, params) {\r\n  return request({\r\n    url: `/fd/products/${id}/status`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function updateServeStatus(id, status) {\r\n  return request({\r\n    url: `/trade/quanyi/${id}/status`,\r\n    method: 'put',\r\n    data: status\r\n    // mock: true\r\n  })\r\n}\r\n// 获取优惠券列表\r\nexport function getList(params) {\r\n  return request({\r\n    url: '/discount_coupon/list',\r\n    method: 'get',\r\n    params: params\r\n    // mock: true\r\n  })\r\n}\r\n// 获取列表筛选\r\nexport function getFilterApi() {\r\n  return request({\r\n    url: '/discount_coupon/filter',\r\n    method: 'get'\r\n  })\r\n}\r\n// 获取优惠券创建信息\r\nexport function getCouponCreateInfo() {\r\n  return request({\r\n    url: '/discount_coupon/create_info',\r\n    method: 'get'\r\n    // mock: true\r\n  })\r\n}\r\n// 新增优惠券\r\nexport function addCoupon(data) {\r\n  return request({\r\n    url: '/discount_coupon',\r\n    method: 'post',\r\n    data: data\r\n    // mock: true\r\n  })\r\n}\r\n// 生成小程序码\r\n// getCodeImg\r\nexport function getCodeImg(id) {\r\n  return request({\r\n    url: `discount_coupon/${id}/create_qrcode`,\r\n    method: 'put'\r\n  })\r\n}\r\n// 使失效\r\nexport function changeStatus(params) {\r\n  return request({\r\n    url: '/discount_coupon/' + params._id + '/change_status',\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupon-add\"},[_c('div',{staticClass:\"coupon-add__preview\"},[_c('div',{staticClass:\"phone-background\"}),_c('div',{staticClass:\"preview-content\"},[_c('div',[_vm._v(\"优惠券名称：\"+_vm._s(_vm.form.name))]),_c('div',[_vm._v(\"\\n        优惠形式：\\n        \"),(_vm.form.discount_type === 'discount_money')?_c('span',[_vm._v(\"\\n          ¥\\n          \"+_vm._s(_vm.form.discount_money\n              ? _vm.fenToYuan(Number(_vm.form.discount_money) * 100)\n              : '')+\"\\n        \")]):(_vm.form.discount_type === 'discount_rate')?_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm.form.discount_rate ? Number(_vm.form.discount_rate).toFixed(1) : '')+\"\\n          折\\n        \")]):_vm._e()]),_c('div',[_vm._v(\"使用范围：\"+_vm._s(_vm.application))]),_c('div',[_vm._v(\"\\n        有效期：\\n        \"),(_vm.form.valid_day_type === 'data_range')?_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"formatTime\")(new Date(_vm.validDateRange[0]),'y-m-d'))+\" 到\\n          \"+_vm._s(_vm._f(\"formatTime\")(new Date(_vm.validDateRange[1]),'y-m-d'))+\"\\n        \")]):(_vm.form.valid_day_type === 'current_day')?_c('span',[_vm._v(\"\\n          领到券当日开始\"+_vm._s(_vm.currentValid)+\"天内有效\\n        \")]):(_vm.form.valid_day_type === 'next_day')?_c('span',[_vm._v(\"\\n          领到券次日开始\"+_vm._s(_vm.nextDayValid)+\"天内有效\\n        \")]):_vm._e()]),_c('div',[_vm._v(\"使用说明：\"+_vm._s(_vm.form.use_desc))])])]),_c('div',{staticClass:\"coupon-add__form\"},[_c('div',{staticClass:\"coupon-add__form--title\"},[_vm._v(\"\\n       优惠券信息\\n    \")]),_c('div',{staticClass:\"coupon-add__form--content\"},[_c('el-form',{ref:\"couponForm\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('div',{staticStyle:{\"width\":\"600px\"}},[_c('el-form-item',{attrs:{\"label\":\"优惠券名称：\",\"prop\":\"name\",\"rules\":[\n              { required: true, message: '请输入标题', trigger: 'blur' }\n            ]}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"maxlength\":\"20\",\"show-word-limit\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"发放总量：\",\"prop\":\"total\",\"rules\":[\n            { required: true, message: '请输入发放总量', trigger: 'blur' },\n            { validator: _vm.checkPositiveInt, trigger: 'blur' }\n          ]}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"220px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入正整数\"},model:{value:(_vm.form.total),callback:function ($$v) {_vm.$set(_vm.form, \"total\", _vm._n($$v))},expression:\"form.total\"}})],1),_c('div',[_vm._v(\"\\n                  张\\n            \")])])]),_c('el-form-item',{attrs:{\"label\":\"优惠形式：\",\"prop\":\"discount_type\",\"rules\":[\n            { required: true, message: '请输入优惠形式', trigger: 'change' },\n            { validator: _vm.checkDiscount, trigger: 'blur' }\n          ]}},[_c('div',{staticClass:\"preferential\"},[_c('el-radio-group',{on:{\"change\":_vm.discountTypeChange},model:{value:(_vm.form.discount_type),callback:function ($$v) {_vm.$set(_vm.form, \"discount_type\", $$v)},expression:\"form.discount_type\"}},[_c('el-radio',{attrs:{\"label\":\"discount_money\"}},[_vm._v(\"指定金额 \")]),_c('div',{staticClass:\"preferential-num\"},[_c('div',{staticStyle:{\"margin-left\":\"20px\",\"width\":\"200px\"}},[_c('el-input',{attrs:{\"disabled\":_vm.form.discount_type != 'discount_money'},model:{value:(_vm.form.discount_money),callback:function ($$v) {_vm.$set(_vm.form, \"discount_money\", $$v)},expression:\"form.discount_money\"}})],1),_c('div',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"\\n                      元\\n                \")])]),_c('el-radio',{attrs:{\"label\":\"discount_rate\"}},[_vm._v(\"指定折扣\")]),_c('div',{staticClass:\"preferential-num\"},[_c('div',{staticStyle:{\"margin-left\":\"20px\",\"width\":\"200px\"}},[_c('el-input',{attrs:{\"disabled\":_vm.form.discount_type != 'discount_rate'},model:{value:(_vm.form.discount_rate),callback:function ($$v) {_vm.$set(_vm.form, \"discount_rate\", $$v)},expression:\"form.discount_rate\"}})],1),_c('div',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"\\n                      折\\n                \")])])],1)],1)]),_c('el-form-item',{attrs:{\"label\":\"使用范围：\",\"rules\":[{ required: true, message: '', trigger: 'blur' }]}},[_c('div',{staticClass:\"range\"},[_c('el-checkbox',{on:{\"change\":_vm.onSingleChecked},model:{value:(_vm.singleAsk),callback:function ($$v) {_vm.singleAsk=$$v},expression:\"singleAsk\"}},[_vm._v(\"单次问诊\")]),_c('br'),(_vm.singleAsk)?_c('div',{staticClass:\"ask-doctor\"},[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedDoctorsChange},model:{value:(_vm.checkedDoctors),callback:function ($$v) {_vm.checkedDoctors=$$v},expression:\"checkedDoctors\"}},[_c('div',{staticClass:\"doctor-checkbox\"},_vm._l((_vm.doctors),function(doctor){return _c('el-checkbox',{key:doctor._id,attrs:{\"label\":doctor._id}},[_c('div',[_vm._v(\"\\n                      \"+_vm._s(doctor.name)+\"\\n                    \")]),_vm._l((doctor.single_ask_price_info),function(item,index){return _c('div',{key:'single' + index},[_c('div',[_vm._v(\"\\n                        \"+_vm._s(item.department === 'pediatric' ? '儿科' : '产科')+\":  ¥ \"+_vm._s(_vm.fenToYuan(item.price))+\"\\n                      \")])])})],2)}),1)])],1):_vm._e(),_c('el-checkbox-group',{model:{value:(_vm.rangeList),callback:function ($$v) {_vm.rangeList=$$v},expression:\"rangeList\"}},_vm._l((_vm.packages),function(service){return _c('div',{key:service.value},[_c('el-checkbox',{attrs:{\"label\":service.value}},[_vm._v(\"\\n                  \"+_vm._s(service.label)+\"\\n                \")])],1)}),0)],1)]),_c('el-form-item',[_c('div',{staticClass:\"tips-wrap\"},[_c('div',{staticClass:\"jiantou\"}),_c('div',{staticStyle:{\"font-weight\":\"bolder\",\"color\":\"#F8747F\"}},[_vm._v(\"\\n              温馨提示：\\n            \")]),_vm._v(\"\\n            当前开启的家庭医生用户权益有\\n            \"),_vm._l((_vm.fdRights),function(rights,index){return _c('span',{key:rights,staticStyle:{\"color\":\"#F8747F\"}},[_vm._v(_vm._s(rights)),(index !== _vm.fdRights.length - 1)?_c('span',[_vm._v(\"、\")]):_vm._e()])}),_vm._v(\"\\n            ，该优惠券将在权益优惠执行后叠加，请注意成本控制！\\n          \")],2)]),_c('el-form-item',{attrs:{\"label\":\"每人限领：\",\"prop\":\"preson_limit_num\",\"rules\":[\n            { required: true, message: '请输入发放总量', trigger: 'change' }\n          ]}},[_c('div',[_c('el-select',{model:{value:(_vm.form.preson_limit_num),callback:function ($$v) {_vm.$set(_vm.form, \"preson_limit_num\", $$v)},expression:\"form.preson_limit_num\"}},_vm._l((_vm.limitOptions()),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_c('el-form-item',{attrs:{\"label\":\"有效期：\",\"prop\":\"valid_day_type\",\"rules\":[\n            { required: true, message: '选择有效期', trigger: 'change' },\n            { validator: _vm.checkValidDay, trigger: 'change' }\n          ]}},[_c('div',{staticClass:\"preferential\"},[_c('el-radio-group',{on:{\"change\":_vm.validDayTypeChange},model:{value:(_vm.form.valid_day_type),callback:function ($$v) {_vm.$set(_vm.form, \"valid_day_type\", $$v)},expression:\"form.valid_day_type\"}},[_c('el-radio',{attrs:{\"label\":\"data_range\"}},[_vm._v(\"固定日期 \")]),_c('div',{staticClass:\"preferential-num\",staticStyle:{\"margin-bottom\":\"40px\"}},[_c('el-date-picker',{attrs:{\"disabled\":!(_vm.form.valid_day_type == 'data_range'),\"type\":\"daterange\",\"picker-options\":_vm.pickerOptions,\"range-separator\":\"-\",\"start-placeholder\":\"请选择时间范围起始\",\"end-placeholder\":\"请选择时间范围结束\"},model:{value:(_vm.validDateRange),callback:function ($$v) {_vm.validDateRange=$$v},expression:\"validDateRange\"}})],1),_c('el-radio',{attrs:{\"label\":\"current_day\"}},[_c('div',{staticClass:\"preferential-num\",staticStyle:{\"position\":\"relative\",\"top\":\"-40px\",\"left\":\"20px\"}},[_c('div',[_vm._v(\"领到券当日开始   \")]),_c('div',{staticStyle:{\"width\":\"192px\"}},[_c('el-input',{attrs:{\"disabled\":!(_vm.form.valid_day_type == 'current_day')},model:{value:(_vm.currentValid),callback:function ($$v) {_vm.currentValid=$$v},expression:\"currentValid\"}})],1),_c('div',[_vm._v(\"   天内有效\")])])]),_c('br'),_c('el-radio',{attrs:{\"label\":\"next_day\"}},[_c('div',{staticClass:\"preferential-num\",staticStyle:{\"position\":\"relative\",\"top\":\"-40px\",\"left\":\"20px\"}},[_c('div',[_vm._v(\"领到券次日开始   \")]),_c('div',{staticStyle:{\"width\":\"192px\"}},[_c('el-input',{attrs:{\"disabled\":!(_vm.form.valid_day_type == 'next_day')},model:{value:(_vm.nextDayValid),callback:function ($$v) {_vm.nextDayValid=$$v},expression:\"nextDayValid\"}})],1),_c('div',[_vm._v(\"   天内有效\")])])])],1)],1)]),_c('el-form-item',{attrs:{\"label\":\"使用说明：\",\"prop\":\"use_desc\",\"rules\":[\n            { required: true, message: '请输入发放总量', trigger: 'blur' }\n          ]}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"100\",\"show-word-limit\":\"\",\"rows\":\"4\",\"placeholder\":\"请输入\"},model:{value:(_vm.form.use_desc),callback:function ($$v) {_vm.$set(_vm.form, \"use_desc\", $$v)},expression:\"form.use_desc\"}})],1),_c('el-form-item',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitCoupon}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.cancelCoupon}},[_vm._v(\"取消\")])],1)])],1)],1)]),_c('el-dialog',{attrs:{\"title\":\"提交优惠券提示\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"操作成功后，该优惠券信息将不可修改，确认无误请单击下方【确认创建】按钮\")]),_c('div',{staticStyle:{\"margin-top\":\"30px\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirmSubmit}},[_vm._v(\"确认创建\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"coupon-add\">\r\n    <div class=\"coupon-add__preview\">\r\n      <div class=\"phone-background\" />\r\n      <div class=\"preview-content\">\r\n        <div>优惠券名称：{{ form.name }}</div>\r\n        <div>\r\n          优惠形式：\r\n          <span v-if=\"form.discount_type === 'discount_money'\">\r\n            ¥\r\n            {{\r\n              form.discount_money\r\n                ? fenToYuan(Number(form.discount_money) * 100)\r\n                : ''\r\n            }}\r\n          </span>\r\n          <span v-else-if=\"form.discount_type === 'discount_rate'\">\r\n            {{\r\n              form.discount_rate ? Number(form.discount_rate).toFixed(1) : ''\r\n            }}\r\n            折\r\n          </span>\r\n        </div>\r\n        <div>使用范围：{{ application }}</div>\r\n        <div>\r\n          有效期：\r\n          <span v-if=\"form.valid_day_type === 'data_range'\">\r\n            {{ new Date(validDateRange[0]) | formatTime('y-m-d') }} 到\r\n            {{ new Date(validDateRange[1]) | formatTime('y-m-d') }}\r\n          </span>\r\n          <span v-else-if=\"form.valid_day_type === 'current_day'\">\r\n            领到券当日开始{{ currentValid }}天内有效\r\n          </span>\r\n          <span v-else-if=\"form.valid_day_type === 'next_day'\">\r\n            领到券次日开始{{ nextDayValid }}天内有效\r\n          </span>\r\n        </div>\r\n        <div>使用说明：{{ form.use_desc }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"coupon-add__form\">\r\n      <div class=\"coupon-add__form--title\">\r\n        &nbsp;优惠券信息\r\n      </div>\r\n      <div class=\"coupon-add__form--content\">\r\n        <el-form ref=\"couponForm\" :model=\"form\" label-width=\"120px\">\r\n          <div style=\"width: 600px\">\r\n            <el-form-item\r\n              label=\"优惠券名称：\"\r\n              prop=\"name\"\r\n              :rules=\"[\r\n                { required: true, message: '请输入标题', trigger: 'blur' }\r\n              ]\"\r\n            >\r\n              <el-input\r\n                v-model=\"form.name\"\r\n                placeholder=\"请输入\"\r\n                maxlength=\"20\"\r\n                show-word-limit\r\n              />\r\n            </el-form-item>\r\n          </div>\r\n          <el-form-item\r\n            label=\"发放总量：\"\r\n            prop=\"total\"\r\n            :rules=\"[\r\n              { required: true, message: '请输入发放总量', trigger: 'blur' },\r\n              { validator: checkPositiveInt, trigger: 'blur' }\r\n            ]\"\r\n          >\r\n            <div style=\"display: flex\">\r\n              <div style=\"width: 220px\">\r\n                <el-input\r\n                  v-model.number=\"form.total\"\r\n                  placeholder=\"请输入正整数\"\r\n                />\r\n              </div>\r\n              <div>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;张\r\n              </div>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"优惠形式：\"\r\n            prop=\"discount_type\"\r\n            :rules=\"[\r\n              { required: true, message: '请输入优惠形式', trigger: 'change' },\r\n              { validator: checkDiscount, trigger: 'blur' }\r\n            ]\"\r\n          >\r\n            <div class=\"preferential\">\r\n              <el-radio-group\r\n                v-model=\"form.discount_type\"\r\n                @change=\"discountTypeChange\"\r\n              >\r\n                <el-radio label=\"discount_money\">指定金额 </el-radio>\r\n                <div class=\"preferential-num\">\r\n                  <div style=\"margin-left: 20px;width: 200px;\">\r\n                    <el-input\r\n                      v-model=\"form.discount_money\"\r\n                      :disabled=\"form.discount_type != 'discount_money'\"\r\n                    />\r\n                  </div>\r\n                  <div style=\"font-size: 14px\">\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;元\r\n                  </div>\r\n                </div>\r\n                <el-radio label=\"discount_rate\">指定折扣</el-radio>\r\n                <div class=\"preferential-num\">\r\n                  <div style=\"margin-left: 20px;width: 200px;\">\r\n                    <el-input\r\n                      v-model=\"form.discount_rate\"\r\n                      :disabled=\"form.discount_type != 'discount_rate'\"\r\n                    />\r\n                  </div>\r\n                  <div style=\"font-size: 14px\">\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;折\r\n                  </div>\r\n                </div>\r\n              </el-radio-group>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"使用范围：\"\r\n            :rules=\"[{ required: true, message: '', trigger: 'blur' }]\"\r\n          >\r\n            <div class=\"range\">\r\n              <el-checkbox v-model=\"singleAsk\" @change=\"onSingleChecked\"\r\n                >单次问诊</el-checkbox\r\n              >\r\n              <br />\r\n              <div class=\"ask-doctor\" v-if=\"singleAsk\">\r\n                <el-checkbox\r\n                  :indeterminate=\"isIndeterminate\"\r\n                  v-model=\"checkAll\"\r\n                  @change=\"handleCheckAllChange\"\r\n                  >全选</el-checkbox\r\n                >\r\n                <el-checkbox-group\r\n                  v-model=\"checkedDoctors\"\r\n                  @change=\"handleCheckedDoctorsChange\"\r\n                >\r\n                  <div class=\"doctor-checkbox\">\r\n                    <el-checkbox\r\n                      v-for=\"doctor in doctors\"\r\n                      :label=\"doctor._id\"\r\n                      :key=\"doctor._id\"\r\n                    >\r\n                      <div>\r\n                        {{ doctor.name }}\r\n                      </div>\r\n                      <div\r\n                        v-for=\"(item, index) in doctor.single_ask_price_info\"\r\n                        :key=\"'single' + index\"\r\n                      >\r\n                        <div>\r\n                          {{\r\n                            item.department === 'pediatric' ? '儿科' : '产科'\r\n                          }}:&nbsp;&nbsp;¥&nbsp;{{ fenToYuan(item.price) }}\r\n                        </div>\r\n                      </div>\r\n                    </el-checkbox>\r\n                  </div>\r\n                </el-checkbox-group>\r\n              </div>\r\n\r\n              <el-checkbox-group v-model=\"rangeList\">\r\n                <div v-for=\"service in packages\" :key=\"service.value\">\r\n                  <el-checkbox :label=\"service.value\">\r\n                    {{ service.label }}\r\n                  </el-checkbox>\r\n                </div>\r\n              </el-checkbox-group>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <div class=\"tips-wrap\">\r\n              <div class=\"jiantou\" />\r\n              <div style=\"font-weight: bolder;color: #F8747F\">\r\n                温馨提示：\r\n              </div>\r\n              当前开启的家庭医生用户权益有\r\n              <span\r\n                v-for=\"(rights, index) in fdRights\"\r\n                :key=\"rights\"\r\n                style=\"color: #F8747F\"\r\n                >{{ rights\r\n                }}<span v-if=\"index !== fdRights.length - 1\">、</span></span\r\n              >\r\n              ，该优惠券将在权益优惠执行后叠加，请注意成本控制！\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"每人限领：\"\r\n            prop=\"preson_limit_num\"\r\n            :rules=\"[\r\n              { required: true, message: '请输入发放总量', trigger: 'change' }\r\n            ]\"\r\n          >\r\n            <div>\r\n              <el-select v-model=\"form.preson_limit_num\">\r\n                <el-option\r\n                  v-for=\"item in limitOptions()\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                />\r\n              </el-select>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"有效期：\"\r\n            prop=\"valid_day_type\"\r\n            :rules=\"[\r\n              { required: true, message: '选择有效期', trigger: 'change' },\r\n              { validator: checkValidDay, trigger: 'change' }\r\n            ]\"\r\n          >\r\n            <div class=\"preferential\">\r\n              <el-radio-group\r\n                v-model=\"form.valid_day_type\"\r\n                @change=\"validDayTypeChange\"\r\n              >\r\n                <el-radio label=\"data_range\">固定日期 </el-radio>\r\n                <div class=\"preferential-num\" style=\"margin-bottom: 40px\">\r\n                  <el-date-picker\r\n                    v-model=\"validDateRange\"\r\n                    :disabled=\"!(form.valid_day_type == 'data_range')\"\r\n                    type=\"daterange\"\r\n                    :picker-options=\"pickerOptions\"\r\n                    range-separator=\"-\"\r\n                    start-placeholder=\"请选择时间范围起始\"\r\n                    end-placeholder=\"请选择时间范围结束\"\r\n                  />\r\n                </div>\r\n                <el-radio label=\"current_day\">\r\n                  <div\r\n                    class=\"preferential-num\"\r\n                    style=\"position:relative;top:-40px;left:20px\"\r\n                  >\r\n                    <div>领到券当日开始&nbsp;&nbsp;&nbsp;</div>\r\n                    <div style=\"width: 192px\">\r\n                      <el-input\r\n                        v-model=\"currentValid\"\r\n                        :disabled=\"!(form.valid_day_type == 'current_day')\"\r\n                      />\r\n                    </div>\r\n                    <div>&nbsp;&nbsp;&nbsp;天内有效</div>\r\n                  </div>\r\n                </el-radio>\r\n                <br />\r\n                <el-radio label=\"next_day\">\r\n                  <div\r\n                    class=\"preferential-num\"\r\n                    style=\"position: relative;top:-40px;left:20px\"\r\n                  >\r\n                    <div>领到券次日开始&nbsp;&nbsp;&nbsp;</div>\r\n                    <div style=\"width: 192px\">\r\n                      <el-input\r\n                        v-model=\"nextDayValid\"\r\n                        :disabled=\"!(form.valid_day_type == 'next_day')\"\r\n                      />\r\n                    </div>\r\n                    <div>&nbsp;&nbsp;&nbsp;天内有效</div>\r\n                  </div>\r\n                </el-radio>\r\n              </el-radio-group>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"使用说明：\"\r\n            prop=\"use_desc\"\r\n            :rules=\"[\r\n              { required: true, message: '请输入发放总量', trigger: 'blur' }\r\n            ]\"\r\n          >\r\n            <el-input\r\n              v-model=\"form.use_desc\"\r\n              type=\"textarea\"\r\n              maxlength=\"100\"\r\n              show-word-limit\r\n              rows=\"4\"\r\n              placeholder=\"请输入\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <div style=\"text-align: center\">\r\n              <el-button type=\"primary\" @click=\"submitCoupon\">提交</el-button>\r\n              <el-button @click=\"cancelCoupon\">取消</el-button>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <el-dialog\r\n      title=\"提交优惠券提示\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n    >\r\n      <span\r\n        >操作成功后，该优惠券信息将不可修改，确认无误请单击下方【确认创建】按钮</span\r\n      >\r\n      <div style=\"margin-top: 30px;text-align: right;\">\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"confirmSubmit\"\r\n          >确认创建</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCouponCreateInfo, addCoupon } from '@/api/marketing'\r\nimport { fenToYuan } from '@/filters'\r\nimport { getList } from '@/api/FdServiceType'\r\nimport { validNumber, validDiscount } from '@/utils/validate'\r\n\r\nexport default {\r\n  name: 'Add',\r\n  data() {\r\n    return {\r\n      singleAsk: false,\r\n      checkAll: false,\r\n      checkedDoctors: [],\r\n      doctors: [],\r\n      isIndeterminate: false,\r\n      dialogVisible: false,\r\n      pickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() < Date.now() - 1000 * 60 * 60 * 24\r\n        }\r\n      },\r\n      rangeList: [],\r\n      form: {\r\n        name: '',\r\n        total: null,\r\n        discount_type: null,\r\n        discount_money: null,\r\n        discount_rate: null,\r\n        fd_servie_types: null,\r\n        single_ask_doctors: [],\r\n        preson_limit_num: null,\r\n        valid_day_type: null,\r\n        valid_day_start: null,\r\n        valid_day_end: null,\r\n        use_desc: null\r\n      },\r\n      // 当天起几天内有效\r\n      currentValid: null,\r\n      // 次日起几天内有效\r\n      nextDayValid: null,\r\n      // 有效期时间范围\r\n      validDateRange: '',\r\n      packages: [],\r\n      fdRights: []\r\n    }\r\n  },\r\n  computed: {\r\n    // 拼接使用范围的字符串\r\n    application() {\r\n      let singleAskStr = ''\r\n      if (this.singleAsk && this.checkedDoctors.length > 0) {\r\n        singleAskStr = '单次问诊'\r\n        const checkedDoctors = this.doctors\r\n          .filter(item => this.checkedDoctors.includes(item._id))\r\n          .map(item => item.name)\r\n        singleAskStr += '(' + checkedDoctors.join(' ') + ')  '\r\n      }\r\n      const checkedPackages = this.packages.filter(item =>\r\n        this.rangeList.includes(item.value)\r\n      )\r\n      const packageNames = checkedPackages.map(item => item.name)\r\n      const result = packageNames.join(' ')\r\n      return singleAskStr + result\r\n    }\r\n  },\r\n  created() {\r\n    getCouponCreateInfo().then(res => {\r\n      const data = res.data\r\n      this.fdRights = data.fd_rigins.map(item => item.name)\r\n      this.doctors = data.single_ask_users.list\r\n    })\r\n    // 获取套餐列表\r\n    this.getProducts()\r\n  },\r\n  methods: {\r\n    onSingleChecked() {\r\n      this.checkAll = false\r\n      this.checkedDoctors = []\r\n      this.isIndeterminate = false\r\n    },\r\n    handleCheckAllChange(val) {\r\n      this.checkedDoctors = val ? this.doctors.map(item => item._id) : []\r\n      this.isIndeterminate = false\r\n    },\r\n    handleCheckedDoctorsChange(value) {\r\n      let checkedCount = value.length\r\n      this.checkAll = checkedCount === this.doctors.length\r\n      this.isIndeterminate =\r\n        checkedCount > 0 && checkedCount < this.doctors.length\r\n    },\r\n    // 获取套餐列表\r\n    getProducts() {\r\n      const params = {\r\n        show_history: 0\r\n      }\r\n      getList(params).then(res => {\r\n        const { list } = res.data\r\n        this.packages = list.map(group => {\r\n          return {\r\n            value: group.batch_id,\r\n            label: `${group.title} ${group.sub_title}\\xa0\\xa0\\xa0(${\r\n              group.version\r\n            } ¥${group.price / 100}.00)`,\r\n            name: group.title + ' ' + group.sub_title\r\n          }\r\n        })\r\n      })\r\n    },\r\n    fenToYuan,\r\n    validDayTypeChange(val) {\r\n      if (val === 'data_range') {\r\n        this.currentValid = ''\r\n        this.nextDayValid = ''\r\n      } else if (val === 'current_day') {\r\n        this.nextDayValid = ''\r\n        this.validDateRange = ''\r\n      } else if (val === 'next_day') {\r\n        this.currentValid = ''\r\n        this.validDateRange = ''\r\n      }\r\n    },\r\n    discountTypeChange(val) {\r\n      if (val === 'discount_money') {\r\n        this.form.discount_rate = ''\r\n      } else if (val === 'discount_rate') {\r\n        this.form.discount_money = ''\r\n      }\r\n    },\r\n    // 验证el-form表单中的正整数\r\n    checkPositiveInt(rule, value, callback) {\r\n      if (value === '') {\r\n        return callback(new Error('不能为空'))\r\n      }\r\n      setTimeout(() => {\r\n        if (!Number.isInteger(value) || Number(value) < 0) {\r\n          callback(new Error('请输入正整数'))\r\n        } else {\r\n          callback()\r\n        }\r\n      }, 10)\r\n    },\r\n    checkDiscount(rule, value, callback) {\r\n      setTimeout(() => {\r\n        if (value === 'discount_rate') {\r\n          if (\r\n            !this.form.discount_rate ||\r\n            !validDiscount(this.form.discount_rate)\r\n          ) {\r\n            callback(new Error('请输入正确格式的优惠金额或折扣'))\r\n          } else {\r\n            callback()\r\n          }\r\n        } else if (value === 'discount_money') {\r\n          if (\r\n            !this.form.discount_money ||\r\n            !validNumber(this.form.discount_money)\r\n          ) {\r\n            callback(new Error('请输入正确格式的优惠金额或折扣'))\r\n          } else {\r\n            callback()\r\n          }\r\n        }\r\n        callback()\r\n      }, 10)\r\n    },\r\n    checkValidDay(rule, value, callback) {\r\n      callback()\r\n    },\r\n    // 取消新建优惠券\r\n    cancelCoupon() {\r\n      this.$refs.couponForm.resetFields()\r\n      this.form = {\r\n        name: '',\r\n        total: null,\r\n        discount_type: null,\r\n        discount_money: null,\r\n        discount_rate: null,\r\n        fd_servie_types: null,\r\n        single_ask_doctors: [],\r\n        preson_limit_num: null,\r\n        valid_day_type: null,\r\n        valid_day_start: null,\r\n        valid_day_end: null,\r\n        valid_duration: null,\r\n        use_desc: null\r\n      }\r\n      this.rangeList = []\r\n      // 当天起几天内有效\r\n      this.currentValid = null\r\n      // 次日起几天内有效\r\n      this.nextDayValid = null\r\n      // 有效期时间范围\r\n      this.validDateRange = ''\r\n    },\r\n    // 发送表单\r\n    confirmSubmit() {\r\n      // 选中的医生,需要根据当前科室筛选一下，待优化\r\n\r\n      const data = {\r\n        name: this.form.name,\r\n        total: this.form.total, // 发放总量\r\n        discount_type: this.form.discount_type, // \"折扣类型\" , // discount_money: 指定金额 discount_rate: 指定折扣\r\n        discount_money: this.form.discount_money, // 指定金额的值 如果不是该类型 值为空\r\n        discount_rate: this.form.discount_rate, // 指定折扣的值 如果不是该类型 值为空\r\n        fd_service_types: this.rangeList, // 选中的所有家庭医生套餐_id数据\r\n        single_ask_doctors: this.checkedDoctors, // 选中的医生_id列表\r\n        preson_limit_num: this.form.preson_limit_num, //  个人可以领取上限\r\n        valid_day_type: this.form.valid_day_type, // data_range: 时间范围 current_day： 当天开始有效  next_day：次日开始有效\r\n        valid_day_start: this.validDateRange[0],\r\n        valid_day_end: this.validDateRange[1],\r\n        valid_duration: this.nextDayValid || this.currentValid, // 多少天有效  对应当天开始 次日开始\r\n        use_desc: this.form.use_desc,\r\n        use_range_type_value: this.application\r\n      }\r\n      addCoupon(data).then(res => {\r\n        if (res.code === 20000) {\r\n          this.$message.success('新增优惠券成功')\r\n          this.dialogVisible = false\r\n          this.$router.back(-1)\r\n        }\r\n      })\r\n    },\r\n    // 提交表单\r\n    submitCoupon() {\r\n      this.$refs.couponForm.validate(valid => {\r\n        if (valid) {\r\n          // 验证valid_duration，discount_money， discount_rate\r\n          if (this.form.discount_type === 'discount_money') {\r\n            if (\r\n              !this.form.discount_money ||\r\n              !validNumber(this.form.discount_money)\r\n            ) {\r\n              this.$message.warning(\r\n                '请输入正确的优惠金额（数字类型，小数点后最多保留两位）'\r\n              )\r\n              return\r\n            }\r\n          }\r\n          if (this.form.discount_type === 'discount_rate') {\r\n            if (\r\n              !this.form.discount_rate ||\r\n              !validDiscount(this.form.discount_rate)\r\n            ) {\r\n              this.$message.warning(\r\n                '请输入正确的优惠折扣(数字类型，小数点后保留一位)'\r\n              )\r\n              return\r\n            }\r\n          }\r\n          const valid_duration = this.nextDayValid || this.currentValid\r\n          if (\r\n            this.form.valid_day_type !== 'data_range' &&\r\n            (!valid_duration || !validNumber(valid_duration))\r\n          ) {\r\n            this.$message.warning('请输入正确的优惠券有效期')\r\n            return\r\n          } else if (\r\n            this.form.valid_day_type === 'data_range' &&\r\n            !this.validDateRange\r\n          ) {\r\n            this.$message.warning('请选择正确的优惠券有效期范围')\r\n            return\r\n          }\r\n          if (this.rangeList.length === 0 && this.checkedDoctors.length === 0) {\r\n            this.$message.warning('请选择使用范围')\r\n            return\r\n          }\r\n          this.dialogVisible = true\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    limitOptions() {\r\n      const options = [\r\n        {\r\n          label: '不限制',\r\n          value: -100\r\n        }\r\n      ]\r\n      for (let i = 0; i < 10; i++) {\r\n        options.push({\r\n          label: i + 1 + '张',\r\n          value: i + 1\r\n        })\r\n      }\r\n      return options\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.doctor-checkbox {\r\n  .el-checkbox,\r\n  .el-checkbox__input {\r\n    vertical-align: top;\r\n  }\r\n}\r\n</style>\r\n<style scoped lang=\"scss\">\r\n.jiantou {\r\n  position: absolute;\r\n  top: -20px;\r\n  width: 0;\r\n  height: 0;\r\n  border-style: solid;\r\n  border-width: 10px 6px;\r\n  border-color: transparent transparent #f8747f transparent;\r\n  content: '';\r\n  &::before {\r\n    position: absolute;\r\n    top: -8px;\r\n    left: -5px;\r\n    border-style: solid;\r\n    border-width: 9px 5px;\r\n    border-color: transparent transparent #fef8f8 transparent;\r\n    content: '';\r\n  }\r\n}\r\n.ask-doctor {\r\n  margin-left: 40px;\r\n}\r\n.coupon-add {\r\n  display: flex;\r\n  &__preview {\r\n    position: relative;\r\n    padding: 0 30px;\r\n    flex: 1;\r\n    .preview-content {\r\n      position: absolute;\r\n      top: 120px;\r\n      left: 70px;\r\n      padding-right: 50px;\r\n      line-height: 30px;\r\n      font-size: 16px;\r\n    }\r\n    .phone-background {\r\n      width: 480px;\r\n      height: 854px;\r\n      background-size: cover;\r\n      border: 1px solid #e8eaec;\r\n      background-image: url('~@/assets/images/coupon/phonepreview.png');\r\n    }\r\n  }\r\n  &__form {\r\n    padding: 20px;\r\n    border: 1px solid #e8eaec;\r\n    flex: 3;\r\n    &--title {\r\n      font-size: 16px;\r\n      font-weight: bolder;\r\n      color: #0085ff;\r\n      border-left: 3px solid #0085ff;\r\n    }\r\n    &--content {\r\n      padding: 30px;\r\n      width: 850px;\r\n      .preferential {\r\n        margin-top: 10px;\r\n        &-num {\r\n          display: flex;\r\n          align-items: center;\r\n          margin: 10px 0;\r\n        }\r\n      }\r\n    }\r\n    .tips-wrap {\r\n      position: relative;\r\n      padding: 5px 20px;\r\n      line-height: 30px;\r\n      color: #576277;\r\n      background-color: #fef8f8;\r\n      border: 1px solid #f8747f;\r\n      border-radius: 3px;\r\n      .parent {\r\n        position: absolute;\r\n        top: -10px;\r\n        width: 0;\r\n        height: 0;\r\n        border-style: solid;\r\n        border-width: 0 10px 10px;\r\n        border-color: transparent transparent #f8747f;\r\n      }\r\n      .child {\r\n        position: absolute;\r\n        top: 3px;\r\n        left: -9px;\r\n        width: 0;\r\n        height: 0;\r\n        border-style: solid;\r\n        border-width: 0 9px 9px;\r\n        border-color: transparent transparent #fef8f8;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2ec783aa&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=2ec783aa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ec783aa\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: '/fd/products',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function addProducts(params) {\r\n  return request({\r\n    url: '/fd/products',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n// 获取筛选条\r\nexport function getFilter(query) {\r\n  return request({\r\n    url: '/fd_service_type/filter',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getHistoryList(id, query) {\r\n  return request({\r\n    url: '/fd_service_type/' + id + '/logs',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n// 11/api/fd_service_type/services 获取服务项目\r\nexport function getServices(id, query) {\r\n  return request({\r\n    url: '/fd_service_type/services',\r\n    method: 'get',\r\n    params: query\r\n    // mock: `/fd_service_type/services`\r\n  })\r\n}\r\n\r\nexport function changeSaleStatus(id, params) {\r\n  return request({\r\n    url: `/fd/products/${id}/status`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n\r\nexport function update(id, params) {\r\n  return request({\r\n    url: `/fd/products/${id}`,\r\n    method: 'put',\r\n    data: params\r\n    // mock: `/fd_service_type/${payload._id}`\r\n  })\r\n}\r\n\r\nexport function getEditInfo(id) {\r\n  return request({\r\n    url: `/fd/products/${id}`,\r\n    method: 'get'\r\n    // mock: `/fd_service_type/${id}`\r\n  })\r\n}\r\n\r\n// 上架替换同名套餐on_sale_id 上架id, 下架  off_sale_id\r\n// /api/fd_service_type/confirm_change_sale_status\r\nexport function replaceSaleApi(params) {\r\n  return request({\r\n    url: '/fd_service_type/confirm_change_sale_status',\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n"],"sourceRoot":""}