(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b45f62e"],{4242:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-problem-diagnosis"},[e.noPractice?s("div",{staticClass:"no-practice"},[s("div",{staticClass:"tip"},[s("img",{attrs:{src:e.imgSrc+"20200217180307898/1581933787533.png",alt:"空页面"}}),s("p",{staticClass:"text"},[e._v("还没有对应的训练，赶紧去学习吧!")])])]):e._e(),e._l(e.shortcutDetail,(function(t,n){return[e.shortcutDetail.length?s("div",{key:n,staticClass:"problem",attrs:{id:"question"+n}},[s("a",{ref:"questions",refInFor:!0,attrs:{href:"#question"+n}},[s("span",{attrs:{id:"position"+n}})]),s("h3",{staticClass:"stem"},[e._v(e._s(t.title))]),s("div",{staticClass:"explain"},[e._v("\n        "+e._s(n+1)+".\n        "),s("p",{staticStyle:{display:"inline-block","margin-left":"10px"},domProps:{innerHTML:e._s(t.stem)}})]),s("div",{staticClass:"step"},[s("h3",{staticClass:"step-title"},[s("div",[s("img",{attrs:{src:e.imgSrc+"20200217180457368/1581933897028.png",alt:"请问"}}),s("span",[e._v("\n              Step 1："+e._s("用户问题确诊"===e.$route.params.name?"该用户出现的问题罗列":"分析思路")+"\n            ")])]),e.step[n].stepOne.disabled?e._e():s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.commitOptions(n)}}},[e._v("提交答案")]),e.step[n].stepOne.disabled?s("el-button",{attrs:{type:"text"},on:{click:function(t){e.step[n].stepOne.disabled=!1}}},[e._v("编辑")]):e._e()],1),s("el-input",{attrs:{type:"textarea",placeholder:"请逐条输入用户的问题","show-word-limit":"",resize:"none",disabled:e.step[n].stepOne.disabled},model:{value:e.step[n].stepOne.title,callback:function(t){e.$set(e.step[n].stepOne,"title",t)},expression:"step[index].stepOne.title"}})],1),s("div",{staticClass:"step"},[s("h3",{staticClass:"step-title"},[s("div",[s("img",{attrs:{src:e.imgSrc+"20200217180457368/1581933897028.png",alt:"请问"}}),s("span",[e._v("\n              Step 2："+e._s("用户问题确诊"===e.$route.params.name?"该用户的主要问题是":"问诊")+"\n            ")])]),e.step[n].stepTwo.disabled?e._e():s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.commitAnswers(n)}}},[e._v("提交答案")]),e.step[n].stepTwo.disabled?s("el-button",{attrs:{type:"text"},on:{click:function(t){e.step[n].stepTwo.disabled=!1}}},[e._v("编辑")]):e._e()],1),s("el-input",{attrs:{type:"textarea",placeholder:"请逐条输入用户的问题","show-word-limit":"",resize:"none",disabled:e.step[n].stepTwo.disabled},model:{value:e.step[n].stepTwo.title,callback:function(t){e.$set(e.step[n].stepTwo,"title",t)},expression:"step[index].stepTwo.title"}})],1),"问诊训练"===e.$route.params.name?s("div",{staticClass:"step"},[s("h3",{staticClass:"step-title",staticStyle:{background:"#ECF4FF"}},[s("div",[s("img",{attrs:{src:e.imgSrc+"20200217180623801/1581933983505.png",alt:"爱上"}}),s("span",[e._v("Step 3：处理建议")])]),e.step[n].stepThree.disabled?e._e():s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.commitProposal(n)}}},[e._v("提交答案")]),e.step[n].stepThree.disabled?s("el-button",{attrs:{type:"text"},on:{click:function(t){e.step[n].stepThree.disabled=!1}}},[e._v("编辑")]):e._e()],1),s("el-input",{attrs:{type:"textarea",placeholder:"针对用户出现的情况，给出专业的建议","show-word-limit":"",resize:"none",disabled:e.step[n].stepThree.disabled},model:{value:e.step[n].stepThree.title,callback:function(t){e.$set(e.step[n].stepThree,"title",t)},expression:"step[index].stepThree.title"}})],1):e._e(),e.step[n].comment?s("div",{staticClass:"step"},[s("h3",{staticClass:"step-title",staticStyle:{background:"#ECF4FF"}},[s("div",[s("img",{attrs:{src:e.imgSrc+"20200217180623801/1581933983505.png",alt:"爱上"}}),s("span",[e._v("点评结果")])])]),s("el-input",{attrs:{type:"textarea",placeholder:"针对用户出现的情况，给出专业的建议","show-word-limit":"",resize:"none",disabled:!0},model:{value:e.step[n].comment,callback:function(t){e.$set(e.step[n],"comment",t)},expression:"step[index].comment"}})],1):e._e()]):e._e()]}))],2)},r=[],i=(s("ac4d"),s("8a81"),s("ac6a"),s("7f7f"),s("96cf"),s("3b8d")),a=s("4bfb"),o=s("f296"),c={data:function(){return{noPractice:!1,step:[],shortcutDetail:[],positionIndex:0,imgSrc:"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//"}},created:function(){this.getShortcut(this.$route.query.type)},mounted:function(){var e=this;this.noPractice||setTimeout((function(){document.getElementById("position"+parseInt(e.positionIndex)).click()}),500)},methods:{getShortcut:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i,a,c,u,p,l,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["L"])({type:t,stage:this.$route.query.stage});case 2:if(s=e.sent,n=s.data,r=s.code,2e4!==r||!n.result){e.next=29;break}for(i="diagnosis"===t?"diagnosis_review":"process_review",a=!0,c=!1,u=void 0,e.prev=10,p=n.list[Symbol.iterator]();!(a=(l=p.next()).done);a=!0)d=l.value,this.step.push({stepOne:{title:"用户问题确诊"===this.$route.params.name?d.options:d.analysis_idea||"",disabled:"用户问题确诊"===this.$route.params.name?!!d.options:!!d.analysis_idea},stepTwo:{title:"用户问题确诊"===this.$route.params.name?d.answers:d.inquiry||"",disabled:"用户问题确诊"===this.$route.params.name?!!d.answers:!!d.inquiry},stepThree:{title:d.handler_suggestion||"",disabled:!!d.handler_suggestion},comment:d[i]||""});e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](10),c=!0,u=e.t0;case 18:e.prev=18,e.prev=19,a||null==p.return||p.return();case 21:if(e.prev=21,!c){e.next=24;break}throw u;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(m in this.step)"用户问题确诊"===this.$route.params.name?this.step[m].stepOne.disabled&&this.step[m].stepTwo.disabled||0!==this.positionIndex||(this.positionIndex=m):this.step[m].stepOne.disabled&&this.step[m].stepTwo.disabled&&this.step[m].stepThree.disabled||0!==this.positionIndex||(this.positionIndex=m);n.list.length>0?this.noPractice=!1:this.noPractice=!0,this.shortcutDetail=n.list;case 29:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25]])})));function t(t){return e.apply(this,arguments)}return t}(),commitOptions:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.step[t].stepOne.title){e.next=2;break}return e.abrupt("return");case 2:if("用户问题确诊"!==this.$route.params.name){e.next=9;break}return e.next=5,Object(a["b"])({options:this.step[t].stepOne.title,question:this.shortcutDetail[t]._id});case 5:s=e.sent,n=s.code,r=s.data,2e4===n&&(r.result?(this.step[t].stepOne.disabled=!0,this.$message({message:"提交成功",type:"success"})):this.$message({message:r.message,type:"error"}));case 9:if("问诊训练"!==this.$route.params.name){e.next=16;break}return e.next=12,Object(a["b"])({analysis_idea:this.step[t].stepOne.title,question:this.shortcutDetail[t]._id});case 12:i=e.sent,o=i.code,c=i.data,2e4===o&&(c.result?(this.step[t].stepOne.disabled=!0,this.$message({message:"提交成功",type:"success"})):this.$message({message:c.message,type:"error"}));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),commitAnswers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.step[t].stepTwo.title){e.next=2;break}return e.abrupt("return");case 2:if("用户问题确诊"!==this.$route.params.name){e.next=9;break}return e.next=5,Object(a["b"])({answers:this.step[t].stepTwo.title,question:this.shortcutDetail[t]._id});case 5:s=e.sent,n=s.code,r=s.data,2e4===n&&(r.result?(this.step[t].stepTwo.disabled=!0,this.$message({message:"提交成功",type:"success"})):this.$message({message:r.message,type:"error"}));case 9:if("问诊训练"!==this.$route.params.name){e.next=16;break}return e.next=12,Object(a["b"])({inquiry:this.step[t].stepTwo.title,question:this.shortcutDetail[t]._id});case 12:i=e.sent,o=i.code,c=i.data,2e4===o&&(c.result?(this.step[t].stepTwo.disabled=!0,this.$message({message:"提交成功",type:"success"})):this.$message({message:c.message,type:"error"}));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),commitProposal:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.step[t].stepThree.title){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(a["b"])({handler_suggestion:this.step[t].stepThree.title,question:this.shortcutDetail[t]._id});case 4:s=e.sent,n=s.code,r=s.data,2e4===n&&(r.result?(this.step[t].stepThree.disabled=!0,this.$message({message:"提交成功",type:"success"})):this.$message({message:r.message,type:"error"}));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},beforeRouteEnter:function(e,t,s){s((function(t){e.meta.title=t.$route.params.name}))}},u=c,p=(s("64a6"),s("2877")),l=Object(p["a"])(u,n,r,!1,null,"9a62fbb2",null);t["default"]=l.exports},"4bfb":function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"j",(function(){return i})),s.d(t,"k",(function(){return a})),s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return c})),s.d(t,"e",(function(){return u})),s.d(t,"g",(function(){return p})),s.d(t,"d",(function(){return l})),s.d(t,"i",(function(){return d})),s.d(t,"h",(function(){return m})),s.d(t,"f",(function(){return h}));var n=s("b775");function r(e){return Object(n["a"])({url:"notify",method:"post",data:e,mock:!1})}function i(e){return Object(n["a"])({url:"notify",method:"get",params:e,mock:!1})}function a(e){return Object(n["a"])({url:"mts_user/record/typing_speed",method:"post",data:e,mock:!1})}function o(e){return Object(n["a"])({url:"mts_user/record/test_question",method:"post",data:e,mock:!1})}function c(e){return Object(n["a"])({url:"question/short_answer",method:"post",data:e,mock:!1})}function u(){return Object(n["a"])({url:"question/my/error",method:"get",mock:!1})}function p(){return Object(n["a"])({url:"plan/my",method:"get",mock:!1})}function l(e){return Object(n["a"])({url:"question/my/error/"+e,method:"delete",mock:!1})}function d(){return Object(n["a"])({url:"mts_user/record/stage",method:"put",mock:!1})}function m(){return Object(n["a"])({url:"mts_user/pass",method:"put",mock:!1})}function h(){return Object(n["a"])({url:"mts_user/record/rotation/type",method:"get",mock:!1})}},"64a6":function(e,t,s){"use strict";var n=s("6a3a"),r=s.n(n);r.a},"6a3a":function(e,t,s){}}]);
//# sourceMappingURL=chunk-3b45f62e.1e091cb8.js.map