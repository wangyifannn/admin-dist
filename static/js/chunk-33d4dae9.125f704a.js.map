{"version":3,"sources":["webpack:///./src/views/study/components/SpeedOfTyping.vue?3f5a","webpack:///./src/api/study.js","webpack:///./src/api/upload.js","webpack:///./src/views/study/components/SpeedOfTyping.vue?397f","webpack:///src/views/study/components/SpeedOfTyping.vue","webpack:///./src/views/study/components/SpeedOfTyping.vue?138d","webpack:///./src/views/study/components/SpeedOfTyping.vue"],"names":["createRemind","data","request","url","method","mock","trialRemind","params","typingSpeedCreate","abilityTest","commitShortcut","getErrorQuestion","myPlan","delQuestion","id","setStage","setPass","getTestStatus","oss","getImageMeta","postObject","ossData","key","file","onProgress","FormData","append","OSSAccessKeyId","policy","Signature","headers","onUploadProgress","type","indexOf","meta","videoMeta","size","Error","extname","filename","a","split","reverse","join","b","substring","search","upload","random","Math","floor","fileName","Date","getTime","fileType","name","path","prefix","res","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","attrs","uploadFunc","handlePictureCardPreview","handleRemove","dialogVisible","on","$event","dialogImageUrl","_s","uploadTip","model","value","callback","$$v","speedNum","expression","speedNumTip","staticRenderFns","methods","document","getElementsByClassName","style","display","component"],"mappings":"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","file":"static/js/chunk-33d4dae9.125f704a.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedOfTyping.vue?vue&type=style&index=0&id=fa380fc0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedOfTyping.vue?vue&type=style&index=0&id=fa380fc0&scoped=true&lang=scss&\"","import request from '@/utils/request'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: 'catalog/list',\r\n    method: 'get',\r\n    params: query,\r\n    mock: false\r\n  })\r\n}\r\n// 创建提醒\r\nexport function createRemind(data) {\r\n  return request({\r\n    url: 'notify',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 是否需要提醒\r\nexport function trialRemind(params) {\r\n  return request({\r\n    url: 'notify',\r\n    method: 'get',\r\n    params,\r\n    mock: false\r\n  })\r\n}\r\n// 打字测试结果创建\r\nexport function typingSpeedCreate(data) {\r\n  return request({\r\n    url: 'mts_user/record/typing_speed',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 获取课程列表\r\nexport function getCourseList(params) {\r\n  return request({\r\n    url: 'lesson/list',\r\n    method: 'get',\r\n    params,\r\n    mock: false\r\n  })\r\n}\r\n// 能力测试成绩\r\nexport function abilityTest(data) {\r\n  return request({\r\n    url: 'mts_user/record/test_question',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 提交简答题\r\nexport function commitShortcut(data) {\r\n  return request({\r\n    url: 'question/short_answer',\r\n    method: 'post',\r\n    data,\r\n    mock: false\r\n  })\r\n}\r\n// 提交简答题\r\nexport function getShortcut(params) {\r\n  return request({\r\n    url: 'question/exam_paper',\r\n    method: 'get',\r\n    params,\r\n    mock: false\r\n  })\r\n}\r\n// 获取评论详情\r\nexport function getCommentDetail(id) {\r\n  return request({\r\n    url: 'question/record/' + id,\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n// 获取错题\r\nexport function getErrorQuestion() {\r\n  return request({\r\n    url: 'question/my/error',\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n// 我的计划\r\nexport function myPlan() {\r\n  return request({\r\n    url: 'plan/my',\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n// 删除错题\r\nexport function delQuestion(id) {\r\n  return request({\r\n    url: 'question/my/error/' + id,\r\n    method: 'delete',\r\n    mock: false\r\n  })\r\n}\r\n// 删除错题\r\nexport function setStage() {\r\n  return request({\r\n    url: 'mts_user/record/stage',\r\n    method: 'put',\r\n    mock: false\r\n  })\r\n}\r\n// 改变通过状态\r\nexport function setPass() {\r\n  return request({\r\n    url: 'mts_user/pass',\r\n    method: 'put',\r\n    mock: false\r\n  })\r\n}\r\n// 获取当前是否还需测试\r\nexport function getTestStatus() {\r\n  return request({\r\n    url: 'mts_user/record/rotation/type',\r\n    method: 'get',\r\n    mock: false\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\nexport const oss = () => {\r\n  return request({\r\n    url: '/oss/auth',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const getImageMeta = url => {\r\n  return request({\r\n    url: url + '?x-oss-process=image/info',\r\n    method: 'get'\r\n  })\r\n}\r\nexport const postObject = async ({ oss: ossData, key, file, onProgress }) => {\r\n  const data = new FormData()\r\n  data.append('OSSAccessKeyId', ossData.OSSAccessKeyId)\r\n  data.append('success_action_status', 200)\r\n  data.append('policy', ossData.policy)\r\n  data.append('Signature', ossData.Signature)\r\n  data.append('key', key)\r\n  data.append('file', file)\r\n  let url = 'https://pic1.baobaohehu.com/'\r\n  await request({\r\n    url,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    onUploadProgress: onProgress || null,\r\n    data\r\n  })\r\n  url = url + key\r\n  let meta\r\n  if (file.type.indexOf('image') > -1) {\r\n    meta = await getImageMeta(url)\r\n  } else if (file.type.indexOf('video') > -1) {\r\n    meta = {\r\n      ...file.videoMeta,\r\n      size: file.size\r\n    }\r\n  } else if (file.type.indexOf('audio') > -1) {\r\n    meta = {\r\n      size: file.size,\r\n      type: file.type\r\n    }\r\n  } else {\r\n    throw new Error(\r\n      '当前上传的类型不是image或者video；当前上传的类型是' + file.type\r\n    )\r\n  }\r\n  return {\r\n    url,\r\n    meta: meta\r\n  }\r\n}\r\n// 获取文件后缀名\r\nexport const extname = filename => {\r\n  if (!filename || typeof filename !== 'string') {\r\n    return false\r\n  }\r\n  const a = filename\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  const b = a\r\n    .substring(0, a.search(/\\./))\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  return b\r\n}\r\n/**\r\n * 封装下oss获取跟上传\r\n * @param file\r\n * @param onProgress\r\n * @returns {Promise.<*>}\r\n */\r\nexport const upload = async (file, onProgress) => {\r\n  const { data } = await oss()\r\n  const random = Math.floor(Math.random() * (100 - 1)) + 1\r\n  let fileName = new Date().getTime()\r\n  const fileType = extname(file.name)\r\n  fileName = fileName + random + '.' + fileType\r\n  const key = `${data.path}/${data.prefix}/${fileName}`\r\n  const res = await postObject({ oss: data, key, file, onProgress })\r\n  return res\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"speed-of-typing\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"打字速度测试\")]),_vm._m(0),_c('div',{staticClass:\"test-result\"},[_c('el-row',{staticClass:\"test-row\",attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"test-row-title\",attrs:{\"offset\":8,\"span\":3}},[_vm._v(\"测试连接\")]),_c('el-col',{attrs:{\"span\":6}},[_c('el-link',{attrs:{\"type\":\"primary\",\"target\":\"_blank\",\"href\":\"https://dazi.kukuw.com/\"}},[_vm._v(\"https://dazi.kukuw.com/\")])],1)],1),_c('el-row',{staticClass:\"test-row\",attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"test-row-title\",attrs:{\"offset\":8,\"span\":3}},[_vm._v(\"测试结果图\")]),_c('el-col',{attrs:{\"span\":6}},[_c('el-upload',{attrs:{\"action\":\"\",\"list-type\":\"picture-card\",\"http-request\":_vm.uploadFunc,\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"limit\":1}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"打字速度\"}})]),_c('p',{staticClass:\"error-text\"},[_vm._v(_vm._s(_vm.uploadTip))])],1)],1),_c('el-row',{staticClass:\"test-row\",attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"test-row-title\",attrs:{\"offset\":8,\"span\":3}},[_vm._v(\"打字速度\")]),_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入一分钟内打字个数，如：60\"},model:{value:(_vm.speedNum),callback:function ($$v) {_vm.speedNum=$$v},expression:\"speedNum\"}}),_c('p',{staticClass:\"error-text\"},[_vm._v(_vm._s(_vm.speedNumTip))])],1)],1),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":3,\"offset\":8}},[_vm._v(\" \")]),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.typingSpeedCreate}},[_vm._v(\"提交\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step\"},[_c('div',{staticClass:\"left\"},[_c('p',[_vm._v(\"第一步：打开链接。选择中午测速。设置5分钟\")]),_c('p',[_vm._v(\"\\n        第二步：测试类型-\"),_c('span',[_vm._v(\"中文测试；\")]),_vm._v(\"文章-\"),_c('span',[_vm._v(\"无特殊要求\")]),_vm._v(\"；测试时间-\"),_c('span',[_vm._v(\"设置5分钟\")])]),_c('p',[_vm._v(\"第三步：点击开始测试\")]),_c('p',[_vm._v(\"第四步：将测试结果截图，并且上传\")]),_c('p',[_vm._v(\"第五步：输入速度-\"),_c('span',[_vm._v(\"字/分\")])]),_c('p',[_vm._v(\"第六步：提交\")])]),_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":\"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217175108286/1581933067993.png\",\"alt\":\"打字速度\",\"width\":\"154\"}}),_c('p',{staticClass:\"speed\"},[_vm._v(\"打字速度\")]),_c('p',{staticClass:\"tip\"},[_vm._v(\"测试须知\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 打字速度 -->\r\n  <div class=\"speed-of-typing\">\r\n    <h3 class=\"title\">打字速度测试</h3>\r\n    <div class=\"step\">\r\n      <div class=\"left\">\r\n        <p>第一步：打开链接。选择中午测速。设置5分钟</p>\r\n        <p>\r\n          第二步：测试类型-<span>中文测试；</span>文章-<span>无特殊要求</span>；测试时间-<span\r\n            >设置5分钟</span\r\n          >\r\n        </p>\r\n        <p>第三步：点击开始测试</p>\r\n        <p>第四步：将测试结果截图，并且上传</p>\r\n        <p>第五步：输入速度-<span>字/分</span></p>\r\n        <p>第六步：提交</p>\r\n      </div>\r\n      <div class=\"right\">\r\n        <img\r\n          src=\"https://pic1.baobaohehu.com/fd/admin_v3/5d7f5f5c1c03121b82179aee//20200217175108286/1581933067993.png\"\r\n          alt=\"打字速度\"\r\n          width=\"154\"\r\n          class=\"image\"\r\n        />\r\n        <p class=\"speed\">打字速度</p>\r\n        <p class=\"tip\">测试须知</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"test-result\">\r\n      <el-row :gutter=\"10\" class=\"test-row\">\r\n        <el-col :offset=\"8\" :span=\"3\" class=\"test-row-title\">测试连接</el-col>\r\n        <el-col :span=\"6\"\r\n          ><el-link\r\n            type=\"primary\"\r\n            target=\"_blank\"\r\n            href=\"https://dazi.kukuw.com/\"\r\n            >https://dazi.kukuw.com/</el-link\r\n          ></el-col\r\n        >\r\n      </el-row>\r\n      <el-row :gutter=\"10\" class=\"test-row\">\r\n        <el-col :offset=\"8\" :span=\"3\" class=\"test-row-title\">测试结果图</el-col>\r\n        <el-col :span=\"6\">\r\n          <el-upload\r\n            action=\"\"\r\n            list-type=\"picture-card\"\r\n            :http-request=\"uploadFunc\"\r\n            :on-preview=\"handlePictureCardPreview\"\r\n            :on-remove=\"handleRemove\"\r\n            :limit=\"1\"\r\n          >\r\n            <i class=\"el-icon-plus\" />\r\n          </el-upload>\r\n          <el-dialog :visible.sync=\"dialogVisible\">\r\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"打字速度\" />\r\n          </el-dialog>\r\n          <p class=\"error-text\">{{ uploadTip }}</p>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" class=\"test-row\">\r\n        <el-col :offset=\"8\" :span=\"3\" class=\"test-row-title\">打字速度</el-col>\r\n        <el-col :span=\"6\">\r\n          <el-input\r\n            v-model=\"speedNum\"\r\n            type=\"number\"\r\n            placeholder=\"请输入一分钟内打字个数，如：60\"\r\n          />\r\n          <p class=\"error-text\">{{ speedNumTip }}</p>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"3\" :offset=\"8\">&nbsp;</el-col>\r\n        <el-col :span=\"6\">\r\n          <el-button type=\"primary\" @click=\"typingSpeedCreate\">提交</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { upload } from '@/api/upload'\r\nimport { typingSpeedCreate } from '@/api/study'\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      speedNum: '',\r\n      uploadTip: '',\r\n      speedNumTip: ''\r\n    }\r\n  },\r\n  methods: {\r\n    handleRemove() {\r\n      this.dialogImageUrl = ''\r\n      document.getElementsByClassName('el-upload')[0].style.display = 'block'\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url\r\n      this.dialogVisible = true\r\n    },\r\n    async uploadFunc(option) {\r\n      const data = await upload(option.file, progress => {\r\n        document.getElementsByClassName('el-upload')[0].style.display = 'none'\r\n      })\r\n      this.dialogImageUrl = data.url\r\n      this.uploadTip = ''\r\n    },\r\n    async typingSpeedCreate() {\r\n      if (!this.dialogImageUrl) {\r\n        this.uploadTip = '请上传图片'\r\n        return\r\n      }\r\n      if (!this.speedNum) {\r\n        this.speedNumTip = '请输入打字速度'\r\n        return\r\n      }\r\n      const { code, data } = await typingSpeedCreate({\r\n        url: this.dialogImageUrl,\r\n        word_count: parseInt(this.speedNum)\r\n      })\r\n      if (code === 20000) {\r\n        if (data.result) this.$message({ message: '提交成功', type: 'success' })\r\n        else this.$message({ message: data.message, type: 'error' })\r\n        this.$router.push('/study')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.speed-of-typing {\r\n  .title {\r\n    padding-bottom: 30px;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    color: #333;\r\n  }\r\n  .step {\r\n    margin: 0 auto;\r\n    padding: 32px;\r\n    width: 800px;\r\n    height: 204px;\r\n    background: rgba(246, 247, 251, 0.64);\r\n    border: 1px solid #ebeef5;\r\n    border-radius: 4px;\r\n    .left {\r\n      float: left;\r\n      font-size: 14px;\r\n      p {\r\n        margin: 8px 0;\r\n        span {\r\n          color: #003700;\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      position: relative;\r\n      float: left;\r\n      margin-left: 80px;\r\n      .image {\r\n        position: relative;\r\n        bottom: -14px;\r\n      }\r\n      .speed,\r\n      .tip {\r\n        position: absolute;\r\n        color: #fff;\r\n      }\r\n      .speed {\r\n        top: 24px;\r\n        left: 20px;\r\n      }\r\n      .tip {\r\n        top: 46px;\r\n        left: 20px;\r\n      }\r\n    }\r\n  }\r\n  .test-result {\r\n    margin: 30px auto 0;\r\n    width: 800px;\r\n    /deep/.el-input,\r\n    /deep/.el-button {\r\n      height: 32px;\r\n      .el-input__inner {\r\n        width: 260px;\r\n        height: 32px;\r\n      }\r\n    }\r\n    .test-row {\r\n      margin: 20px;\r\n      .test-row-title {\r\n        font-size: 14px;\r\n        color: #17233d;\r\n      }\r\n    }\r\n  }\r\n  /deep/.el-button {\r\n    padding: 6px 20px;\r\n  }\r\n  .error-text {\r\n    margin-top: 10px;\r\n    color: #f00;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedOfTyping.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedOfTyping.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeedOfTyping.vue?vue&type=template&id=fa380fc0&scoped=true&\"\nimport script from \"./SpeedOfTyping.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeedOfTyping.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeedOfTyping.vue?vue&type=style&index=0&id=fa380fc0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa380fc0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}