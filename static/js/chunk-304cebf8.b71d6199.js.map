{"version":3,"sources":["webpack:///./src/views/trade-manage/order/filters.js","webpack:///./src/views/crm/components/FollowTimeline.vue?e74e","webpack:///./src/views/crm/components/OrderTable.vue?1b25","webpack:///./src/views/crm/customer/detail/index.vue?91bf","webpack:///./src/views/crm/customer/detail/userInfo/index.vue?ff52","webpack:///src/views/crm/customer/detail/userInfo/index.vue","webpack:///./src/views/crm/customer/detail/userInfo/index.vue?3d45","webpack:///./src/views/crm/customer/detail/userInfo/index.vue","webpack:///./src/views/crm/customer/detail/order/index.vue?5aff","webpack:///./src/views/crm/components/OrderTable.vue?d8cc","webpack:///src/views/crm/components/OrderTable.vue","webpack:///./src/views/crm/components/OrderTable.vue?20c0","webpack:///./src/views/crm/components/OrderTable.vue","webpack:///src/views/crm/customer/detail/order/index.vue","webpack:///./src/views/crm/customer/detail/order/index.vue?c3f9","webpack:///./src/views/crm/customer/detail/order/index.vue","webpack:///./src/views/crm/customer/detail/operationAction/index.vue?a421","webpack:///./src/components/crm/SelectComponents/FollowerSelect.vue?f956","webpack:///src/components/crm/SelectComponents/FollowerSelect.vue","webpack:///./src/components/crm/SelectComponents/FollowerSelect.vue?8a94","webpack:///./src/components/crm/SelectComponents/FollowerSelect.vue","webpack:///./src/views/crm/components/FollowTimeline.vue?9863","webpack:///src/views/crm/components/FollowTimeline.vue","webpack:///./src/views/crm/components/FollowTimeline.vue?c710","webpack:///./src/views/crm/components/FollowTimeline.vue","webpack:///src/views/crm/customer/detail/operationAction/index.vue","webpack:///./src/views/crm/customer/detail/operationAction/index.vue?ba64","webpack:///./src/views/crm/customer/detail/operationAction/index.vue","webpack:///src/views/crm/customer/detail/index.vue","webpack:///./src/views/crm/customer/detail/index.vue?a103","webpack:///./src/views/crm/customer/detail/index.vue","webpack:///./src/views/crm/customer/detail/index.vue?dfcf"],"names":["tradeStatusFilter","value","Error","orderTypeFilter","afterSaleStatusFilter","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","params","id","model","callback","$$v","activeName","expression","_e","staticRenderFns","data","components","CustomerForm","component","directives","name","rawName","operation","column","currentPage","pageSize","total","on","followCustomer","detail","handleCurrentChange","handleSizeChange","scopedSlots","_u","key","fn","slotProps","row","afterSaleStatus","_v","$event","goToOrderPage","orderId","goToRefundPage","orderRefund","_id","_s","tradeStatus","goToDetailPage","user","show","loading","MyTable","created","fieldInit","getOrderList","methods","$router","push","path","page_size","current_page","forEach","item","width","index","setTableData","tableDate","list","map","searchFormShow","OrderTable","followDialogVisible","ref","historySearchForm","$set","searchPath","resetSearch","onFollowSuccess","label","prop","rules","placeholder","selectDisable","onValueChange","_l","options","props","type","Boolean","default","String","moduleName","Array","customerId","getFollowers","$emit","val","res","code","timePot","created_at","style","color","switchDotStyle","dotColor","class","iconType","creator","action_type","action_type_value","opration_action","formatTime","action_at","desc","user_id","order","order_type","order_id","timeLineInfo","searchParams","load","getCustomerPath","getPathFromRemote","FollowerSelect","FollowCustomerDialog","FollowTimeline","createTimeRange","follower","$refs","resetFields","followTimeline","create_time_begin","create_time_end","UserInfo","Order","Operation","CustomerBasicInfo"],"mappings":"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","file":"static/js/chunk-304cebf8.b71d6199.js","sourcesContent":["export function tradeStatusFilter(value) {\r\n  switch (value) {\r\n    case 'PENDING':\r\n      return '待付款'\r\n    case 'SUCCESS':\r\n      return '交易成功'\r\n    case 'CLOSED':\r\n      return '交易关闭'\r\n    default:\r\n      if (value) {\r\n        throw new Error(`无法识别的订单状态: ${value}`)\r\n      } else {\r\n        return ''\r\n      }\r\n  }\r\n}\r\n// export function orderStatus(){\r\n\r\n// }\r\nexport function orderTypeFilter(value) {\r\n  switch (value) {\r\n    case 'FdServiceType':\r\n      return '家庭医生'\r\n    case 'InquiryServiceType':\r\n      return '问诊'\r\n    default:\r\n      throw new Error(`无法识别的订单类型: ${value}`)\r\n  }\r\n}\r\n\r\nexport function afterSaleStatusFilter(value) {\r\n  switch (value) {\r\n    case 'apply_pending':\r\n      return '请处理退款申请'\r\n    case 'refund_refused':\r\n      return '退款已被拒绝'\r\n    case 'refund_process':\r\n      return '退款中'\r\n    case 'refund_success':\r\n      return '退款成功'\r\n    default:\r\n      throw new Error(`无法识别的售后状态: ${value}`)\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowTimeline.vue?vue&type=style&index=0&id=17f86d6a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowTimeline.vue?vue&type=style&index=0&id=17f86d6a&scoped=true&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTable.vue?vue&type=style&index=0&id=1f918ccc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTable.vue?vue&type=style&index=0&id=1f918ccc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"customer-info\"},[_c('customer-basic-info',{attrs:{\"customer-id\":_vm.$route.params.id}})],1),_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"历史运营动作\",\"name\":\"operationAction\"}}),_c('el-tab-pane',{attrs:{\"label\":\"客户信息\",\"name\":\"userInfo\"}}),_c('el-tab-pane',{attrs:{\"label\":\"订单信息\",\"name\":\"order\"}})],1),_c('div',[(_vm.activeName === 'userInfo')?_c('user-info'):(_vm.activeName === 'operationAction')?_c('operation'):(_vm.activeName === 'order')?_c('order'):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CustomerForm',{attrs:{\"showStep\":false,\"pageType\":'updateCustomer'}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <CustomerForm :showStep=\"false\" :pageType=\"'updateCustomer'\"></CustomerForm>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CustomerForm from '../../add/index'\r\nexport default {\r\n  data() {\r\n    return {}\r\n  },\r\n  components: {\r\n    CustomerForm\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=10c006a3&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"margin-top-20\"},[_c('OrderTable')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('MyTable',{attrs:{\"size\":\"mini\",\"stripe\":false,\"border\":true,\"multiple\":false,\"outlineBorder\":false,\"operation\":_vm.operation,\"column\":_vm.column,\"data\":_vm.data,\"currentPage\":_vm.currentPage,\"pageSize\":_vm.pageSize,\"total\":_vm.total},on:{\"followCustomer\":_vm.followCustomer,\"detail\":_vm.detail,\"handleCurrentChange\":_vm.handleCurrentChange,\"handleSizeChange\":_vm.handleSizeChange},scopedSlots:_vm._u([{key:\"afterMarket\",fn:function(slotProps){return [(slotProps.row.afterSaleStatus === '退款给客户')?_c('div',[_c('div',[_vm._v(\"无\")]),_c('el-button',{staticClass:\"cherry\",attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goToOrderPage(slotProps.row.orderId)}}},[_vm._v(\"退款给用户\")])],1):_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.goToRefundPage(slotProps.row.orderRefund._id)}}},[_vm._v(_vm._s(slotProps.row.afterSaleStatus)+\"\\n      \")])]}},{key:\"tradeStatus\",fn:function(slotProps){return [_c('div',[_vm._v(_vm._s(slotProps.row.tradeStatus))]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.goToDetailPage(slotProps.row)}}},[_vm._v(\"详情\")])]}},{key:\"user\",fn:function(slotProps){return [_c('div',[_vm._v(_vm._s(slotProps.row.user && slotProps.row.user.name))]),_c('div',[_vm._v(_vm._s(slotProps.row.user && slotProps.row.user.id))])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <MyTable\r\n      size=\"mini\"\r\n      :stripe=\"false\"\r\n      :border=\"true\"\r\n      :multiple=\"false\"\r\n      :outlineBorder=\"false\"\r\n      :operation=\"operation\"\r\n      :column=\"column\"\r\n      :data=\"data\"\r\n      :currentPage=\"currentPage\"\r\n      :pageSize=\"pageSize\"\r\n      :total=\"total\"\r\n      @followCustomer=\"followCustomer\"\r\n      @detail=\"detail\"\r\n      @handleCurrentChange=\"handleCurrentChange\"\r\n      @handleSizeChange=\"handleSizeChange\"\r\n    >\r\n      <template v-slot:afterMarket=\"slotProps\">\r\n        <div v-if=\"slotProps.row.afterSaleStatus === '退款给客户'\">\r\n          <div>无</div>\r\n          <el-button\r\n            class=\"cherry\"\r\n            type=\"text\"\r\n            size=\"mini\"\r\n            @click=\"goToOrderPage(slotProps.row.orderId)\"\r\n            >退款给用户</el-button\r\n          >\r\n        </div>\r\n        <el-button\r\n          v-else\r\n          type=\"text\"\r\n          @click=\"goToRefundPage(slotProps.row.orderRefund._id)\"\r\n          >{{ slotProps.row.afterSaleStatus }}\r\n        </el-button>\r\n      </template>\r\n      <template v-slot:tradeStatus=\"slotProps\">\r\n        <div>{{ slotProps.row.tradeStatus }}</div>\r\n        <el-button type=\"text\" @click=\"goToDetailPage(slotProps.row)\"\r\n          >详情</el-button\r\n        >\r\n      </template>\r\n      <template v-slot:user=\"slotProps\">\r\n        <div>{{ slotProps.row.user && slotProps.row.user.name }}</div>\r\n        <div>{{ slotProps.row.user && slotProps.row.user.id }}</div>\r\n      </template>\r\n    </MyTable>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getField } from '../getFiled'\r\nimport MyTable from '@/components/MyTable'\r\nimport { getOrderList } from '@/api/crmManage'\r\nimport {\r\n  tradeStatusFilter,\r\n  afterSaleStatusFilter\r\n} from '@/views/trade-manage/order/filters.js'\r\nimport _ from 'lodash'\r\nimport { fenToYuan, RMBSymbol } from '@/filters'\r\n\r\nexport default {\r\n  data() {\r\n    // 表格操作配置\r\n    var operation = {\r\n      show: false\r\n    }\r\n    return {\r\n      column: [],\r\n      data: [],\r\n      loading: false,\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      total: 0,\r\n      operation: operation // 操作按钮\r\n    }\r\n  },\r\n  components: {\r\n    MyTable\r\n  },\r\n  created() {\r\n    this.fieldInit()\r\n    this.getOrderList()\r\n  },\r\n  methods: {\r\n    goToRefundPage(refundId) {\r\n      this.$router.push({\r\n        name: 'RefundDetail',\r\n        params: { id: refundId }\r\n      })\r\n    },\r\n    goToOrderPage(orderId) {\r\n      this.$router.push({\r\n        name: 'OrderList',\r\n        params: { orderId: orderId }\r\n      })\r\n    },\r\n    goToDetailPage(row) {\r\n      this.$router.push({\r\n        path: `/trade/order/${row.id}`\r\n      })\r\n    },\r\n    getOrderList() {\r\n      this.loading = true\r\n      const id = this.$route.params.id\r\n      const params = {\r\n        page_size: this.pageSize,\r\n        current_page: this.currentPage\r\n      }\r\n      getOrderList(id, params)\r\n        .then(res => {\r\n          this.loading = false\r\n          if (res.code === 20000) {\r\n            this.setTableData(res.data)\r\n            this.total = res.data.count\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    fieldInit() {\r\n      // 获取字段\r\n      var column = getField('orderList')\r\n      column.forEach(item => {\r\n        if (!!item.width && item.width != 'auto') {\r\n          item.width = '300'\r\n        }\r\n      })\r\n      this.column = column\r\n    },\r\n    // 更新数据\r\n    detail(row) {\r\n      this.$router.push({\r\n        path: `/crm/customer/detail/${row.id}`\r\n      })\r\n    },\r\n    followCustomer() {\r\n      // 跟随客户\r\n    },\r\n    // 分页切换\r\n    handleCurrentChange(index) {\r\n      this.currentPage = index\r\n      this.getOrderList()\r\n    },\r\n    handleSizeChange(index) {\r\n      this.currentPage = 1\r\n      this.pageSize = index\r\n      this.getOrderList()\r\n    },\r\n    setTableData({ list }) {\r\n      this.tableDate = list.map((item, index) => ({\r\n        orderId: item.order_id,\r\n        createAt: item.create_at ? this.formatTime(item.create_at) : '-',\r\n        orderName: item.order_name,\r\n        orderType: item.order_type,\r\n        count: item.count,\r\n        afterSaleStatus: _.get(item, 'after_sale_status.key')\r\n          ? afterSaleStatusFilter(_.get(item, 'after_sale_status.key'))\r\n          : '退款给客户',\r\n        unitPrice: RMBSymbol(fenToYuan(item.unit_price)),\r\n        user: { name: item.nickname, id: item.user_id },\r\n        tradeStatus: tradeStatusFilter(item.trade_status),\r\n        cost: RMBSymbol(fenToYuan(item.cost)),\r\n        orderRefund: item.order_refund,\r\n        id: item._id\r\n      }))\r\n      this.data = this.tableDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.cherry {\r\n  color: #f8747f;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderTable.vue?vue&type=template&id=1f918ccc&scoped=true&\"\nimport script from \"./OrderTable.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderTable.vue?vue&type=style&index=0&id=1f918ccc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f918ccc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-row class=\"margin-top-20\">\r\n    <OrderTable></OrderTable>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport OrderTable from '../../../components/OrderTable'\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchFormShow: true\r\n    }\r\n  },\r\n  components: {\r\n    OrderTable\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0037e312&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticClass:\"margin-top-20\"},[_c('el-col',{attrs:{\"span\":4,\"offset\":1}},[_c('div',{staticClass:\"margin-left-20\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.followDialogVisible = true}}},[_vm._v(\"跟进客户\")])],1)]),_c('el-col',{attrs:{\"span\":19}},[_c('el-form',{ref:\"historySearchForm\",attrs:{\"inline\":true,\"model\":_vm.historySearchForm}},[_c('el-form-item',{attrs:{\"label\":\"运营动作创建时间\",\"prop\":\"createTimeRange\"}},[_c('el-date-picker',{attrs:{\"size\":\"mini\",\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\"},model:{value:(_vm.historySearchForm.createTimeRange),callback:function ($$v) {_vm.$set(_vm.historySearchForm, \"createTimeRange\", $$v)},expression:\"historySearchForm.createTimeRange\"}})],1),_c('follower-select',{attrs:{\"prop\":\"follower\",\"customer-id\":_vm.$route.params.id},model:{value:(_vm.historySearchForm.follower),callback:function ($$v) {_vm.$set(_vm.historySearchForm, \"follower\", $$v)},expression:\"historySearchForm.follower\"}}),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.searchPath}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.resetSearch}},[_vm._v(\"重置\")])],1)],1)],1)],1),_c('div',{staticClass:\"flex-col-center margin-top-20\"},[_c('follow-timeline',{ref:\"followTimeline\"})],1),_c('follow-customer-dialog',{attrs:{\"followDialogVisible\":_vm.followDialogVisible,\"customer-id\":_vm.$route.params.id},on:{\"closeDialog\":function($event){_vm.followDialogVisible = false},\"followSuccess\":_vm.onFollowSuccess}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[_c('el-select',{attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder,\"disabled\":_vm.selectDisable,\"clearable\":\"\",\"size\":\"mini\"},on:{\"change\":_vm.onValueChange}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}},[_vm._v(_vm._s(item.label))])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- crm模块，负责人 -->\r\n  <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\r\n    <el-select\r\n      :value=\"value\"\r\n      @change=\"onValueChange\"\r\n      :placeholder=\"placeholder\"\r\n      :disabled=\"selectDisable\"\r\n      clearable\r\n      size=\"mini\"\r\n    >\r\n      <el-option\r\n        v-for=\"item in options\"\r\n        :key=\"item.value\"\r\n        :value=\"item.value\"\r\n        :label=\"item.label\"\r\n        >{{ item.label }}</el-option\r\n      >\r\n    </el-select>\r\n  </el-form-item>\r\n</template>\r\n<script>\r\nimport { getFollowers } from '@/api/crmManage'\r\nexport default {\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: 'wanggang',\r\n          label: '王刚'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  props: {\r\n    selectDisable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    moduleName: {\r\n      type: String,\r\n      default: '跟进人'\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: '跟进人'\r\n    },\r\n    prop: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    rules: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    customerId: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择'\r\n    }\r\n  },\r\n  created() {\r\n    this.getFollowers(this.customerId)\r\n  },\r\n  methods: {\r\n    onValueChange(val) {\r\n      this.$emit('input', val)\r\n    },\r\n    getFollowers(customerId) {\r\n      getFollowers(customerId).then(res => {\r\n        if (res.code === 20000) {\r\n          this.options = res.data\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowerSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowerSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowerSelect.vue?vue&type=template&id=6245b641&\"\nimport script from \"./FollowerSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowerSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"time-line-wrap\",attrs:{\"infinite-scroll-immediate\":false}},_vm._l((_vm.timeLineInfo),function(timePot,index){return _c('div',{key:timePot.created_at + index,staticClass:\"time-line\"},[_c('div',{style:({\n        color: _vm.switchDotStyle(timePot).dotColor\n      })},[_c('i',{staticClass:\"iconfont dot\",class:_vm.switchDotStyle(timePot).iconType})]),_c('div',{staticClass:\"line\"}),_c('div',[_c('div',{staticClass:\"card-title\"},[_c('div',{staticClass:\"card-title__name\"},[_vm._v(_vm._s(timePot.creator))]),(timePot.action_type !== 'follow')?_c('div',{staticClass:\"card-title__content\"},[_vm._v(\"\\n          \"+_vm._s(timePot.action_type_value)+\"\\n        \")]):_c('div',{staticClass:\"card-title__content\"},[_vm._v(\"\\n          \"+_vm._s(timePot.opration_action)+\"\\n        \")]),_c('div',{staticClass:\"card-title__time\"},[_vm._v(\"\\n          \"+_vm._s(_vm.formatTime(timePot.created_at))+\"\\n        \")])]),_c('div',{staticClass:\"card-body\"},[(timePot.action_type === 'follow')?_c('div',[_c('div',[_vm._v(\"\\n            跟进日期：\"+_vm._s(_vm.formatTime(timePot.action_at, '{y}-{m}-{d}'))+\"\\n          \")]),_c('div',[_vm._v(\"备注：\"+_vm._s(timePot.desc))])]):(timePot.action_type === 'relative')?_c('div',[_c('div',[_vm._v(\"用户ID： \"+_vm._s(timePot.user.user_id))])]):(timePot.action_type === 'out_service')?_c('div',[_c('div',[_vm._v(\"用户ID： \"+_vm._s(timePot.user.user_id))])]):(timePot.action_type === 'add_order')?_c('div',{staticClass:\"add_order\"},[_c('div',[_vm._v(\"\\n            订单类型：\"+_vm._s(timePot.order && timePot.order.order_type)+\"\\n                订单号：\\n            \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.goToOrderPage(timePot.order.order_id)}}},[_vm._v(_vm._s(timePot.order && timePot.order.order_id))])],1)]):_vm._e()])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    v-infinite-scroll=\"load\"\r\n    class=\"time-line-wrap\"\r\n    :infinite-scroll-immediate=\"false\"\r\n  >\r\n    <div\r\n      class=\"time-line\"\r\n      v-for=\"(timePot, index) in timeLineInfo\"\r\n      :key=\"timePot.created_at + index\"\r\n    >\r\n      <div\r\n        :style=\"{\r\n          color: switchDotStyle(timePot).dotColor\r\n        }\"\r\n      >\r\n        <i class=\"iconfont dot\" :class=\"switchDotStyle(timePot).iconType\" />\r\n      </div>\r\n      <div class=\"line\" />\r\n      <div>\r\n        <div class=\"card-title\">\r\n          <div class=\"card-title__name\">{{ timePot.creator }}</div>\r\n          <div\r\n            class=\"card-title__content\"\r\n            v-if=\"timePot.action_type !== 'follow'\"\r\n          >\r\n            {{ timePot.action_type_value }}\r\n          </div>\r\n          <div class=\"card-title__content\" v-else>\r\n            {{ timePot.opration_action }}\r\n          </div>\r\n\r\n          <div class=\"card-title__time\">\r\n            {{ formatTime(timePot.created_at) }}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div v-if=\"timePot.action_type === 'follow'\">\r\n            <div>\r\n              跟进日期：{{ formatTime(timePot.action_at, '{y}-{m}-{d}') }}\r\n            </div>\r\n            <div>备注：{{ timePot.desc }}</div>\r\n          </div>\r\n          <div v-else-if=\"timePot.action_type === 'relative'\">\r\n            <div>用户ID： {{ timePot.user.user_id }}</div>\r\n          </div>\r\n          <div v-else-if=\"timePot.action_type === 'out_service'\">\r\n            <div>用户ID： {{ timePot.user.user_id }}</div>\r\n          </div>\r\n          <div\r\n            class=\"add_order\"\r\n            v-else-if=\"timePot.action_type === 'add_order'\"\r\n          >\r\n            <div>\r\n              订单类型：{{ timePot.order && timePot.order.order_type }}\r\n              &nbsp;&nbsp;&nbsp; 订单号：\r\n              <el-button\r\n                type=\"text\"\r\n                @click=\"goToOrderPage(timePot.order.order_id)\"\r\n                >{{ timePot.order && timePot.order.order_id }}</el-button\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { switchDotStyle } from '@/utils/crm'\r\nimport { isEmptyObject } from '@/utils'\r\n\r\nimport { getCustomerPath } from '@/api/crmManage'\r\n\r\nexport default {\r\n  name: 'FollowTimeLine',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      timeLineInfo: [],\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      total: 0,\r\n      searchParams: {}\r\n    }\r\n  },\r\n  methods: {\r\n    switchDotStyle,\r\n    load() {\r\n      if (this.pageSize < this.total) {\r\n        this.pageSize = this.pageSize + 5\r\n        this.getCustomerPath(this.searchParams)\r\n      }\r\n    },\r\n    // 跳转到订单页面\r\n    goToOrderPage(orderId) {\r\n      this.$router.push({\r\n        name: 'OrderList',\r\n        params: { orderId: orderId }\r\n      })\r\n    },\r\n    getPathFromRemote(params = {}) {\r\n      getCustomerPath(this.$route.params.id, params).then(res => {\r\n        if (res.code === 20000) {\r\n          this.timeLineInfo = res.data.list\r\n          this.total = res.data.count\r\n        }\r\n      })\r\n    },\r\n    getCustomerPath(searchParams = {}) {\r\n      if (!isEmptyObject(searchParams)) {\r\n        this.searchParams = searchParams\r\n      }\r\n      const params = {\r\n        page_size: this.pageSize,\r\n        current_page: this.currentPage,\r\n        ...this.searchParams\r\n      }\r\n      this.getPathFromRemote(params)\r\n    }\r\n  },\r\n  created() {\r\n    this.getCustomerPath()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.time-line-wrap {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  min-width: 460px;\r\n  height: 520px;\r\n}\r\n.time-line {\r\n  &:last-child {\r\n    .line {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  position: relative;\r\n  .dot {\r\n    font-size: 30px;\r\n  }\r\n  .line {\r\n    position: absolute;\r\n    top: 30px;\r\n    bottom: 0;\r\n    margin-left: 13px;\r\n    width: 2px;\r\n    background-color: #d8d8d8;\r\n  }\r\n\r\n  .card-title {\r\n    display: flex;\r\n    margin-top: -26px;\r\n    margin-left: 80px;\r\n    height: 22px;\r\n    font-size: 14px;\r\n    color: #17233d;\r\n    &__name {\r\n      margin-right: 20px;\r\n    }\r\n    &__content {\r\n      margin-right: 20px;\r\n    }\r\n    &__time {\r\n      margin-right: 20px;\r\n      margin-left: 35px;\r\n      padding-bottom: 20px;\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n  .card-body {\r\n    margin-left: 80px;\r\n    padding-bottom: 15px;\r\n    max-width: 300px;\r\n    min-height: 30px;\r\n    line-height: 24px;\r\n    font-size: 12px;\r\n    color: #999;\r\n  }\r\n  .add_order {\r\n    padding-right: 20px;\r\n    min-width: 400px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowTimeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowTimeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowTimeline.vue?vue&type=template&id=17f86d6a&scoped=true&\"\nimport script from \"./FollowTimeline.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowTimeline.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowTimeline.vue?vue&type=style&index=0&id=17f86d6a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17f86d6a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <el-row class=\"margin-top-20\">\r\n      <el-col :span=\"4\" :offset=\"1\">\r\n        <div class=\"margin-left-20\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"followDialogVisible = true\"\r\n            size=\"mini\"\r\n            >跟进客户</el-button\r\n          >\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"19\">\r\n        <el-form\r\n          :inline=\"true\"\r\n          :model=\"historySearchForm\"\r\n          ref=\"historySearchForm\"\r\n        >\r\n          <el-form-item label=\"运营动作创建时间\" prop=\"createTimeRange\">\r\n            <el-date-picker\r\n              size=\"mini\"\r\n              v-model=\"historySearchForm.createTimeRange\"\r\n              type=\"datetimerange\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始时间\"\r\n              end-placeholder=\"结束时间\"\r\n            >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <follower-select\r\n            v-model=\"historySearchForm.follower\"\r\n            prop=\"follower\"\r\n            :customer-id=\"$route.params.id\"\r\n          ></follower-select>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"searchPath\" size=\"mini\"\r\n              >查询</el-button\r\n            >\r\n            <el-button @click=\"resetSearch\" size=\"mini\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"flex-col-center margin-top-20\">\r\n      <follow-timeline ref=\"followTimeline\"></follow-timeline>\r\n    </div>\r\n    <follow-customer-dialog\r\n      :followDialogVisible=\"followDialogVisible\"\r\n      :customer-id=\"$route.params.id\"\r\n      @closeDialog=\"followDialogVisible = false\"\r\n      @followSuccess=\"onFollowSuccess\"\r\n    ></follow-customer-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport FollowerSelect from '@/components/crm/SelectComponents/FollowerSelect'\r\nimport FollowCustomerDialog from '../../../components/FollowCustomerDialog'\r\nimport FollowTimeline from '../../../components/FollowTimeline.vue'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  components: {\r\n    FollowerSelect,\r\n    FollowCustomerDialog,\r\n    FollowTimeline\r\n  },\r\n  data() {\r\n    return {\r\n      historySearchForm: {\r\n        createTimeRange: [],\r\n        follower: ''\r\n      },\r\n      followDialogVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    resetSearch() {\r\n      this.$refs.historySearchForm.resetFields()\r\n      const params = {\r\n        page_size: 10,\r\n        current_page: 1\r\n      }\r\n      this.$refs.followTimeline.getPathFromRemote(params)\r\n    },\r\n    searchPath() {\r\n      const searchParams = {\r\n        creator: this.historySearchForm.follower,\r\n        create_time_begin: _.nth(this.historySearchForm.createTimeRange, 0),\r\n        create_time_end: _.nth(this.historySearchForm.createTimeRange, 1)\r\n      }\r\n      this.$refs.followTimeline.getCustomerPath(searchParams)\r\n    },\r\n    onFollowSuccess() {\r\n      this.followDialogVisible = false\r\n      // 跟进成功后刷新跟进列表\r\n      this.resetSearch()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b9626eb2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"customer-info\">\r\n      <customer-basic-info\r\n        :customer-id=\"$route.params.id\"\r\n      ></customer-basic-info>\r\n    </div>\r\n    <el-tabs v-model=\"activeName\">\r\n      <el-tab-pane label=\"历史运营动作\" name=\"operationAction\"></el-tab-pane>\r\n      <el-tab-pane label=\"客户信息\" name=\"userInfo\"></el-tab-pane>\r\n      <el-tab-pane label=\"订单信息\" name=\"order\"></el-tab-pane>\r\n    </el-tabs>\r\n    <div>\r\n      <user-info v-if=\"activeName === 'userInfo'\"></user-info>\r\n      <operation v-else-if=\"activeName === 'operationAction'\"></operation>\r\n      <order v-else-if=\"activeName === 'order'\"></order>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserInfo from './userInfo'\r\nimport Order from './order'\r\nimport Operation from './operationAction'\r\nimport CustomerBasicInfo from '../../components/CustomerBasicInfo'\r\nexport default {\r\n  name: 'index',\r\n  components: {\r\n    UserInfo,\r\n    Order,\r\n    Operation,\r\n    CustomerBasicInfo\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: 'operationAction'\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.customer-info {\r\n  width: 70%;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7632e8a2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7632e8a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7632e8a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7632e8a2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7632e8a2&lang=scss&scoped=true&\""],"sourceRoot":""}