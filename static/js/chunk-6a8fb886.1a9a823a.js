(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a8fb886"],{"440a":function(t,e,a){},5824:function(t,e,a){"use strict";var l=a("440a"),i=a.n(l);i.a},9298:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topic-list"},[a("el-form",{attrs:{"label-position":"left","label-width":"100px",model:t.topic,inline:""}},[t.isOpen?[a("el-form-item",{staticClass:"search-item",attrs:{label:"题型"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.topic.type,callback:function(e){t.$set(t.topic,"type",e)},expression:"topic.type"}},t._l(t.typeList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"search-item",attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"创建时间","end-placeholder":"创建时间","value-format":"yyyy-MM-dd"},model:{value:t.topic.time,callback:function(e){t.$set(t.topic,"time",e)},expression:"topic.time"}})],1),a("el-form-item",{staticClass:"search-item",attrs:{label:"试题状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.topic.stage,callback:function(e){t.$set(t.topic,"stage",e)},expression:"topic.stage"}},t._l(t.stageList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]:t._e(),a("el-form-item",{staticClass:"search-item",attrs:{label:"单节课名称"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.topic.name,callback:function(e){t.$set(t.topic,"name",e)},expression:"topic.name"}},t._l(t.singleList,(function(t){return a("el-option",{key:t._id,attrs:{label:t.title,value:t._id}})})),1)],1),a("el-form-item",{staticClass:"search-item",attrs:{label:"单节课状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.topic.status,callback:function(e){t.$set(t.topic,"status",e)},expression:"topic.status"}},t._l(t.statusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t.isOpen?[a("el-form-item",{staticClass:"search-item",attrs:{label:"试题难度"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.topic.difficult,callback:function(e){t.$set(t.topic,"difficult",e)},expression:"topic.difficult"}},t._l(t.difficultyList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"search-item",attrs:{label:"创建人"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.topic.createName,callback:function(e){t.$set(t.topic,"createName",e)},expression:"topic.createName"}},t._l(t.createNameList,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1)]:t._e(),a("el-form-item",[a("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1),a("el-button",{staticClass:"arrow",attrs:{type:"text"},on:{click:function(e){t.isOpen=!t.isOpen}}},[t._v("\n      "+t._s(t.isOpen?"收起":"展开")+"\n      "),a("i",{class:t.isOpen?"el-icon-arrow-up":"el-icon-arrow-down",staticStyle:{"font-size":"16px",color:"#0085FF"}})])],2),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[a("div",[t._v("试题列表")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"addTopic"})}}},[t._v("添加试题")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"empty-text":t.hasListInfo}},[a("el-table-column",{attrs:{fixed:"",prop:"num",label:"序号","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"编号","min-width":"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top-start",trigger:"hover",content:e.row.id}},[a("span",{staticClass:"cell",attrs:{slot:"reference"},domProps:{innerHTML:t._s(e.row.id)},slot:"reference"})])]}}])}),a("el-table-column",{attrs:{prop:"question_content",label:"试题内容","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top-start",trigger:"hover",content:e.row.question_content}},[a("span",{staticClass:"cell",attrs:{slot:"reference"},domProps:{innerHTML:t._s(e.row.question_content)},slot:"reference"})])]}}])}),a("el-table-column",{attrs:{prop:"question_type",label:"题型","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{prop:"single_name",label:"单节课名称","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"single_status",label:"单节课状态","min-width":"100",align:"center"}}),a("el-table-column",{attrs:{prop:"question_status",label:"试题状态","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{on:{change:function(a){return t.setStatus(e.row)}},model:{value:e.row.question_status,callback:function(a){t.$set(e.row,"question_status",a)},expression:"scope.row.question_status"}})]}}])}),a("el-table-column",{attrs:{prop:"difficult",label:"难度","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{prop:"create_name",label:"创建人","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.delShow=!0,t.rowInfo=e.row}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/learning-admin/topic/see-topic/"+e.row.id)}}},[t._v("查看")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[12,18,24],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"删除提示",visible:t.delShow,width:"30%",center:"",top:"30vh"},on:{"update:visible":function(e){t.delShow=e}}},[a("p",{staticClass:"center"},[t._v("删除后，该试题信息将不再保留，请确定是否删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)])],1)],1)},i=[],n=(a("28a5"),a("a481"),a("7f7f"),a("96cf"),a("3b8d")),s=a("f296"),r={data:function(){return{isOpen:!1,list:[],currentPage:1,delShow:!1,pageSize:12,count:0,rowInfo:"",hasListInfo:"暂无数据",singleList:[],createNameList:[],topic:{type:"",name:"",stage:"",time:["",""],status:"",difficult:"",createName:""},typeList:[{value:"all",label:"全部"},{value:"radio",label:"单选题"},{value:"checkbox",label:"多选题"},{value:"short_answer",label:"简答题"}],stageList:[{value:"all",label:"全部"},{value:"enable",label:"启用"},{value:"disable",label:"禁用"}],statusList:[{value:"all",label:"全部"},{value:"enable",label:"计划使用中"},{value:"disable",label:"计划未使用"}],difficultyList:[{value:"all",label:"全部"},{value:"1",label:"简单"},{value:"2",label:"正常"},{value:"3",label:"难"}]}},computed:{getDifficult:function(){return function(t){return"1"===t?"简单":"2"===t?"正常":"3"===t?"难":void 0}}},created:function(){this.getQuestionList(),this.getAllSingle(),this.getAllUser()},methods:{onSubmit:function(){this.currentPage=1,this.getQuestionList(this.topic)},edit:function(t){this.$router.push("/learning-admin/topic/edit-topic/"+t.id)},handleSizeChange:function(t){this.pageSize=t,this.getQuestionList(this.topic)},handleCurrentChange:function(t){this.currentPage=t,this.getQuestionList(this.topic)},confirm:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["n"])(this.rowInfo.id);case 2:e=t.sent,a=e.data,l=e.code,2e4===l&&a.result&&(this.$message({message:"删除成功",type:"success"}),this.getQuestionList(this.topic),this.delShow=!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getQuestionList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,l,i,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e?(a={pageSize:this.pageSize,page:this.currentPage},e.time[0]&&e.time[1]&&(a.started_at=e.time[0],a.ended_at=e.time[1]),e.type&&"all"!==e.type&&(a.type=e.type),e.difficult&&"all"!==e.difficult&&(a.difficult=parseInt(e.difficult)),e.stage&&"all"!==e.stage&&(a.status=e.stage),e.status&&"all"!==e.status&&(a.plan_status=e.status),e.createName&&(a.creator=e.createName),e.name&&(a.catalog=e.name),this.hasListInfo="暂无数据，请重新输入关键词"):(a={pageSize:this.pageSize,page:this.currentPage},this.hasListInfo="暂无数据"),t.next=3,Object(s["H"])(a);case 3:l=t.sent,i=l.data,n=l.code,2e4===n&&(this.count=i.count,this.list=i.list.map((function(t,e){return{num:(i.page-1)*i.pageSize+e+1,id:t._id,question_content:t.stem.replace(/<\/?.+?>/g,""),question_type:"radio"===t.type?"单选题":"checkbox"===t.type?"多选题":"简答题",single_name:t.catalog.title,single_status:"disable"===t.plan_status?"计划未使用":"计划使用中",question_status:"enable"===t.status,difficult:r.getDifficult(t.difficult),create_name:t.creator?t.creator.name:"",create_time:t.created_at.split("T")[0]}})));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getAllSingle:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["w"])();case 2:e=t.sent,a=e.code,l=e.data,2e4===a&&(this.singleList=l.list);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAllUser:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["nb"])();case 2:e=t.sent,a=e.code,l=e.data,2e4===a&&(this.createNameList=l);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setStatus:function(t){Object(s["I"])(t.id)}}},o=r,c=(a("5824"),a("2877")),u=Object(c["a"])(o,l,i,!1,null,"748abd99",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-6a8fb886.1a9a823a.js.map