(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8024934a"],{2694:function(e,s,a){"use strict";a.r(s);var r=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"customer__list"},[a("el-row",{staticClass:"clearfix",attrs:{gutter:24}},[a("el-col",{staticClass:"search-box",attrs:{span:21}},[a("searchForm",{directives:[{name:"show",rawName:"v-show",value:e.searchFormShow,expression:"searchFormShow"}],attrs:{showCharge:!0},on:{search:e.search}})],1),a("el-col",{attrs:{span:3}},[a("CollapseBtn",{staticClass:"float-right",attrs:{searchFormShow:e.searchFormShow},on:{ifShowFun:e.ifShowFun}})],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addCustomer}},[e._v("\n    录入客户\n  ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.changeSupervisor}},[e._v("\n    更换负责人\n  ")]),a("el-row",{staticClass:"margin-top-20"},[a("CustomerTable",{ref:"customerTable",attrs:{searchParams:e.searchParams,searchFlag:e.searchFlag},on:{searchFlag:e.setSearchFlag,changeCharge:e.changeCharge}})],1),a("change-supervisor-dialog",{attrs:{followDialogVisible:e.changeDialogVisible,"change-type":e.supervisorChangeType,"customer-id":e.changeCustomerId,"pre-supervisor":this.supervisorId},on:{closeDialog:function(s){e.changeDialogVisible=!1},changeSuccess:e.refreshCustomers}})],1)},t=[],h=(a("7f7f"),a("386d"),a("61e7")),c=a("5078"),i=a("2e86"),o=a("b607"),n={data:function(){return{searchFormShow:!0,searchParams:{},searchFlag:!1,changeDialogVisible:!1,supervisorChangeType:"batch",changeCustomerId:"",supervisorId:""}},components:{ChangeSupervisorDialog:o["a"],searchForm:h["a"],CollapseBtn:c["a"],CustomerTable:i["a"]},created:function(){this.search()},methods:{setSearchFlag:function(e){this.searchFlag=e},refreshCustomers:function(){this.searchParams=this.searchParams?this.searchParams:{},this.searchParams.create_time_begin=this.searchParams.createAt&&this.searchParams.createAt.length?this.searchParams.createAt[0]:"",this.searchParams.create_time_end=this.searchParams.createAt&&this.searchParams.createAt.length?this.searchParams.createAt[1]:"",delete this.searchParams.sourceChannel,this.setSearchFlag(!0)},ifShowFun:function(){this.searchFormShow=!this.searchFormShow},search:function(e){this.searchParams=e||{},this.$refs.customerTable&&(this.$refs.customerTable.pageSize=10,this.$refs.customerTable.currentPage=1),this.refreshCustomers()},addCustomer:function(){this.$router.push({path:"/crm/customer/".concat(this.$route.meta.name,"/related")})},changeSupervisor:function(){this.supervisorId="",this.supervisorChangeType="batch",this.changeDialogVisible=!0},changeCharge:function(e){this.changeCustomerId=e.id,this.supervisorId=e.supervisor._id,this.supervisorChangeType="single",this.changeDialogVisible=!0}}},l=n,u=(a("68d3"),a("2877")),m=Object(u["a"])(l,r,t,!1,null,null,null);s["default"]=m.exports},"68d3":function(e,s,a){"use strict";var r=a("c5b2"),t=a.n(r);t.a},c5b2:function(e,s,a){}}]);
//# sourceMappingURL=chunk-8024934a.1f920e78.js.map