(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d887106"],{"0152":function(e,t,a){"use strict";var s=a("33eb"),r=a.n(s);r.a},"09f5":function(e,t,a){},"0e08":function(e,t,a){},"17e4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chanke_health_file_detail"},[a("div",[a("span",{staticStyle:{"vertical-align":"middle",display:"inline-block"}},[a("el-avatar",{attrs:{size:"medium",src:e.userInfo.avatar}})],1),a("span",{staticClass:"margin-right-30"},[e._v(" 用户："+e._s(e.userInfo.nickname)+" ")]),a("div",{class:e.memberId?"wrap":"no_wrap"},[a("span",{staticClass:"margin-right-30"},[e._v(" 患者姓名："+e._s(e.member.name)+" ")]),a("span",[e._v(" 当前阶段："+e._s(e.curStageTxt(e.cur_stage))+" ")])])]),a("el-tabs",{staticStyle:{"margin-top":"20px"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"basic_info"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("基本信息")]),a("div",{staticClass:"patient_info"},[a("div",[a("span",{staticClass:"span-key"},[e._v("患者姓名：")]),a("span",{staticClass:"span-val"},[e._v("\n            "+e._s(e.member.name)+"\n          ")])]),a("div",[a("span",{staticClass:"span-key"},[e._v("出生日期：")]),a("span",{staticClass:"span-val"},[e._v("\n            "+e._s(e._f("formatTime")(new Date(e.member.birthday),"{y}-{m}-{d}"))+"\n          ")])]),a("div",[a("span",{staticClass:"span-key"},[e._v("年龄： ")]),a("span",{staticClass:"span-val"},[e._v("\n            "+e._s(e.member.age_of_month_value.year)+"岁\n          ")])]),a("div",[a("span",{staticClass:"span-key"},[e._v("职业： ")]),a("span",{staticClass:"span-val"},[e._v("\n            "+e._s(e.member.chanke.profession||"--")+"\n          ")])])]),a("basicInfoForm",{attrs:{basicInfo:e.chankeBasicInfo,dataChange:e.dataChange,memberId:e.memberId,pageType:e.pageType,btnDisabled:!("hm"===e.role)},on:{dataChange:e.setDataChange,submitSuccess:e.getDetail}})],1),a("el-tab-pane",{attrs:{name:"byz"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{directives:[{name:"show",rawName:"v-show",value:"byz"===e.cur_stage,expression:"cur_stage === 'byz'"}],attrs:{"icon-class":"select"}}),e._v("\n        备孕中\n      ")],1),a("byzForm",{attrs:{byzInfo:e.byzInfo,btnDisabled:!("byz"===e.cur_stage&&"hm"===e.role)},on:{byzSubmit:e.formSubmit}})],1),a("el-tab-pane",{attrs:{name:"hyz"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{directives:[{name:"show",rawName:"v-show",value:"hyz"===e.cur_stage,expression:"cur_stage === 'hyz'"}],attrs:{"icon-class":"select"}}),e._v("\n        怀孕中")],1),a("hyzForm",{attrs:{hyzInfo:e.hyzInfo,btnDisabled:!("hyz"===e.cur_stage&&"hm"===e.role)},on:{hyzSubmit:e.formSubmit}})],1),a("el-tab-pane",{attrs:{name:"crq"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("svg-icon",{directives:[{name:"show",rawName:"v-show",value:"crq"===e.cur_stage,expression:"cur_stage === 'crq'"}],attrs:{"icon-class":"select"}}),e._v("\n        产褥期")],1),a("crqForm",{attrs:{crqInfo:e.crqInfo,btnDisabled:!("crq"===e.cur_stage&&"hm"===e.role)},on:{crqSubmit:e.formSubmit}})],1)],1)],1)},r=[],o=a("db72"),i=a("7b1f"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fileDeatil_answer_box"},[a("div",{staticClass:"fileDeatil_form_box"},[a("div",{staticClass:"fileDeatil_form_item"},[a("MyForm",{ref:"healthfileForm",attrs:{form:e.fileDeatilFormAttr,formItem:e.formItem,formData:e.formData},on:{submit:e.getsubmit}},[a("fksssForm",{ref:"fksssForm",attrs:{slot:"fksss",fksssData:e.formData.fuke_showshu_historys},on:{removeFksss:e.removeFksssFun,addFksss:e.addFksssData},slot:"fksss"}),a("sxsForm",{ref:"sxsForm",attrs:{slot:"sxs",sxsData:e.formData.shuxue_historys},on:{addSxs:e.addSxsData,removeSxs:e.removeSxsFun},slot:"sxs"}),a("ycsForm",{ref:"ycsForm",attrs:{slot:"ycs",ycsData:e.formData.yc_historys},on:{addYcs:e.addYcsData,removeYcs:e.removeYcsFun},slot:"ycs"}),a("div",{staticClass:"align-left fontsize-12 color-orange",attrs:{slot:"updateInfo"},slot:"updateInfo"},[e._v("\n          最近保存时间："+e._s(e.formatTime(e.formData.update_at))),a("br"),e._v("\n          修改人："+e._s(e.formData.update_user)+"\n        ")])],1)],1)])])},l=[],u=(a("ac6a"),a("63d4")),c={};(function(e){var t={item:[{type:"radio",name:"is_schedule",value:"",width:"100%",label:"月经史(月经是否规律)：",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择月经史（月经是否规律）",trigger:"blur"}]},{cascaderItem:["is_schedule"],cascaderValue:!0,type:"inputnumber",name:"period_start",value:"",colSpan:6,width:"100%",min:1,max:100,label:"周期：",unit:"天",show:!0,rules:[{required:!0,message:"请填写",trigger:"blur"}]},{cascaderItem:["is_schedule"],cascaderValue:!0,type:"inputnumber",name:"period_end",value:"",colSpan:18,width:"100%",min:1,max:100,label:"至",unit:"天",show:!0},{cascaderItem:["is_schedule"],cascaderValue:!0,type:"inputnumber",name:"duration_start",value:"",colSpan:6,width:"100%",unit:"天",min:1,max:20,label:"每次持续：",show:!0,rules:[{required:!0,message:"请填写",trigger:"blur"}]},{cascaderItem:["is_schedule"],cascaderValue:!0,type:"inputnumber",name:"duration_end",value:"",colSpan:18,min:1,max:20,width:"100%",label:"至",unit:"天",show:!0},{cascaderItem:["is_schedule"],cascaderValue:!0,type:"radio",name:"measure",value:"",width:"100%",label:"月经量：",show:!0,options:[{value:"too_much",label:"过多"},{value:"much",label:"多"},{value:"middle",label:"中"},{value:"little",label:"少"},{value:"too_little",label:"过少"}],rules:[{required:!0,message:"请选择月经量",trigger:"blur"}]},{cascaderItem:["is_schedule"],cascaderValue:!0,type:"html",name:"yjtip",value:'<div class="align-left fontsize-12 color-999">针对月经量过多过少给用户的温馨提示：</br>月经过多：80ml就是过多，如果用卫生巾的量评估，大概每1-2个小时就浸透一大片的卫生巾或卫生棉；</br>月经过少：月经量少于20ml为过少，如果用卫生巾的量评估，一片夜用卫生巾浸满的时候血量大概为20-31ml。</div>',width:"100%",label:"",show:!0},{cascaderItem:["is_schedule"],cascaderValue:!1,type:"textarea",maxlength:100,showlimit:!0,name:"measure_desc",value:"",width:"100%",label:"说明：",show:!0,placeholder:"请输入",rules:[{required:!0,message:"请输入",trigger:"blur"}]},{type:"radio",name:"has_past_history",value:"",width:"100%",label:"既往史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"checkbox",cascaderItem:["has_past_history"],cascaderValue:!0,name:"past_historys",value:"",width:"100%",label:"",options:[{value:"xzb",label:"心脏病"},{value:"szjb",label:"肾脏疾病"},{value:"gzjb",label:"肝脏疾病"},{value:"gxy",label:"高血压"},{value:"px",label:"贫血"},{value:"tnb",label:"糖尿病"},{value:"yg",label:"乙肝"},{value:"other",label:"其他"}],show:!0,rules:[{required:!0,message:"请选择",trigger:"blur"}]},{cascaderItem:["past_historys"],cascaderValue:"other",type:"textarea",maxlength:100,showlimit:!0,name:"past_other_desc",value:"",width:"100%",label:"说明：",show:!0,placeholder:"请输入",rules:[{required:!0,message:"请输入",trigger:"blur"}]},{type:"radio",name:"has_family_history",value:"",width:"100%",label:"家族史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!1,message:"请选择",trigger:"blur"}]},{type:"checkbox",cascaderItem:["has_family_history"],cascaderValue:!0,name:"family_historys",value:"",width:"100%",label:"",options:[{value:"ycxjb",label:"遗传性疾病史"},{value:"jsb",label:"精神病史"},{value:"other",label:"其他"}],show:!0,rules:[{required:!0,message:"请选择",trigger:"blur"}]},{cascaderItem:["family_historys"],cascaderValue:"other",type:"textarea",maxlength:100,showlimit:!0,name:"family_other_desc",value:"",width:"100%",label:"说明：",show:!0,placeholder:"请输入",rules:[{required:!0,message:"请输入",trigger:"blur"}]},{type:"radio",name:"has_personal_history",value:"",width:"100%",label:"个人史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"checkbox",cascaderItem:["has_personal_history"],cascaderValue:!0,name:"personal_historys",value:"",width:"100%",label:"",options:[{value:"yj",label:"饮酒"},{value:"xy",label:"吸烟"},{value:"fyyw",label:"服用药物"},{value:"jcydyhwz",label:"接触有毒有害物质"},{value:"jcfsx",label:"接触放射线"},{value:"other",label:"其他"}],show:!0,rules:[{required:!0,message:"请选择",trigger:"blur"}]},{cascaderItem:["personal_historys"],cascaderValue:"other",type:"textarea",maxlength:100,showlimit:!0,name:"personal_other_desc",value:"",width:"100%",label:"说明：",show:!0,placeholder:"请输入",rules:[{required:!0,message:"请输入",trigger:"blur"}]},{type:"radio",name:"has_fuke_shoushu_history",value:"",width:"100%",label:"妇科手术史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{show:!0,type:"slot",cascaderItem:["has_fuke_shoushu_history"],cascaderValue:!0,slotName:"fksss"},{type:"radio",name:"has_ywgm_history",value:"",width:"100%",label:"药物过敏史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{cascaderItem:["has_ywgm_history"],cascaderValue:!0,type:"text",maxlength:50,showlimit:!0,name:"ywgm_desc",value:"",width:"100%",label:"过敏药物：",show:!0,placeholder:"请输入",rules:[{required:!0,message:"请输入",trigger:"blur"}]},{type:"radio",name:"has_shuxue_history",value:"",width:"100%",label:"输血史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!1,message:"请选择",trigger:"blur"}]},{show:!0,cascaderItem:["has_shuxue_history"],cascaderValue:!0,type:"slot",slotName:"sxs"},{type:"radio",name:"has_yc_history",value:"",width:"100%",label:"孕产史：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{show:!0,type:"slot",cascaderItem:["has_yc_history"],cascaderValue:!0,slotName:"ycs"},{type:"radio",name:"has_baby",value:"",width:"100%",label:"现子女情况：",show:!0,options:[{value:!0,label:"有"},{value:!1,label:"无"}],rules:[{required:!1,message:"请选择现子女情况",trigger:"blur"}]},{cascaderItem:["has_baby"],cascaderValue:!0,type:"inputnumber",name:"boy_num",value:"",width:"100%",label:"男：",show:!0,colSpan:7,min:0,max:5,rules:[{required:!0,message:"请输入0-5的整数",trigger:"blur"}]},{cascaderItem:["has_baby"],cascaderValue:!0,type:"inputnumber",name:"girl_num",value:"",width:"100%",min:0,max:5,colSpan:7,label:"女：",show:!0,rules:[{required:!0,message:"请输入0-5的整数",trigger:"blur"}]},{show:!0,type:"slot",slotName:"updateInfo"}],data:{is_schedule:"",period_start:"",period_end:"",yjtip:"",duration_start:"",duration_end:"",measure:"",measure_desc:"",has_past_history:!1,past_historys:[],past_other_desc:"",has_family_history:"",family_historys:[],family_other_desc:"",has_personal_history:"",personal_historys:[],personal_other_desc:"",has_fuke_shoushu_history:!1,has_shuxue_history:"",shuxue_historys:[{desc:"",at:""}],has_yc_history:"",yc_historys:[{hy_at:"",is_gwy:"",fenmian_status:"",fenmian_at:"",fenmian_mode:"",is_ceqie:""}],fuke_showshu_historys:[{name:"",at:""}],has_ywgm_history:"",ywgm_desc:"",update_at:"",update_user:""}};e.form=t})(c);var m=c,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fksss_box"},[e.fksssData.length?a("div",[e._l(e.fksssData,(function(t,s){return a("el-row",{key:s+"baby"},[a("div",{staticClass:"fksss_form_box"},[a("div",{staticClass:"form_item"},[s>0?a("i",{staticClass:"el-icon-close close_baby_icon",on:{click:function(t){return e.removeFksss(s)}}}):e._e(),a("MyForm",{attrs:{myRef:"fksssForm",form:e.fksssFormAttr,formItem:e.formItem,formData:t}})],1)])])})),a("el-row",[a("p",{staticClass:"add_answer_btn",on:{click:function(t){return e.addFksssFun()}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加\n      ")])])],2):e._e()])},d=[],f={};(function(e){var t={item:[{type:"text",name:"name",labelWidth:"60px",value:"",width:"100%",label:"手术名称",maxlength:50,showlimit:!0,show:!0,rules:[{required:!0,message:"请输入",trigger:"blur"}]},{name:"at",value:"",width:"100%",label:"手术日期",labelWidth:"60px",show:!0,showBefore:!0,type:"date",placeholder:"请选择手术日期",rules:[{required:!0,message:"请选择手术日期",trigger:"blur"}]}],data:{fuke_showshu_historys:[{name:"",at:""}]}};e.form=t})(f);var b=f,p={props:{fksssData:{type:Array,default:function(){return[]}}},data:function(){var e={showFormBorder:!1,showTitle:!1,labelWidth:"90px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!1,btnRight:!0,userId:"",relativeId:"",cancleShow:!1,submitText:"确认提交",cancleText:""};return{fksssFormAttr:e,formItem:[]}},components:{MyForm:u["a"]},created:function(){this.formInit()},methods:{submitForm:function(){var e=this;this.$refs["fksssForm"].validate((function(t){if(!t)return!1;e.$emit("submit",e.formData)}))},formInit:function(e,t){this.formItem=b.form.item},addFksssFun:function(){this.$emit("addFksss")},removeFksss:function(e){this.$emit("removeFksss",e)}}},_=p,y=(a("e405"),a("2877")),v=Object(y["a"])(_,h,d,!1,null,null,null),g=v.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sxs_box"},[e.sxsData.length?a("div",[e._l(e.sxsData,(function(t,s){return a("el-row",{key:s+"sxs"},[a("div",{staticClass:"sxs_form_box"},[a("div",{staticClass:"form_item"},[s>0?a("i",{staticClass:"el-icon-close close_baby_icon",on:{click:function(t){return e.removesxs(s)}}}):e._e(),a("MyForm",{attrs:{myRef:"sxsForm",form:e.sxsFormAttr,formItem:e.formItem,formData:t}})],1)])])})),a("el-row",[a("p",{staticClass:"add_answer_btn",on:{click:function(t){return e.addsxsFun()}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加\n      ")])])],2):e._e()])},I=[],x={};(function(e){var t={item:[{type:"text",name:"desc",labelWidth:"80px",value:"",width:"100%",label:"输血情况",maxlength:50,showlimit:!0,show:!0,colSpan:11,rules:[{required:!0,message:"请输入",trigger:"blur"}]},{name:"at",value:"",width:"100%",label:"输血日期",labelWidth:"80px",colSpan:10,show:!0,type:"date",placeholder:"请选择输血日期",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},rules:[{required:!0,message:"请选择输血日期",trigger:"blur"}]}],data:{fksssItem:[{desc:"",at:""}]}};e.form=t})(x);var D=x,F={props:{sxsData:{type:Array,default:function(){return[]}}},data:function(){var e={showFormBorder:!1,showTitle:!1,labelWidth:"90px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!1,btnRight:!0,userId:"",relativeId:"",cancleShow:!1,submitText:"确认提交",cancleText:""};return{sxsFormAttr:e,formItem:[]}},components:{MyForm:u["a"]},created:function(){this.formInit()},methods:{formInit:function(e,t){this.formItem=D.form.item},addsxsFun:function(){this.$emit("addSxs")},removesxs:function(e){this.$emit("removeSxs",e)}}},k=F,q=(a("a7c9"),Object(y["a"])(k,w,I,!1,null,null,null)),j=q.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ycs_box"},[e.ycsData.length?a("div",[e._l(e.ycsData,(function(t,s){return a("el-row",{key:s+"baby"},[a("div",{staticClass:"ycs_form_box"},[a("div",{staticClass:"form_item"},[s>0?a("i",{staticClass:"el-icon-close close_baby_icon",on:{click:function(t){return e.removeycs(s)}}}):e._e(),a("MyForm",{attrs:{myRef:"ycsForm",form:e.ycsFormAttr,formItem:e.formItem,formData:t}})],1)])])})),a("el-row",[a("p",{staticClass:"add_answer_btn",on:{click:function(t){return e.addycsFun()}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加\n      ")])])],2):e._e()])},z=[],O={};(function(e){var t={item:[{name:"hy_at",value:"",width:"100%",label:"怀孕日期",labelWidth:"80px",colSpan:10,show:!0,type:"date",placeholder:"请选择怀孕日期",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},rules:[{required:!0,message:"请选择怀孕日期",trigger:"blur"}]},{type:"radio",name:"is_gwy",value:"",width:"100%",label:"宫外孕:",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"radio",name:"fenmian_status",value:"",width:"100%",label:"分娩情况:",show:!0,options:[{value:"normal",label:"正常"},{value:"zaochan",label:"早产"},{value:"liuchan",label:"流产"},{value:"yinchan",label:"引产"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{name:"fenmian_at",value:"",width:"100%",label:"分娩日期",labelWidth:"80px",cascaderItem:["fenmian_status"],cascaderType:"array",cascaderValue:["normal","zaochan"],colSpan:10,show:!0,type:"date",placeholder:"请选择分娩日期",showBefore:!0,rules:[{required:!0,message:"请选择分娩日期",trigger:"blur"}]},{name:"fenmian_mode",value:"",width:"100%",label:"分娩方式",labelWidth:"80px",colSpan:10,show:!0,cascaderType:"array",cascaderItem:["fenmian_status"],cascaderValue:["normal","zaochan"],type:"select",placeholder:"请选择分娩方式",options:[{label:"阴道分娩",value:"ydfm"},{label:"剖宫产",value:"pgc"}],rules:[{required:!0,message:"请填写分娩情况",trigger:"blur"}]},{type:"radio",name:"is_ceqie",cascaderItem:["fenmian_mode"],cascaderValue:"ydfm",value:"",width:"100%",label:"是否侧切:",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]}]};e.form=t})(O);var $=O,C={props:{ycsData:{type:Array,default:function(){return[]}}},data:function(){var e={showFormBorder:!1,showTitle:!1,labelWidth:"90px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!1,btnRight:!0,userId:"",relativeId:"",cancleShow:!1,submitText:"确认提交",cancleText:""};return{ycsFormAttr:e,formItem:[]}},components:{MyForm:u["a"]},watch:{},created:function(){this.formInit()},methods:{formInit:function(e,t){this.formItem=$.form.item,console.log(this.formItem)},addycsFun:function(){this.$emit("addYcs")},removeycs:function(e){this.$emit("removeYcs",e)}}},V=C,T=(a("6056"),Object(y["a"])(V,S,z,!1,null,null,null)),B=T.exports,N=a("2ef0"),A=a.n(N),M={props:{memberId:{type:String,default:""},basicInfo:{type:Object,default:function(){}},dataChange:{type:Boolean,default:!1},pageType:{type:String,default:""},btnDisabled:{type:Boolean,default:!1}},data:function(){var e={showFormBorder:!1,showTitle:!1,ref:"healthfileForm",labelWidth:"120px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!0,userId:"",relativeId:"",cancleShow:!1,submitText:"修改并保存",cancleText:""};return{fileDeatilFormAttr:e,fksssFormValid:!1,ycsFormValid:!1,sxsFormValid:!1,formItem:[],formData:{}}},components:{MyForm:u["a"],fksssForm:g,ycsForm:B,sxsForm:j},watch:{basicInfo:{handler:function(e){this.dataChange&&(this.formInit(),this.getData())},deep:!0},btnDisabled:function(e){this.fileDeatilFormAttr.submitDisabled=e}},created:function(){this.formInit(),this.fileDeatilFormAttr.submitDisabled=this.btnDisabled},methods:{addSxsData:function(){var e={desc:"",at:""};this.formData.shuxue_historys.push(e)},addFksssData:function(){var e={name:"",at:""};this.formData.fuke_showshu_historys.push(e)},addYcsData:function(){var e={hy_at:"",is_gwy:"",fenmian_status:"",fenmian_at:"",fenmian_mode:"",is_ceqie:""};this.formData.yc_historys.push(e)},getData:function(){var e=Object.assign({},this.formData,this.basicInfo.yuejing,this.basicInfo.chanke_history,this.basicInfo.baby_info);this.basicInfo.chanke_history&&this.basicInfo.chanke_history.yc_historys||(e.yc_historys=[{hy_at:"",is_gwy:"",fenmian_status:"",fenmian_at:"",fenmian_mode:"",is_ceqie:""}]),this.basicInfo.chanke_history&&this.basicInfo.chanke_history.shuxue_historys||(e.shuxue_historys=[{desc:"",at:""}]),this.basicInfo.chanke_history&&this.basicInfo.chanke_history.fuke_showshu_historys||(e.fuke_showshu_historys=[{name:"",at:""}]),e.update_user=this.basicInfo.update_user,e.update_at=this.basicInfo.update_at,this.formData=e,this.$emit("dataChange",!1)},removeFksssFun:function(e){this.formData.fuke_showshu_historys=A.a.remove(this.formData.fuke_showshu_historys,(function(t,a){return!(a===e)}))},removeSxsFun:function(e){this.formData.shuxue_historys=A.a.remove(this.formData.shuxue_historys,(function(t,a){return!(a===e)}))},removeYcsFun:function(e){this.formData.yc_historys=A.a.remove(this.formData.yc_historys,(function(t,a){return!(a===e)}))},formInit:function(e,t){this.formItem=m.form.item,"chat"===this.pageType&&(this.formItem[1].colSpan=18,this.formItem[2].colSpan=18,this.formItem[3].colSpan=18,this.formItem[4].colSpan=18),this.formData=m.form.data},ycsValid:function(){var e=this.$refs.ycsForm.$children,t=this;e.length?A()(e).forEach((function(e,a){var s=e.$children&&e.$children.length?e.$children[0].$refs:"";s&&s.ycsForm&&s.ycsForm.validate((function(e){t.ycsFormValid=!!e}))})):t.ycsFormValid=!0},fksssValid:function(){var e=this.$refs.fksssForm.$children,t=this;e.length?A()(e).forEach((function(e,a){var s=e.$children&&e.$children.length?e.$children[0].$refs:"";s&&s.fksssForm&&s.fksssForm.validate((function(e){t.fksssFormValid=!!e}))})):t.fksssFormValid=!0},sxsValid:function(){var e=this.$refs.sxsForm.$children,t=this;e.length?A()(e).forEach((function(e,a){var s=e.$children&&e.$children.length?e.$children[0].$refs:"";s&&s.sxsForm&&s.sxsForm.validate((function(e){t.sxsFormValid=!!e}))})):t.sxsFormValid=!0},getsubmit:function(e){var t=this;if(this.formData.has_fuke_shoushu_history?this.fksssValid():this.fksssFormValid=!0,this.fksssFormValid)if(this.formData.has_shuxue_history?this.sxsValid():this.sxsFormValid=!0,this.sxsFormValid)if(this.formData.has_yc_history?this.ycsValid():this.ycsFormValid=!0,this.ycsFormValid){var a=this.formData,s=this.formData,r=this.formData,o={yuejing:a,baby_info:r,chanke_history:s,update_key:"chanke_basic_info"},n=this.$route.params.id||this.memberId||this.basicInfo.member.id;Object(i["z"])(n,o).then((function(e){t.$message({type:"success",message:"修改并保存成功"}),t.$route.params.id||t.$store.dispatch("chat/getActivedUserInfo",{babyId:t.$store.state.chat.activedBabyId}),t.$emit("submitSuccess")}))}else this.$message.error("请填写孕产史");else this.$message.error("请填写输血史");else this.$message.error("请填写妇科手术史")}}},W=M,P=(a("e1de"),Object(y["a"])(W,n,l,!1,null,null,null)),E=P.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"byz_form"},[a("MyForm",{ref:"byzForm",attrs:{form:e.form,formData:e.formData,formItem:e.formItem},on:{submit:e.byzSubmit,resetForm:e.reset}},[a("div",{staticClass:"align-left fontsize-12 color-orange",attrs:{slot:"updateInfo"},slot:"updateInfo"},[e._v("\n      最近保存时间："+e._s(e.formatTime(e.formData.update_at))),a("br"),e._v("\n      修改人："+e._s(e.formData.update_user)+"\n    ")])])],1)},Y=[],L=a("af7d"),J={data:function(){var e={showFormBorder:!1,showTitle:!1,ref:"byzForm",labelWidth:"150px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!0,btnRight:!1,cancleShow:!1,submitText:"修改并保存",cancleText:""};return{searchParams:{},formItem:[],formData:{},form:e}},props:{byzInfo:{type:Object,default:function(){}},btnDisabled:{type:Boolean,default:!1}},watch:{byzInfo:{handler:function(e){this.formInit(),this.getData()},deep:!0},btnDisabled:function(e){this.form.submitDisabled=e},"formData.is_checked":function(e){this.formItem[4].show=!1!==e&&this.formData.has_unusual_status},"formData.has_unusual_status":function(e){this.formItem[4].show=this.formData.has_unusual_status}},components:{MyForm:u["a"]},created:function(){this.formInit(),this.form.submitDisabled=this.btnDisabled},methods:{getData:function(){var e=Object.assign({},this.byzInfo);this.formData=e},byzSubmit:function(e){this.$emit("byzSubmit",e)},formInit:function(e){this.formItem=Object(L["b"])("byzForm","item"),this.formData=e||Object(L["b"])("byzForm","data")},reset:function(){this.$emit("searchFun")}}},U=J,G=(a("aaff"),Object(y["a"])(U,R,Y,!1,null,"f090e75e",null)),H=G.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hyz_form"},[a("MyForm",{ref:"hyzForm",attrs:{form:e.form,formData:e.formData,formItem:e.formItem},on:{submit:e.submit,resetForm:e.reset}},[a("div",{staticClass:"align-left fontsize-12 color-orange",attrs:{slot:"updateInfo"},slot:"updateInfo"},[e._v("\n      最近保存时间："+e._s(e.formatTime(e.formData.update_at))),a("br"),e._v("\n      修改人："+e._s(e.formData.update_user)+"\n    ")])])],1)},Q=[],X={data:function(){var e={showFormBorder:!1,showTitle:!1,ref:"hyzForm",labelWidth:"140px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!0,btnRight:!1,cancleShow:!1,submitText:"修改并保存",cancleText:""};return{searchParams:{},formItem:[],formData:{},form:e}},props:{hyzInfo:{type:Object,default:function(){}},btnDisabled:{type:Boolean,default:!1}},watch:{hyzInfo:{handler:function(e){this.formInit(),this.getData()},deep:!0},btnDisabled:function(e){this.form.submitDisabled=this.btnDisabled}},components:{MyForm:u["a"]},created:function(){this.formInit(),this.form.submitDisabled=this.btnDisabled},methods:{getData:function(){var e=Object.assign({},this.hyzInfo);this.formData=e},submit:function(e){this.$emit("hyzSubmit",e)},formInit:function(e){this.formItem=Object(L["b"])("hyzForm","item"),this.formData=e||Object(L["b"])("hyzForm","data")},reset:function(){this.$emit("searchFun")}}},Z=X,ee=(a("2c0a"),Object(y["a"])(Z,K,Q,!1,null,"4785988f",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"crq_form"},[a("MyForm",{ref:"crqForm",attrs:{form:e.form,formData:e.formData,formItem:e.formItem},on:{submit:e.submit,resetForm:e.reset}},[a("div",{staticClass:"align-left fontsize-12 color-orange",attrs:{slot:"updateInfo"},slot:"updateInfo"},[e._v("\n      最近保存时间："+e._s(e.formatTime(e.formData.update_at))),a("br"),e._v("\n      修改人："+e._s(e.formData.update_user)+"\n    ")])])],1)},se=[],re={data:function(){var e={showFormBorder:!1,showTitle:!1,ref:"crqForm",labelWidth:"150px",labelPositon:"right",style:"notprepend",column:1,hasSubmit:!0,btnRight:!1,cancleShow:!1,submitText:"修改并保存",cancleText:""};return{searchParams:{},formItem:[],formData:{},form:e}},props:{crqInfo:{type:Object,default:function(){}},btnDisabled:{type:Boolean,default:!1}},components:{MyForm:u["a"]},created:function(){this.formInit(),this.form.submitDisabled=this.btnDisabled},watch:{crqInfo:{handler:function(e){this.formInit(),this.getData()},deep:!0},btnDisabled:function(e){this.form.submitDisabled=e}},methods:{getData:function(){var e=Object.assign({},this.crqInfo);this.formData=e},submit:function(e){this.$emit("crqSubmit",e)},formInit:function(e){this.formItem=Object(L["b"])("crqForm","item"),this.formData=e||Object(L["b"])("crqForm","data")},reset:function(){this.$emit("searchFun")}}},oe=re,ie=(a("0152"),Object(y["a"])(oe,ae,se,!1,null,"30c0057d",null)),ne=ie.exports,le=a("8975"),ue=a("2f62"),ce={props:{memberId:{type:String,default:""},department:{type:String,default:""},pageType:{type:String,default:""}},computed:Object(o["a"])({},Object(ue["c"])(["role"])),data:function(){return{activeName:"basic_info",cur_stage:"",userInfo:"",chankeBasicInfo:{},member:{remark:"",name:"",age:"",avatar:"",age_of_month_value:{year:""},chanke:{profession:""}},byzInfo:{},hyzInfo:{},crqInfo:{},dataChange:!1}},components:{basicInfoForm:E,byzForm:H,hyzForm:te,crqForm:ne},created:function(){this.getDetail()},watch:{activeName:function(){this.getDetail()},memberId:function(e,t){e!==t&&this.getDetail()}},methods:{setDataChange:function(e){this.dataChange=e},getDetail:function(){var e=this;(this.$route.params.id||this.memberId)&&(this.memberId&&"chanke"!==this.department||Object(i["o"])(this.$route.params.id||this.memberId,"chanke_"+this.activeName).then((function(t){t&&(e.member=t.data.member,e.userInfo=t.data.user_info,e.cur_stage=t.data.cur_stage,"basic_info"===e.activeName?(e.chankeBasicInfo=t.data.chanke_basic_info,e.dataChange=!0):"byz"===e.activeName?e.byzInfo=t.data.chanke_byz:"hyz"===e.activeName?e.hyzInfo=t.data.chanke_hyz:e.crqInfo=t.data.chanke_crq)})))},curStageTxt:le["curStageTxt"],formSubmit:function(e){var t=this,a={update_key:"chanke_"+this.activeName};a=Object.assign({},a,e);var s=this.memberId||this.$route.params.id;Object(i["z"])(s,a).then((function(e){t.$message({type:"success",message:"修改并保存成功"}),t.$route.params.id||t.$store.dispatch("chat/getActivedUserInfo",{babyId:t.$store.state.chat.activedBabyId}),t.getDetail()}))}}},me=ce,he=(a("eb95"),Object(y["a"])(me,s,r,!1,null,"2329a705",null));t["default"]=he.exports},"2c0a":function(e,t,a){"use strict";var s=a("09f5"),r=a.n(s);r.a},"33eb":function(e,t,a){},"3acd":function(e,t,a){"use strict";a.d(t,"i",(function(){return r})),a.d(t,"l",(function(){return o})),a.d(t,"m",(function(){return i})),a.d(t,"g",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"o",(function(){return u})),a.d(t,"d",(function(){return c})),a.d(t,"k",(function(){return m})),a.d(t,"f",(function(){return h})),a.d(t,"e",(function(){return d})),a.d(t,"h",(function(){return f})),a.d(t,"n",(function(){return b})),a.d(t,"c",(function(){return p})),a.d(t,"j",(function(){return _})),a.d(t,"b",(function(){return y}));var s=a("b775");function r(e){return Object(s["a"])({url:"/crm/customer/list",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/crm/user/list",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/crm/user/".concat(e),method:"get",params:e})}function n(e){return Object(s["a"])({url:"/crm/customer/".concat(e,"/detail"),method:"get",params:e})}function l(e){return Object(s["a"])({url:"/crm/customer",method:"post",data:e})}function u(e,t){return Object(s["a"])({url:"/crm/customer/".concat(t,"/update"),method:"put",data:e})}function c(e,t){return Object(s["a"])({url:"/crm/customer/".concat(t,"/relative"),method:"put",data:e})}function m(e,t){return Object(s["a"])({url:"/crm/customer/".concat(e,"/orders"),method:"get",params:t})}function h(e){return Object(s["a"])({url:"/crm/customer/".concat(e,"/brief_info"),method:"get"})}function d(e,t){return Object(s["a"])({url:"/crm/customer/".concat(e,"/path"),method:"post",data:t})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s["a"])({url:"/crm/customer/".concat(e,"/path/list"),method:"get",params:t})}function b(){return Object(s["a"])({url:"/crm/basic/customer/supervisor/options",method:"get"})}function p(e){return Object(s["a"])({url:"/crm/customer/change_supervisor",method:"put",data:e})}function _(e){return Object(s["a"])({url:"/crm/customer/".concat(e,"/creator_options"),method:"get"})}function y(e){return Object(s["a"])({url:"/crm/customer/".concat(e,"/cancel_relative"),method:"put"})}},"408a":function(e,t,a){},6056:function(e,t,a){"use strict";var s=a("d496"),r=a.n(s);r.a},"63d9":function(e,t,a){},8124:function(e,t,a){},8722:function(e){e.exports={healthFileTableSearch:{item:[{type:"text",name:"baby_name",value:"",placeholder:"请输入患者姓名",width:"100%",label:"患者姓名：",show:!0,colSpan:6,rules:[]},{type:"text",name:"baby_id",value:"",placeholder:"请输入患者ID",width:"100%",label:"患者ID：",colSpan:6,show:!0,rules:[]},{type:"select",value:"",placeholder:"请选择",show:!0,label:"患者当前阶段：",options:[{label:"备孕中",value:"byz"},{label:"怀孕中",value:"hyz"},{label:"产褥期",value:"crq"}],name:"cur_stage"},{type:"text",name:"user_name",value:"",placeholder:"请输入用户昵称或备注名",width:"100%",label:"用户：",show:!0,colSpan:6,rules:[]},{type:"text",name:"user_id",value:"",placeholder:"请输入用户ID",width:"100%",label:"用户ID：",colSpan:6,show:!0,rules:[]},{type:"servicePackage",value:"",show:!0,label:"当前服务套餐：",placeholder:"请选择",colSpan:7,name:"fd_service_type"},{type:"btn",colSpan:5,show:!0}],data:{baby_name:"",baby_id:"",cur_stage:"",user_name:"",user_id:"",fd_service_type:""}},byzForm:{item:[{type:"date",name:"started_at",value:"",placeholder:"选择日期",width:"100%",label:"备孕开始日期：",show:!0,showBefore:!1,rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"tipRow",label:"备孕时长：",name:"bysc",show:!0,value:""},{type:"radio",name:"is_checked",value:"",width:"100%",label:"是否做过孕前检查：",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择是否做过孕前检查",trigger:"blur"}]},{type:"radio",name:"has_unusual_status",cascaderItem:["is_checked"],cascaderValue:!0,value:"",width:"100%",label:"检查是否有异常：",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择检查是否有异常",trigger:"blur"}]},{type:"textarea",name:"unusual_desc",cascaderItem:["has_unusual_status"],cascaderValue:!0,value:"",width:"100%",label:"说明：",placeholder:"请输入",minlength:"0",maxlength:"100",showLimit:!0,show:!0,rules:[{required:!0,message:"请填写",trigger:"blur"}]},{show:!0,type:"slot",slotName:"updateInfo"}],data:{started_at:"",bysc:"",is_checked:"",has_unusual_status:!1,unusual_desc:"",update_at:"",update_user:""}},hyzForm:{item:[{type:"date",name:"last_yuejing_at",value:"",placeholder:"选择日期",width:"100%",label:"末次月经日期：",show:!0,showBefore:!0,rules:[{required:!0,message:"请填写",trigger:"blur"}]},{type:"date",name:"yuchan_at",value:"",placeholder:"选择日期",width:"100%",label:"预产期：",show:!0,showAfter:!1,rules:[{required:!0,message:"请填写",trigger:"blur"}]},{type:"inputnumber",name:"gestational_weeks",value:"",colSpan:12,width:"100%",label:"孕周：",unit:"周",min:0,max:42,show:!0,rules:[{required:!0,message:"请填写",trigger:"blur"}]},{type:"inputnumber",name:"gestational_days",value:"",min:1,max:6,colSpan:12,width:"100%",label:"",unit:"天",show:!0},{type:"radio",name:"has_unusual_baby",value:"",width:"100%",label:"是否孕育过有出生缺陷的宝宝：",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"textarea",name:"unusual_baby_desc",cascaderItem:["has_unusual_baby"],cascaderValue:!0,value:"",width:"100%",label:"说明：",placeholder:"请输入",minlength:"0",maxlength:"100",showLimit:!0,show:!0,rules:[{required:!0,message:"填写",trigger:"blur"}]},{type:"radio",name:"has_renshen_history",value:"",width:"100%",label:"既往有妊娠合并症：",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"textarea",name:"renshen_desc",cascaderItem:["has_renshen_history"],cascaderValue:!0,value:"",width:"100%",label:"说明：",placeholder:"请输入",minlength:"0",maxlength:"100",showLimit:!0,show:!0,rules:[{required:!0,message:"请选择检查是否有异常",trigger:"blur"}]},{show:!0,type:"slot",slotName:"updateInfo"}],data:{last_yuejing_at:"",yuchan_at:"",gestational_weeks:"",gestational_days:"",has_unusual_baby:"",unusual_baby_desc:"",has_renshen_history:"",renshen_desc:"",update_at:"",update_user:""}},crqForm:{item:[{type:"date",name:"fenmian_at",value:"",placeholder:"选择日期",width:"100%",label:"本次生产分娩日期：",show:!0,showBefore:!0,rules:[]},{type:"select",label:"分娩方式：",name:"fenmian_mode",value:"",width:"100%",show:!0,placeholder:"请选择分娩方式",options:[{label:"阴道分娩",value:"ydfm"},{label:"剖宫产",value:"pgc"}],rules:[{required:!0,message:"请填写分娩情况",trigger:"blur"}]},{type:"radio",name:"is_ceqie",cascaderItem:["fenmian_mode"],cascaderValue:"ydfm",value:"",width:"100%",label:"是否侧切：",show:!0,options:[{value:!0,label:"是"},{value:!1,label:"否"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{type:"radio",name:"feed_mode",value:"",width:"100%",label:"本次产后喂养方式：",show:!0,options:[{value:"muru",label:"母乳喂养"},{value:"rengong",label:"人工喂养"},{value:"mix",label:"混合喂养"}],rules:[{required:!0,message:"请选择",trigger:"blur"}]},{show:!0,type:"slot",slotName:"updateInfo"}],data:{fenmian_at:"",fenmian_mode:"",is_ceqie:"",feed_mode:"",update_at:"",update_user:""}}}},"92fc":function(e){e.exports={healthFileList:[{prop:"index",label:"序号",fixed:!1,widths:"50",sortable:!1,show:!0},{prop:"member",label:"患者",fixed:!1,widths:"190",type:"slot",sortable:!1,show:!0},{prop:"userInfo",label:"用户",width:"auto",fixed:!1,type:"slot",sortable:!1,show:!0},{prop:"userStage",label:"患者当前阶段",width:"auto",fixed:!1,type:"slot",sortable:!1,show:!0},{prop:"remark",label:"患者备注",width:"auto",fixed:!1,sortable:!1,slot:{header:!0,content:"接诊台患者资料处添加的备注",placement:"top"},show:!0},{prop:"userRemark",label:"用户备注",type:"slot",slot:{header:!0,content:"接诊台用户资料处添加的备注",placement:"top"},width:"auto",fixed:!1,sortable:!1,show:!0},{prop:"servicePackage",label:"当前服务套餐",type:"slot",widths:"170",fixed:!1,sortable:!1,show:!0},{prop:"serviceTime",label:"当前套餐服务时间",type:"slot",widths:"190",fixed:!1,sortable:!1,show:!0}]}},a7c9:function(e,t,a){"use strict";var s=a("408a"),r=a.n(s);r.a},aaff:function(e,t,a){"use strict";var s=a("0e08"),r=a.n(s);r.a},af7d:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var s=a("92fc"),r=a("8722");function o(e){return s[e]}function i(e,t){return r[e][t]}},d496:function(e,t,a){},e1de:function(e,t,a){"use strict";var s=a("f30a"),r=a.n(s);r.a},e405:function(e,t,a){"use strict";var s=a("8124"),r=a.n(s);r.a},eb95:function(e,t,a){"use strict";var s=a("63d9"),r=a.n(s);r.a},f30a:function(e,t,a){},f8b7:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"h",(function(){return i})),a.d(t,"k",(function(){return n})),a.d(t,"l",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return m})),a.d(t,"j",(function(){return h})),a.d(t,"g",(function(){return d})),a.d(t,"c",(function(){return f})),a.d(t,"m",(function(){return b})),a.d(t,"b",(function(){return p}));var s=a("b775");function r(e){return Object(s["a"])({url:"/fd/contract/".concat(e,"/active"),method:"put"})}function o(){return Object(s["a"])({url:"order/basic/options",method:"get"})}function i(){return Object(s["a"])({url:"/order/basic/order_name/options",method:"get"})}function n(){return Object(s["a"])({url:"/order/basic/order_status/options",method:"get"})}function l(){return Object(s["a"])({url:"/order/basic/order_type/options",method:"get"})}function u(e){return Object(s["a"])({url:"/order/check_export",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/order/".concat(e,"/detail"),method:"get"})}function m(e,t){return Object(s["a"])({url:"/order/".concat(e,"/close"),method:"put",data:t})}function h(){return Object(s["a"])({url:"/order/process_numbers",method:"get"})}function d(e){return Object(s["a"])({url:"/order/list",method:"post",data:e})}function f(e,t){return Object(s["a"])({url:"/order/".concat(e,"/refund"),method:"put",data:t})}function b(e){return Object(s["a"])({url:"/order/log",method:"get",params:e})}function p(e){return Object(s["a"])({url:"/order/log",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-6d887106.592b7fc4.js.map