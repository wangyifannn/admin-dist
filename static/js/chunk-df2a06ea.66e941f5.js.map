{"version":3,"sources":["webpack:///./src/views/consultation/detail.vue?90e3","webpack:///./src/views/consultation/components/reply-detail.vue?1604","webpack:///src/views/consultation/components/reply-detail.vue","webpack:///./src/views/consultation/components/reply-detail.vue?841f","webpack:///./src/views/consultation/components/reply-detail.vue","webpack:///./src/views/consultation/components/user.vue?75c9","webpack:///src/views/consultation/components/user.vue","webpack:///./src/views/consultation/components/user.vue?d60b","webpack:///./src/views/consultation/components/user.vue","webpack:///src/views/consultation/detail.vue","webpack:///./src/views/consultation/detail.vue?3185","webpack:///./src/views/consultation/detail.vue","webpack:///./src/views/consultation/components/result-list.vue?9705","webpack:///src/views/consultation/components/result-list.vue","webpack:///./src/views/consultation/components/result-list.vue?1461","webpack:///./src/views/consultation/components/result-list.vue","webpack:///./src/views/consultation/components/reply-detail.vue?0c6a","webpack:///./src/views/consultation/components/result-list.vue?bec8","webpack:///./src/utils/chat/index.js","webpack:///./src/api/consultation.js","webpack:///./src/api/upload.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./src/views/consultation/components/user.vue?a604","webpack:///./src/views/consultation/detail.vue?74a2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","_v","handleTabClick","model","value","callback","$$v","currentTab","expression","normalNum","slot","userList","normal","list","_l","item","index","key","selectedInfo","onSelect","askNum","reply","all","page","counts","e","onPageChange","detail","_m","$event","removeAnswer","_e","minRows","maxRows","setAnswerIndex","$set","addAnswer","staticStyle","preview","activeName","showAddFun","_s","OperatorTxt","directives","name","rawName","replyContent","addReplyFun","replyList","length","delReply","_id","updateReply","domProps","content","setAnswer","historiesList","onCollapseOpen","_f","Date","active_at","sectionOffice","section_office","doctor","singleAskStatus","status","historyItem","historyIndex","question","emptyShow","previewShow","answerList","images","repyLoading","replyQuestion","delReplyVisible","closeVisible","delConfirm","staticRenderFns","user","avatar","nickname","components","props","type","Object","default","data","mounted","methods","component","class","select","selected","questionId","click","ask_at","bus_status","includes","warning","getTime","hour","computed","startAt","setMinutes","setSeconds","setMilliseconds","endAt","setTime","setHours","getHours","startHour","startMinutes","startSeconds","startMilliseconds","endHour","endMinutes","endSeconds","endMilliseconds","milliseconds","seconds","minutes","$emit","userId","ReplyDetail","UploaderList","ResultList","User","showAddTextarea","showReplyContent","activeId","answerIndex","timer","canReply","userInfo","id","watch","handler","deep","newAskMessage","v","getQuestionDetail","getQuestionHistories","getAllUserQuestionList","getQuestionReplyList","changeMessage","immediate","singleAskSelect","val","getReplyList","info","$route","query","setInterval","beforeDestroy","clearInterval","ApiName","params","then","res","result","message","$message","code","$router","push","tab","resetAnswerList","$nextTick","storageAnswer","videos","emptyConent","isHistory","role","count","created_at","showData","label","html","msg_content","voice","msgTime","url","duration","admin","Boolean","created","getData","curStageTxt","booleanToTxt","measureToTxt","feedModeTxt","fenmianModeTxt","getChankeInfo","getEekeOrOldChankeData","department","basicInfo","datePickerOptions","shortcuts","text","onClick","picker","end","start","disabledDate","day","now","switchDotStyle","timePot","eventType","event","busRole","bus_role","bgColor","iconType","color","border","borderColor","ifHasServer","serveName","$store","state","chat","serviceItem","i","indexOf","_","curStage","time","format","show","is_schedule","measure_desc","period_start","period_end","duration_start","duration_end","measure","formatTime","started_at","bysc","is_checked","has_unusual_status","unusual_desc","last_yuejing_at","yuchan_at","gestational_weeks","gestational_days","has_unusual_baby","unusual_baby_desc","has_renshen_history","renshen_desc","fenmian_at","fenmian_mode","is_ceqie","feed_mode","getQuestion","request","method","getList","getDoctorList","changeDoctorStatus","creatReply","addReplyApi","delReplyApi","updateReplyApi","oss","getImageMeta","postObject","ossData","file","onProgress","FormData","append","OSSAccessKeyId","policy","Signature","headers","onUploadProgress","meta","videoMeta","size","Error","extname","filename","a","split","reverse","join","b","substring","search","upload","random","Math","floor","fileName","fileType","path","prefix","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"mappings":"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","file":"static/js/chunk-df2a06ea.66e941f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('div',{staticClass:\"header\"},[_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回工作台\")])],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content--left\"},[_c('el-tabs',{staticClass:\"tab\",attrs:{\"stretch\":\"\"},on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[_c('el-tab-pane',{attrs:{\"name\":\"normal\"}},[_c('el-badge',{staticClass:\"singleask-baged-item\",attrs:{\"slot\":\"label\",\"value\":_vm.normalNum ? _vm.normalNum : ''},slot:\"label\"},[_vm._v(\"\\n            待接诊\\n          \")]),(_vm.userList.normal.list.length)?_c('div',_vm._l((_vm.userList.normal.list),function(item,index){return _c('User',{key:index,attrs:{\"user\":item,\"selected\":_vm.selectedInfo},on:{\"on-select\":_vm.onSelect}})}),1):_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n            暂无数据\\n          \")])],1),_c('el-tab-pane',{attrs:{\"name\":\"reply\"}},[_c('el-badge',{staticClass:\"singleask-baged-item\",attrs:{\"slot\":\"label\",\"value\":_vm.askNum ? _vm.askNum : ''},slot:\"label\"},[_vm._v(\"\\n            追问待回复\\n          \")]),(_vm.userList.reply.list.length)?_c('div',_vm._l((_vm.userList.reply.list),function(item,index){return _c('User',{key:index,attrs:{\"user\":item,\"selected\":_vm.selectedInfo},on:{\"on-select\":_vm.onSelect}})}),1):_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n            暂无数据\\n          \")])],1),_c('el-tab-pane',{staticClass:\"box__all-user\",attrs:{\"label\":\"全部\",\"name\":\"all\"}},[_c('div',{staticClass:\"scroll-box\"},[(_vm.userList.all.list.length)?_c('div',_vm._l((_vm.userList.all.list),function(item,index){return _c('User',{key:index,attrs:{\"user\":item,\"selected\":_vm.selectedInfo},on:{\"on-select\":_vm.onSelect}})}),1):_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n              暂无数据\\n            \")])]),_c('div',{staticClass:\"page-box\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.userList.all.page.counts,\"page-size\":15},on:{\"current-change\":function (e) { return _vm.onPageChange(e, 'user'); }}})],1)])],1)],1),_c('div',{staticClass:\"content--main\"},[(_vm.detail.question)?_c('div',[_c('ReplyDetail',{attrs:{\"detail\":_vm.detail}}),(_vm.canReply)?_c('div',{staticClass:\"answer-list\"},[_vm._m(0),_c('p',{staticClass:\"tip-content\"},[_vm._v(\"\\n            温馨提示：请您使用简单易懂的文字给出专业的诊断结果，如果能够使用更具亲和的语言，会使患者更加能够感受到您的关怀！\\n          \")]),_vm._l((_vm.answerList),function(item,index){return _c('div',{key:index,staticClass:\"answer\"},[(index >= 1)?_c('i',{staticClass:\"el-icon-close close_question_icon\",on:{\"click\":function($event){return _vm.removeAnswer(index)}}}):_vm._e(),_c('el-input',{staticClass:\"input\",attrs:{\"type\":\"textarea\",\"show-word-limit\":\"\",\"maxlength\":\"2000\",\"autosize\":{ minRows: 4, maxRows: 7 }},on:{\"focus\":function($event){return _vm.setAnswerIndex(index)}},model:{value:(item.content),callback:function ($$v) {_vm.$set(item, \"content\", $$v)},expression:\"item.content\"}}),_c('UploaderList',{attrs:{\"max\":9},model:{value:(item.images),callback:function ($$v) {_vm.$set(item, \"images\", $$v)},expression:\"item.images\"}})],1)}),_c('el-tooltip',{attrs:{\"content\":\"添加新的回复段落\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-circle-plus btn--icon\",on:{\"click\":_vm.addAnswer}})]),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{on:{\"click\":_vm.preview}},[_vm._v(\"预览\")])],1)],2):_vm._e()],1):_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n        暂无数据\\n      \")])]),_c('div',{staticClass:\"content--right\"},[_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"快捷回复\",\"name\":\"fastreply\"}},[_c('div',{staticClass:\"reply-box\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.showAddFun}},[_vm._v(_vm._s(_vm.OperatorTxt))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAddTextarea),expression:\"showAddTextarea\"}],staticClass:\"clearfix\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"aria-placeholder\":\"\",\"maxlength\":\"2000\",\"rows\":\"3\",\"show-word-limit\":\"\"},model:{value:(_vm.replyContent),callback:function ($$v) {_vm.replyContent=$$v},expression:\"replyContent\"}}),_c('el-button',{staticClass:\"float-right margin-top-10\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addReplyFun}},[_vm._v(\"保存\")])],1),(_vm.replyList.length > 0)?_c('div',{staticClass:\"reply-list-box\"},_vm._l((_vm.replyList),function(item,index){return _c('div',{key:index},[(true)?_c('div',{staticClass:\"reply-list clearfix\"},[_c('p',{staticClass:\"clearfix\"},[_c('el-button',{staticClass:\"float-right\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.delReply(item._id)}}},[_vm._v(\"删除\")]),_c('el-button',{staticClass:\"float-right margin-right-10\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.updateReply(item)}}},[_vm._v(\"修改\")])],1),_c('div',{staticClass:\"cursor-pointer text-wrap\",domProps:{\"innerHTML\":_vm._s(item.content)},on:{\"click\":function($event){return _vm.setAnswer(item.content)}}})]):_vm._e()])}),0):_vm._e()],1)]),_c('el-tab-pane',{attrs:{\"label\":\"问诊历史\",\"name\":\"history\"}},[_c('div',{staticClass:\"scroll-box-history\"},[(_vm.historiesList.list.length)?_c('el-collapse',{attrs:{\"accordion\":\"\"},on:{\"change\":_vm.onCollapseOpen}},_vm._l((_vm.historiesList.list),function(item,index){return _c('el-collapse-item',{key:index,attrs:{\"name\":item._id}},[_c('div',{staticClass:\"sollapse__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                    首次提问日期：\"+_vm._s(_vm._f(\"formatTime\")(new Date(item.active_at),'{y}-{m}-{d}'))+\"\\n                  \")]),_c('div',[_vm._v(\"\\n                    接诊科室：\"+_vm._s(_vm.sectionOffice(item.section_office, '', true))+\"\\n                  \")]),_c('div',[_vm._v(\"接诊人：\"+_vm._s(item.doctor ? item.doctor.name : ''))]),_c('div',[_vm._v(\"问诊状态：\"+_vm._s(_vm.singleAskStatus(item.status)))])]),(_vm.historiesList.detail[item._id])?_c('div',{staticClass:\"sollapse__content\"},[_vm._l((_vm.historiesList\n                      .detail[item._id].list),function(historyItem,historyIndex){return [_c('ResultList',{key:historyIndex,attrs:{\"result\":historyItem,\"question\":_vm.historiesList.detail[item._id].question,\"is-history\":\"\"}})]})],2):_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('i',{staticClass:\"el-icon-loading\",staticStyle:{\"fontSize\":\"30px\"}})])])}),1):_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n              暂无数据\\n            \")])],1)])],1),(_vm.activeName === 'history')?_c('div',{staticClass:\"align-center\"},[(_vm.historiesList.page.counts > 0)?_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.historiesList.page.counts,\"page-size\":15},on:{\"current-change\":function (e) { return _vm.onPageChange(e, 'history'); }}}):_vm._e()],1):_vm._e()],1)]),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.emptyShow,\"width\":\"30%\",\"center\":\"\"},on:{\"close\":function () { return (_vm.emptyShow = false); }}},[_vm._v(\"\\n    未检测到您输入的诊断内容，请输入后进行预览\\n    \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.emptyShow = false}}},[_vm._v(\"确 定\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"回复预览\",\"visible\":_vm.previewShow,\"width\":\"600px\",\"center\":\"\"},on:{\"close\":function () { return (_vm.previewShow = false); }}},[_c('p',{staticStyle:{\"line-height\":\"1.5\"}},[_vm._v(\"\\n      您一共编辑了\\n      \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.answerList.length))]),_vm._v(\"\\n      段内容，当您单击确认回复操作成功后，用户会一次性收到这些回复，避免用户在等待的过程中焦虑或产生疑问。\\n    \")]),_c('div',{staticClass:\"preview-box\"},_vm._l((_vm.answerList),function(item,index){return _c('div',{key:index,staticClass:\"box\"},[_c('div',{staticClass:\"text-wrap\",domProps:{\"innerHTML\":_vm._s(item.content)}}),(item.images.length)?_c('UploaderList',{attrs:{\"disabled\":\"\"},model:{value:(item.images),callback:function ($$v) {_vm.$set(item, \"images\", $$v)},expression:\"item.images\"}}):_vm._e()],1)}),0),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":_vm.repyLoading},on:{\"click\":function($event){_vm.previewShow = false}}},[_vm._v(\"返回修改\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.repyLoading},on:{\"click\":_vm.replyQuestion}},[_vm._v(\"确认回复\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.delReplyVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"close\":_vm.closeVisible}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_vm._v(\"\\n      确定要删除此条快捷回复吗？\\n    \")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.delConfirm}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"tip-title\"},[_c('span',{staticStyle:{\"color\":\"#F8747F\"}},[_vm._v(\"*\")]),_vm._v(\"诊断结果\\n          \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"user\"},[_c('el-avatar',{attrs:{\"src\":_vm.detail.question.user.avatar}}),_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.detail.question.user.nickname))]),_c('p',{staticClass:\"status\"},[_vm._v(\"\\n      \"+_vm._s(_vm.singleAskStatus(_vm.detail.question.status, ''))+\"\\n    \")])],1),_c('div',{staticClass:\"detail\"},[_vm._l((_vm.detail.list),function(item,index){return [_c('ResultList',{key:index,attrs:{\"result\":item,\"question\":_vm.detail.question}})]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <div class=\"user\">\r\n      <el-avatar :src=\"detail.question.user.avatar\" />\r\n      <p class=\"nickname\">{{ detail.question.user.nickname }}</p>\r\n      <p class=\"status\">\r\n        {{ singleAskStatus(detail.question.status, '') }}\r\n      </p>\r\n    </div>\r\n    <div class=\"detail\">\r\n      <template v-for=\"(item, index) in detail.list\">\r\n        <ResultList :key=\"index\" :result=\"item\" :question=\"detail.question\" />\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ResultList from './result-list'\r\nimport { singleAskStatus } from '@/utils/dictionary'\r\nexport default {\r\n  components: { ResultList },\r\n  props: {\r\n    detail: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    singleAskStatus\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n  background: #f6f7fb;\r\n}\r\n\r\n.user {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  height: 70px;\r\n  background: #fff;\r\n\r\n  .nickname {\r\n    margin: 0 20px;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #17233d;\r\n  }\r\n\r\n  .status {\r\n    padding: 0 6px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    color: #f8747f;\r\n    background: rgba(248, 116, 127, 0.1);\r\n    border: 1px solid #f8747f;\r\n    border-radius: 4px;\r\n  }\r\n}\r\n\r\n.detail {\r\n  padding: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reply-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reply-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reply-detail.vue?vue&type=template&id=4ec587f4&scoped=true&\"\nimport script from \"./reply-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./reply-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reply-detail.vue?vue&type=style&index=0&id=4ec587f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ec587f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user__info cursor-pointer\",class:{ select: _vm.selected.questionId === (_vm.user ? _vm.user._id : '') },on:{\"click\":_vm.click}},[(_vm.user.user)?_c('div',{staticClass:\"user\"},[_c('el-avatar',{attrs:{\"src\":_vm.user.user.avatar}}),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.user.user.nickname))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(new Date(_vm.user.ask_at))))])])],1):_c('div',[_vm._v(\"\\n    空\\n  \")]),(_vm.user.bus_status.includes('ask'))?_c('div',{staticClass:\"wait-time\",class:{ warning: _vm.getTime.hour > 4 }},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\"\\n    \"+_vm._s(((_vm.getTime.hour) + \":\" + (_vm.getTime.minutes)))+\"\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"user__info cursor-pointer\"\r\n    :class=\"{ select: selected.questionId === (user ? user._id : '') }\"\r\n    @click=\"click\"\r\n  >\r\n    <div v-if=\"user.user\" class=\"user\">\r\n      <el-avatar :src=\"user.user.avatar\" />\r\n      <div class=\"info\">\r\n        <p class=\"nickname\">{{ user.user.nickname }}</p>\r\n        <p class=\"time\">{{ new Date(user.ask_at) | formatTime }}</p>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      空\r\n    </div>\r\n    <div\r\n      v-if=\"user.bus_status.includes('ask')\"\r\n      class=\"wait-time\"\r\n      :class=\"{ warning: getTime.hour > 4 }\"\r\n    >\r\n      <i class=\"el-icon-time\" />\r\n      {{ `${getTime.hour}:${getTime.minutes}` }}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    selected: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    getTime() {\r\n      const startAt = new Date(this.user.ask_at)\r\n      startAt.setMinutes(0)\r\n      startAt.setSeconds(0)\r\n      startAt.setMilliseconds(0)\r\n      const endAt = new Date()\r\n      endAt.setMinutes(0)\r\n      endAt.setSeconds(0)\r\n      endAt.setMilliseconds(0)\r\n      let hour = 0\r\n      // eslint-disable-next-line no-unmodified-loop-condition\r\n      while (startAt < endAt) {\r\n        const startHour = startAt.getHours()\r\n        if (startHour > 8 && startHour <= 23) {\r\n          hour += 1\r\n        }\r\n        startAt.setTime(startAt.setHours(startAt.getHours() + 1))\r\n      }\r\n      const startTime = new Date(this.user.ask_at)\r\n      const endTime = new Date()\r\n      const startHour = startTime.getHours()\r\n      const endHour = endTime.getHours()\r\n      let startMinutes = startTime.getMinutes()\r\n      let startSeconds = startTime.getSeconds()\r\n      let startMilliseconds = startTime.getMilliseconds()\r\n      if (startHour <= 7) {\r\n        startMinutes = 0\r\n        startSeconds = 0\r\n        startMilliseconds = 0\r\n      }\r\n      let endMinutes = endTime.getMinutes()\r\n      let endSeconds = endTime.getSeconds()\r\n      let endMilliseconds = endTime.getMilliseconds()\r\n      if (endHour <= 7 && endHour > 0) {\r\n        endMinutes = 0\r\n        endSeconds = 0\r\n        endMilliseconds = 0\r\n      } else if (endHour === 0) {\r\n        endMinutes = 59\r\n        endSeconds = 59\r\n        endMilliseconds = 0\r\n      }\r\n      let minutes = endMinutes - startMinutes\r\n      let seconds = endSeconds - startSeconds\r\n      let milliseconds = endMilliseconds - startMilliseconds\r\n      if (milliseconds < 0) {\r\n        seconds = seconds - 1\r\n        milliseconds = 1000 + milliseconds\r\n      }\r\n      if (seconds < 0) {\r\n        minutes = minutes - 1\r\n        seconds = 60 + seconds\r\n      }\r\n      if (minutes < 0) {\r\n        hour = hour - 1\r\n        minutes = 60 + minutes\r\n      }\r\n      return { hour, minutes, seconds, milliseconds }\r\n    }\r\n  },\r\n  methods: {\r\n    click() {\r\n      this.$emit('on-select', {\r\n        userId: this.user.user._id || '',\r\n        questionId: this.user._id || ''\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.user__info {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  height: 68px;\r\n\r\n  & + & {\r\n    border-top: 1px solid #f4f4f4;\r\n  }\r\n\r\n  .user {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .info {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin-left: 10px;\r\n    height: 40px;\r\n    flex-direction: column;\r\n\r\n    .nickname {\r\n      font-size: 14px;\r\n      color: #17233d;\r\n    }\r\n\r\n    .time {\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n}\r\n\r\n.select {\r\n  background: #f6f7fb;\r\n}\r\n\r\n.wait-time {\r\n  padding: 2px 4px;\r\n  color: #2d8cf0;\r\n  background: rgba(0, 133, 255, 0.1);\r\n  border-radius: 8px;\r\n}\r\n\r\n.warning {\r\n  color: #fff;\r\n  background: #ed3645;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=66c46c0e&scoped=true&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user.vue?vue&type=style&index=0&id=66c46c0e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66c46c0e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"layout\">\r\n    <div class=\"header\">\r\n      <el-button class=\"button\" type=\"text\" size=\"medium\" @click=\"goBack\"\r\n        >返回工作台</el-button\r\n      >\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"content--left\">\r\n        <el-tabs\r\n          v-model=\"currentTab\"\r\n          class=\"tab\"\r\n          stretch\r\n          @tab-click=\"handleTabClick\"\r\n        >\r\n          <el-tab-pane name=\"normal\">\r\n            <el-badge\r\n              slot=\"label\"\r\n              :value=\"normalNum ? normalNum : ''\"\r\n              class=\"singleask-baged-item\"\r\n            >\r\n              待接诊\r\n            </el-badge>\r\n            <div v-if=\"userList.normal.list.length\">\r\n              <User\r\n                v-for=\"(item, index) in userList.normal.list\"\r\n                :key=\"index\"\r\n                :user=\"item\"\r\n                :selected=\"selectedInfo\"\r\n                @on-select=\"onSelect\"\r\n              />\r\n            </div>\r\n            <div v-else class=\"tip\">\r\n              暂无数据\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"reply\">\r\n            <el-badge\r\n              slot=\"label\"\r\n              :value=\"askNum ? askNum : ''\"\r\n              class=\"singleask-baged-item\"\r\n            >\r\n              追问待回复\r\n            </el-badge>\r\n            <div v-if=\"userList.reply.list.length\">\r\n              <User\r\n                v-for=\"(item, index) in userList.reply.list\"\r\n                :key=\"index\"\r\n                :user=\"item\"\r\n                :selected=\"selectedInfo\"\r\n                @on-select=\"onSelect\"\r\n              />\r\n            </div>\r\n            <div v-else class=\"tip\">\r\n              暂无数据\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"全部\" name=\"all\" class=\"box__all-user\">\r\n            <div class=\"scroll-box\">\r\n              <div v-if=\"userList.all.list.length\">\r\n                <User\r\n                  v-for=\"(item, index) in userList.all.list\"\r\n                  :key=\"index\"\r\n                  :user=\"item\"\r\n                  :selected=\"selectedInfo\"\r\n                  @on-select=\"onSelect\"\r\n                />\r\n              </div>\r\n              <div v-else class=\"tip\">\r\n                暂无数据\r\n              </div>\r\n            </div>\r\n            <div class=\"page-box\">\r\n              <el-pagination\r\n                layout=\"prev, pager, next\"\r\n                :total=\"userList.all.page.counts\"\r\n                :page-size=\"15\"\r\n                @current-change=\"e => onPageChange(e, 'user')\"\r\n              />\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n      <div class=\"content--main\">\r\n        <div v-if=\"detail.question\">\r\n          <ReplyDetail :detail=\"detail\" />\r\n          <div v-if=\"canReply\" class=\"answer-list\">\r\n            <p class=\"tip-title\">\r\n              <span style=\"color: #F8747F;\">*</span>诊断结果\r\n            </p>\r\n            <p class=\"tip-content\">\r\n              温馨提示：请您使用简单易懂的文字给出专业的诊断结果，如果能够使用更具亲和的语言，会使患者更加能够感受到您的关怀！\r\n            </p>\r\n            <div\r\n              v-for=\"(item, index) in answerList\"\r\n              :key=\"index\"\r\n              class=\"answer\"\r\n            >\r\n              <i\r\n                v-if=\"index >= 1\"\r\n                class=\"el-icon-close close_question_icon\"\r\n                @click=\"removeAnswer(index)\"\r\n              />\r\n              <el-input\r\n                v-model=\"item.content\"\r\n                type=\"textarea\"\r\n                show-word-limit\r\n                maxlength=\"2000\"\r\n                :autosize=\"{ minRows: 4, maxRows: 7 }\"\r\n                class=\"input\"\r\n                @focus=\"setAnswerIndex(index)\"\r\n              />\r\n              <UploaderList v-model=\"item.images\" :max=\"9\" />\r\n            </div>\r\n            <el-tooltip content=\"添加新的回复段落\" placement=\"top\">\r\n              <i class=\"el-icon-circle-plus btn--icon\" @click=\"addAnswer\" />\r\n            </el-tooltip>\r\n            <div style=\"text-align: center;\">\r\n              <el-button @click=\"preview\">预览</el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"tip\">\r\n          暂无数据\r\n        </div>\r\n      </div>\r\n      <div class=\"content--right\">\r\n        <el-tabs v-model=\"activeName\">\r\n          <el-tab-pane label=\"快捷回复\" name=\"fastreply\">\r\n            <div class=\"reply-box\">\r\n              <el-button type=\"text\" @click=\"showAddFun\">{{\r\n                OperatorTxt\r\n              }}</el-button>\r\n              <div v-show=\"showAddTextarea\" class=\"clearfix\">\r\n                <el-input\r\n                  v-model=\"replyContent\"\r\n                  type=\"textarea\"\r\n                  aria-placeholder=\"\"\r\n                  maxlength=\"2000\"\r\n                  rows=\"3\"\r\n                  show-word-limit\r\n                />\r\n                <el-button\r\n                  type=\"primary\"\r\n                  class=\"float-right margin-top-10\"\r\n                  size=\"mini\"\r\n                  @click=\"addReplyFun\"\r\n                  >保存</el-button\r\n                >\r\n              </div>\r\n              <div v-if=\"replyList.length > 0\" class=\"reply-list-box\">\r\n                <div v-for=\"(item, index) in replyList\" :key=\"index\">\r\n                  <div v-if=\"true\" class=\"reply-list clearfix\">\r\n                    <p class=\"clearfix\">\r\n                      <el-button\r\n                        class=\"float-right\"\r\n                        type=\"text\"\r\n                        @click=\"delReply(item._id)\"\r\n                        >删除</el-button\r\n                      >\r\n                      <el-button\r\n                        class=\"float-right margin-right-10\"\r\n                        type=\"text\"\r\n                        @click=\"updateReply(item)\"\r\n                        >修改</el-button\r\n                      >\r\n                    </p>\r\n                    <div\r\n                      class=\"cursor-pointer text-wrap\"\r\n                      @click=\"setAnswer(item.content)\"\r\n                      v-html=\"item.content\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"问诊历史\" name=\"history\">\r\n            <div class=\"scroll-box-history\">\r\n              <el-collapse\r\n                v-if=\"historiesList.list.length\"\r\n                accordion\r\n                @change=\"onCollapseOpen\"\r\n              >\r\n                <el-collapse-item\r\n                  v-for=\"(item, index) in historiesList.list\"\r\n                  :key=\"index\"\r\n                  :name=\"item._id\"\r\n                >\r\n                  <div slot=\"title\" class=\"sollapse__title\">\r\n                    <div class=\"title\">\r\n                      首次提问日期：{{\r\n                        new Date(item.active_at) | formatTime('{y}-{m}-{d}')\r\n                      }}\r\n                    </div>\r\n                    <div>\r\n                      接诊科室：{{\r\n                        sectionOffice(item.section_office, '', true)\r\n                      }}\r\n                    </div>\r\n                    <div>接诊人：{{ item.doctor ? item.doctor.name : '' }}</div>\r\n                    <div>问诊状态：{{ singleAskStatus(item.status) }}</div>\r\n                  </div>\r\n                  <div\r\n                    v-if=\"historiesList.detail[item._id]\"\r\n                    class=\"sollapse__content\"\r\n                  >\r\n                    <template\r\n                      v-for=\"(historyItem, historyIndex) in historiesList\r\n                        .detail[item._id].list\"\r\n                    >\r\n                      <ResultList\r\n                        :key=\"historyIndex\"\r\n                        :result=\"historyItem\"\r\n                        :question=\"historiesList.detail[item._id].question\"\r\n                        is-history\r\n                      />\r\n                    </template>\r\n                  </div>\r\n                  <div v-else style=\"text-align: center\">\r\n                    <i class=\"el-icon-loading\" style=\"fontSize: 30px\" />\r\n                  </div>\r\n                </el-collapse-item>\r\n              </el-collapse>\r\n              <div v-else class=\"tip\">\r\n                暂无数据\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n        <div v-if=\"activeName === 'history'\" class=\"align-center\">\r\n          <el-pagination\r\n            v-if=\"historiesList.page.counts > 0\"\r\n            layout=\"prev, pager, next\"\r\n            :total=\"historiesList.page.counts\"\r\n            :page-size=\"15\"\r\n            @current-change=\"e => onPageChange(e, 'history')\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-dialog\r\n      title=\"提示\"\r\n      :visible=\"emptyShow\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"() => (emptyShow = false)\"\r\n    >\r\n      未检测到您输入的诊断内容，请输入后进行预览\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"emptyShow = false\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"回复预览\"\r\n      :visible=\"previewShow\"\r\n      width=\"600px\"\r\n      center\r\n      @close=\"() => (previewShow = false)\"\r\n    >\r\n      <p style=\"line-height: 1.5\">\r\n        您一共编辑了\r\n        <span style=\"color: red\">{{ answerList.length }}</span>\r\n        段内容，当您单击确认回复操作成功后，用户会一次性收到这些回复，避免用户在等待的过程中焦虑或产生疑问。\r\n      </p>\r\n      <div class=\"preview-box\">\r\n        <div v-for=\"(item, index) in answerList\" :key=\"index\" class=\"box\">\r\n          <div class=\"text-wrap\" v-html=\"item.content\" />\r\n          <UploaderList\r\n            v-if=\"item.images.length\"\r\n            v-model=\"item.images\"\r\n            disabled\r\n          />\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button :disabled=\"repyLoading\" @click=\"previewShow = false\"\r\n          >返回修改</el-button\r\n        >\r\n        <el-button type=\"primary\" :loading=\"repyLoading\" @click=\"replyQuestion\"\r\n          >确认回复</el-button\r\n        >\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"提示\"\r\n      :visible=\"delReplyVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"closeVisible\"\r\n    >\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        确定要删除此条快捷回复吗？\r\n      </el-row>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"delConfirm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ReplyDetail from './components/reply-detail'\r\nimport _ from 'lodash'\r\nimport UploaderList from '@/components/UploaderList'\r\nimport ResultList from './components/result-list'\r\nimport User from './components/user'\r\nimport { singleAskStatus, sectionOffice } from '@/utils/dictionary'\r\n\r\nimport {\r\n  getQuestionReplyList,\r\n  getAllUserQuestionList,\r\n  getQuestionHistories,\r\n  getQuestionDetail,\r\n  creatReply,\r\n  getReplyList,\r\n  addReplyApi,\r\n  delReplyApi,\r\n  updateReplyApi\r\n} from '@/api/consultation'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { localSave, localRead } from '@/utils'\r\nexport default {\r\n  components: {\r\n    ReplyDetail,\r\n    UploaderList,\r\n    ResultList,\r\n    User\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: 'fastreply',\r\n      showAddTextarea: false,\r\n      OperatorTxt: '添加',\r\n      showReplyContent: false,\r\n      delReplyVisible: false,\r\n      replyContent: '',\r\n      activeId: '',\r\n      normalNum: 0, // 待接诊总数\r\n      askNum: 0, // 追问待回复总数\r\n      replyList: [], // 快速回复列表数据\r\n      answerIndex: 0,\r\n      emptyShow: false,\r\n      previewShow: false,\r\n      repyLoading: false,\r\n      currentTab: 'normal',\r\n      detail: {},\r\n      timer: null,\r\n      selectedInfo: {},\r\n      answerList: [\r\n        {\r\n          content: '',\r\n          images: [],\r\n          videos: []\r\n        }\r\n      ],\r\n      userList: {\r\n        normal: {\r\n          list: []\r\n        },\r\n        reply: {\r\n          list: []\r\n        },\r\n        all: {\r\n          list: [],\r\n          page: {}\r\n        }\r\n      },\r\n      historiesList: {\r\n        list: [],\r\n        detail: {},\r\n        page: {}\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo', 'newAskMessage', 'singleAskSelect']),\r\n    canReply() {\r\n      // if (this.detail.question.status === 'normal') {\r\n      //   return true\r\n      // }\r\n      if (this.detail.question.doctor !== this.userInfo.id) {\r\n        return false\r\n      }\r\n      if (\r\n        this.detail.question.bus_status === 'close' &&\r\n        this.detail.question.status.includes('ask')\r\n      ) {\r\n        return true\r\n      }\r\n      if (!this.detail.question.bus_status.includes('ask')) {\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n  },\r\n  watch: {\r\n    answerList: {\r\n      handler: function(val) {\r\n        // 缓存数据\r\n        localSave(this.selectedInfo.questionId, JSON.stringify(val))\r\n      },\r\n      deep: true\r\n    },\r\n    newAskMessage: {\r\n      handler(v) {\r\n        if (v && this.selectedInfo.questionId) {\r\n          this.getQuestionDetail(this.selectedInfo.questionId)\r\n          this.getQuestionHistories()\r\n          if (this.currentTab === 'all') {\r\n            this.getAllUserQuestionList()\r\n          } else {\r\n            this.getQuestionReplyList()\r\n          }\r\n          this.changeMessage(false)\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    singleAskSelect(val) {\r\n      if (val) {\r\n        this.currentTab = val.status // normal reply all\r\n        if (this.currentTab === 'all') {\r\n          this.getAllUserQuestionList()\r\n        } else {\r\n          this.getQuestionReplyList()\r\n        }\r\n        this.selectedInfo = val\r\n        if (this.selectedInfo.userId && this.selectedInfo.questionId) {\r\n          this.getQuestionHistories()\r\n          this.getQuestionDetail(this.selectedInfo.questionId)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getReplyList()\r\n    const { type, info } = this.$route.query\r\n    this.currentTab = type || 'normal'\r\n    this.selectedInfo = info || {}\r\n    if (this.$route.query.questionId) {\r\n      this.selectedInfo.questionId = this.$route.query.questionId\r\n    }\r\n    if (this.$route.query.userId) {\r\n      this.selectedInfo.userId = this.$route.query.userId\r\n    }\r\n    this.getAllUserQuestionList()\r\n    this.getQuestionReplyList()\r\n    if (this.selectedInfo.userId && this.selectedInfo.questionId) {\r\n      this.getQuestionHistories()\r\n      this.getQuestionDetail(this.selectedInfo.questionId)\r\n    }\r\n    if (!this.timer) {\r\n      this.timer = setInterval(() => {\r\n        this.getQuestionReplyList()\r\n      }, 10000)\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    if (this.timer) {\r\n      clearInterval(this.timer)\r\n    }\r\n  },\r\n  methods: {\r\n    sectionOffice,\r\n    singleAskStatus,\r\n    removeAnswer(answerIndex) {\r\n      this.answerList = _.remove(this.answerList, function(n, index) {\r\n        return !(index === answerIndex)\r\n      })\r\n    },\r\n    closeVisible() {\r\n      this.delReplyVisible = false\r\n      this.activeId = ''\r\n    },\r\n    setAnswerIndex(index) {\r\n      this.answerIndex = index\r\n    },\r\n    setAnswer(content) {\r\n      // 设置诊断结果textarea内容\r\n      this.answerList[this.answerIndex].content += content\r\n    },\r\n    showAddFun() {\r\n      this.showAddTextarea = !this.showAddTextarea\r\n    },\r\n    addReplyFun() {\r\n      const ApiName = this.activeId ? updateReplyApi : addReplyApi\r\n      const params = {\r\n        id: this.activeId,\r\n        content: this.replyContent\r\n      }\r\n      const operatorName = this.activeId ? '修改' : '添加'\r\n      if (!this.replyContent) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '内容不能为空'\r\n        })\r\n        return\r\n      }\r\n      ApiName(params).then(res => {\r\n        if (res && res.data.result) {\r\n          this.OperatorTxt = '添加'\r\n          this.activeId = ''\r\n          this.replyContent = ''\r\n          this.showAddTextarea = false\r\n          this.$message({\r\n            type: res.data.result ? 'success' : 'error',\r\n            message: res.data.result\r\n              ? operatorName + '成功'\r\n              : operatorName + '失败'\r\n          })\r\n          this.getReplyList()\r\n        }\r\n      })\r\n      // 添加快捷回复\r\n    },\r\n    updateReply(item) {\r\n      this.showAddFun()\r\n      this.showAddTextarea = true\r\n      this.OperatorTxt = '修改'\r\n      this.replyContent = item.content\r\n      this.activeId = item._id\r\n    },\r\n    delReply(id) {\r\n      this.delReplyVisible = true\r\n      this.activeId = id\r\n    },\r\n    getReplyList() {\r\n      getReplyList().then(res => {\r\n        if (res && res.code === 20000) {\r\n          this.replyList = res.data\r\n        } else {\r\n          this.replyList = []\r\n        }\r\n      })\r\n    },\r\n    delConfirm() {\r\n      // 删除快捷回复\r\n      delReplyApi(this.activeId).then(res => {\r\n        if (res) {\r\n          this.activeId = ''\r\n          this.getReplyList()\r\n          this.delReplyVisible = false\r\n          this.$message({\r\n            type: res.data.result ? 'success' : 'error',\r\n            message: res.data.result ? '删除成功' : '删除失败'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    ...mapActions({\r\n      changeMessage: 'ask/changeMessage'\r\n    }),\r\n    goBack() {\r\n      this.$router.push({ name: 'ConsultationList' })\r\n    },\r\n    handleTabClick(tab) {\r\n      if (tab.name === 'all') {\r\n        this.getAllUserQuestionList()\r\n      } else {\r\n        this.getQuestionReplyList()\r\n      }\r\n    },\r\n    onCollapseOpen(name) {\r\n      if (!name) return\r\n      this.getQuestionDetail(name, 'history')\r\n    },\r\n    onPageChange(page, type) {\r\n      if (type === 'user') {\r\n        this.getAllUserQuestionList(page, false)\r\n      } else {\r\n        this.getQuestionHistories(page, false)\r\n      }\r\n    },\r\n    resetAnswerList() {\r\n      this.answerList = [\r\n        {\r\n          content: '',\r\n          images: [],\r\n          videos: []\r\n        }\r\n      ]\r\n    },\r\n    onSelect(e) {\r\n      this.selectedInfo = e\r\n      this.getQuestionDetail(e.questionId)\r\n      this.getQuestionHistories()\r\n      // 加载页面时，读取浏览器缓存到回答列表\r\n      this.$nextTick(() => {\r\n        const storageAnswer = localRead(this.selectedInfo.questionId)\r\n        if (storageAnswer) {\r\n          this.answerList = JSON.parse(storageAnswer)\r\n        } else {\r\n          this.resetAnswerList()\r\n        }\r\n      })\r\n    },\r\n    addAnswer() {\r\n      this.answerList.push({\r\n        content: '',\r\n        images: [],\r\n        videos: []\r\n      })\r\n    },\r\n    preview() {\r\n      const emptyConent = this.answerList.findIndex(i => !i.content)\r\n      if (emptyConent !== -1) {\r\n        this.emptyShow = true\r\n      } else {\r\n        this.previewShow = true\r\n      }\r\n    },\r\n    async getQuestionReplyList() {\r\n      const {\r\n        data: { askNum },\r\n        data: { normalNum },\r\n        data: { list }\r\n      } = await getQuestionReplyList()\r\n      const userList = {\r\n        normal: {\r\n          list: []\r\n        },\r\n        reply: {\r\n          list: []\r\n        }\r\n      }\r\n      list.forEach(i => {\r\n        if (i.status === 'normal') {\r\n          userList.normal.list.push(i)\r\n        } else {\r\n          userList.reply.list.push(i)\r\n        }\r\n      })\r\n      this.askNum = askNum\r\n      this.normalNum = normalNum\r\n      this.userList = Object.assign(this.userList, userList)\r\n      if (!this.selectedInfo.userId && this.userList.normal.list[0]) {\r\n        this.selectedInfo.userId = this.userList.normal.list[0].user._id\r\n        this.selectedInfo.questionId = this.userList.normal.list[0]._id\r\n        // 读取浏览器缓存数据\r\n        if (localRead(this.selectedInfo.questionId)) {\r\n          this.answerList = JSON.parse(localRead(this.selectedInfo.questionId))\r\n        }\r\n        this.getQuestionHistories()\r\n        this.getQuestionDetail(this.selectedInfo.questionId)\r\n      }\r\n    },\r\n    async getAllUserQuestionList(curpage = 1, refresh = true) {\r\n      const {\r\n        data: { askNum },\r\n        data: { normalNum },\r\n        data: {\r\n          list: { list, ...page }\r\n        }\r\n      } = await getAllUserQuestionList({\r\n        page: refresh ? 1 : curpage\r\n      })\r\n      this.userList.all = { list, page }\r\n      this.askNum = askNum\r\n      this.normalNum = normalNum\r\n    },\r\n    async getQuestionHistories(curpage = 1, refresh = true) {\r\n      const {\r\n        data: { list, ...page }\r\n      } = await getQuestionHistories({\r\n        user: this.selectedInfo.userId,\r\n        page: refresh ? 1 : curpage\r\n      })\r\n      if (refresh) {\r\n        this.historiesList = {\r\n          list,\r\n          page,\r\n          detail: {}\r\n        }\r\n      } else {\r\n        this.historiesList.list = list\r\n        this.historiesList.page = page\r\n      }\r\n    },\r\n    async getQuestionDetail(questionId, type) {\r\n      if (type === 'history' && this.historiesList.detail[questionId]) return\r\n      const { data } = await getQuestionDetail(questionId)\r\n      data.list.forEach(item => {\r\n        if (item.role === 'user') {\r\n          item.msg_content.images = item.msg_content.images.concat(\r\n            item.msg_content.videos || []\r\n          )\r\n        } else {\r\n          if (item.msg_content.length) {\r\n            item.msg_content.forEach(i => {\r\n              i.images = i.images.concat(i.videos || [])\r\n            })\r\n          }\r\n        }\r\n      })\r\n      if (type === 'history') {\r\n        this.$nextTick(() => {\r\n          const list = this.historiesList.detail\r\n          this.historiesList.detail = {}\r\n          list[questionId] = data\r\n          this.historiesList.detail = list\r\n        })\r\n      } else {\r\n        this.detail = data\r\n      }\r\n    },\r\n    async replyQuestion() {\r\n      // 点击确认回复清空浏览器缓存\r\n      localStorage.removeItem(this.selectedInfo.questionId)\r\n      this.repyLoading = true\r\n      try {\r\n        await creatReply({\r\n          msg_content: this.answerList,\r\n          question: this.selectedInfo.questionId\r\n        })\r\n        this.getQuestionDetail(this.selectedInfo.questionId)\r\n        this.getQuestionHistories()\r\n        if (this.currentTab === 'all') {\r\n          this.getAllUserQuestionList()\r\n        } else {\r\n          this.getQuestionReplyList()\r\n        }\r\n        this.answerList = [\r\n          {\r\n            content: '',\r\n            images: [],\r\n            videos: []\r\n          }\r\n        ]\r\n      } catch (error) {\r\n        console.log(error)\r\n      } finally {\r\n        this.repyLoading = false\r\n        this.previewShow = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.close_question_icon {\r\n  position: absolute;\r\n  top: -10px;\r\n  right: 0;\r\n  padding: 2px;\r\n  color: #fff;\r\n  background: #f8747f;\r\n  border-radius: 50%;\r\n  z-index: 1000;\r\n  cursor: pointer;\r\n}\r\n.layout {\r\n  min-height: 100%;\r\n  background: #f6f7fb;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  height: 50px;\r\n  background: #fcfbfd;\r\n  margin-bottom: 2px;\r\n\r\n  .button {\r\n    margin-right: 80px;\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.content {\r\n  display: flex;\r\n  height: calc(100vh - 52px);\r\n\r\n  &--left {\r\n    flex: 0 0 328px;\r\n    background: #fff;\r\n    .box__all-user {\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: calc(100vh - 102px);\r\n    }\r\n  }\r\n  &--main {\r\n    overflow: auto;\r\n    margin: 0 2px;\r\n    height: 100%;\r\n    flex: 1;\r\n  }\r\n  &--right {\r\n    display: flex;\r\n    padding: 0 14px;\r\n    height: calc(100vh - 52px);\r\n    background: #fff;\r\n    flex: 0 0 448px;\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n.answer-list {\r\n  padding: 20px;\r\n  .tip-title {\r\n    font-size: 20px;\r\n    margin-bottom: 14px;\r\n  }\r\n\r\n  .tip-content {\r\n    font-size: 14px;\r\n    color: #f8747f;\r\n    margin-bottom: 14px;\r\n  }\r\n\r\n  .btn--icon {\r\n    margin-top: 20px;\r\n    font-size: 36px;\r\n  }\r\n\r\n  .answer + .answer {\r\n    position: relative;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .input {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n\r\n.history--title {\r\n  padding: 20px;\r\n  font-size: 14px;\r\n  color: #0085ff;\r\n  background: #fff;\r\n}\r\n\r\n.sollapse__title {\r\n  line-height: 1.5;\r\n  font-size: 14px;\r\n\r\n  .title {\r\n    padding-left: 6px;\r\n    border-left: 4px solid #0085ff;\r\n  }\r\n}\r\n\r\n.sollapse__content {\r\n  padding: 20px;\r\n}\r\n\r\n.page-box {\r\n  padding: 6px 10px;\r\n  text-align: center;\r\n}\r\n\r\n.scroll-box {\r\n  overflow-y: scroll;\r\n  height: 200px;\r\n  flex: auto;\r\n}\r\n.scroll-box-history {\r\n  overflow-y: auto;\r\n  height: calc(100vh - 156px);\r\n  flex: auto;\r\n}\r\n\r\n.tip {\r\n  margin-top: 100px;\r\n  text-align: center;\r\n}\r\n\r\n/deep/.el-collapse-item__header {\r\n  padding: 20px;\r\n  height: auto;\r\n}\r\n.reply-box {\r\n  margin: 0 auto;\r\n  width: 98%;\r\n}\r\n.reply-list {\r\n  padding: 0 14px 40px;\r\n  width: 100%;\r\n  height: auto;\r\n  // text-align: center;\r\n  background: #fcfbfd;\r\n  vertical-align: middle;\r\n  margin-bottom: 15px;\r\n}\r\n.reply-list-box {\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n  height: calc(100vh - 156px);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=4bbcea5a&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=4bbcea5a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bbcea5a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'layout--history': _vm.isHistory }},[(_vm.result.role === 'user')?_c('div',{staticClass:\"user\"},[(!_vm.isHistory)?_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"text\"},[_vm._v(\"\\n        \"+_vm._s(((_vm.result.count === 1\n              ? '首次提'\n              : _vm.result.count === 2\n              ? '第1次追'\n              : '第2次追') + \"问\"))+\"\\n      \")]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(new Date(_vm.result.created_at))))])]):_c('div',[_c('p',{staticClass:\"title--history\"},[_c('el-divider',{attrs:{\"content-position\":\"center\"}},[_vm._v(_vm._s(((_vm.result.count === 1\n              ? '首次提'\n              : _vm.result.count === 2\n              ? '第1次追'\n              : '第2次追') + \"问\")))])],1),_c('div',{staticClass:\"userinfo\"},[_c('el-avatar',{attrs:{\"src\":_vm.question.user.avatar}}),_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.question.user.nickname))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.result.created_at)))])],1)]),_c('div',{staticClass:\"content\"},[(_vm.showData.length && !_vm.isHistory)?_c('div',_vm._l((_vm.showData),function(item,index){return _c('div',{key:index},[(item.show)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\",class:_vm.type},[_vm._v(_vm._s(item.label))]),(item.value)?_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(item.value))]):_vm._e(),(item.html)?_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(item.html)}}):_vm._e()]):_vm._e()])}),0):_vm._e(),_c('div',{staticClass:\"row\"},[(_vm.isHistory)?_c('div',{staticClass:\"value\"},_vm._l((_vm.showData),function(item,index){return _c('span',{key:index},[(item.show)?_c('span',[_c('span',[_vm._v(_vm._s(item.label))]),(item.value)?_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.value))]):_vm._e(),(item.html)?_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(item.html)}}):_vm._e()]):_vm._e()])}),0):_vm._e()]),(_vm.result.count !== 1)?_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(_vm.result.msg_content.content)}}):_vm._e(),(_vm.result.msg_content.voice)?_c('div',{staticClass:\"row margin-top-10\"},[_c('my-audio',{attrs:{\"msgtime\":_vm.result.msg_content.voice.msgTime\n              ? _vm.result.msg_content.voice.msgTime\n              : '1',\"src\":_vm.result.msg_content.voice.url,\"vduration\":_vm.result.msg_content.voice.duration}})],1):_vm._e(),_c('div',{staticClass:\"row\"},[(_vm.result.msg_content.images.length)?_c('UploaderList',{staticClass:\"uploader\",attrs:{\"disabled\":\"\"},model:{value:(_vm.result.msg_content.images),callback:function ($$v) {_vm.$set(_vm.result.msg_content, \"images\", $$v)},expression:\"result.msg_content.images\"}}):_vm._e()],1)])]):_vm._e(),(_vm.result.role === 'admin')?_c('div',{staticClass:\"admin\"},[(_vm.result.admin.name)?_c('div',{staticClass:\"title\"},[_c('el-avatar',{attrs:{\"src\":_vm.result.admin.avatar}}),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.result.admin.name))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(new Date(_vm.result.created_at))))])],1):_vm._e(),_vm._l((_vm.result.msg_content),function(item,index){return _c('div',{key:index,staticClass:\"content\"},[_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(item.content)}}),(item.images.length)?_c('UploaderList',{staticClass:\"uploader\",attrs:{\"disabled\":\"\"},model:{value:(item.images),callback:function ($$v) {_vm.$set(item, \"images\", $$v)},expression:\"item.images\"}}):_vm._e()],1)})],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"{ 'layout--history': isHistory }\">\r\n    <div v-if=\"result.role === 'user'\" class=\"user\">\r\n      <div v-if=\"!isHistory\" class=\"title\">\r\n        <p class=\"text\">\r\n          {{\r\n            `${\r\n              result.count === 1\r\n                ? '首次提'\r\n                : result.count === 2\r\n                ? '第1次追'\r\n                : '第2次追'\r\n            }问`\r\n          }}\r\n        </p>\r\n        <p class=\"time\">{{ new Date(result.created_at) | formatTime }}</p>\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"title--history\">\r\n          <el-divider content-position=\"center\">{{\r\n            `${\r\n              result.count === 1\r\n                ? '首次提'\r\n                : result.count === 2\r\n                ? '第1次追'\r\n                : '第2次追'\r\n            }问`\r\n          }}</el-divider>\r\n        </p>\r\n        <div class=\"userinfo\">\r\n          <el-avatar :src=\"question.user.avatar\" />\r\n          <p class=\"nickname\">{{ question.user.nickname }}</p>\r\n          <p class=\"time\">{{ result.created_at | formatTime }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div v-if=\"showData.length && !isHistory\">\r\n          <div v-for=\"(item, index) in showData\" :key=\"index\">\r\n            <div v-if=\"item.show\" class=\"row\">\r\n              <div class=\"label\" :class=\"type\">{{ item.label }}</div>\r\n              <div v-if=\"item.value\" class=\"value\">{{ item.value }}</div>\r\n              <div v-if=\"item.html\" class=\"content--text\" v-html=\"item.html\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"value\" v-if=\"isHistory\">\r\n            <span v-for=\"(item, index) in showData\" :key=\"index\">\r\n              <span v-if=\"item.show\">\r\n                <span>{{ item.label }}</span>\r\n                <span v-if=\"item.value\" class=\"value\">{{ item.value }}</span>\r\n                <div\r\n                  v-if=\"item.html\"\r\n                  class=\"content--text\"\r\n                  v-html=\"item.html\"\r\n                />\r\n              </span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-if=\"result.count !== 1\"\r\n          class=\"content--text\"\r\n          v-html=\"result.msg_content.content\"\r\n        />\r\n        <div v-if=\"result.msg_content.voice\" class=\"row margin-top-10\">\r\n          <!-- 语音消息 -->\r\n          <my-audio\r\n            :msgtime=\"\r\n              result.msg_content.voice.msgTime\r\n                ? result.msg_content.voice.msgTime\r\n                : '1'\r\n            \"\r\n            :src=\"result.msg_content.voice.url\"\r\n            :vduration=\"result.msg_content.voice.duration\"\r\n          />\r\n        </div>\r\n        <div class=\"row\">\r\n          <UploaderList\r\n            v-if=\"result.msg_content.images.length\"\r\n            v-model=\"result.msg_content.images\"\r\n            class=\"uploader\"\r\n            disabled\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"result.role === 'admin'\" class=\"admin\">\r\n      <div v-if=\"result.admin.name\" class=\"title\">\r\n        <el-avatar :src=\"result.admin.avatar\" />\r\n        <p class=\"name\">{{ result.admin.name }}</p>\r\n        <p class=\"time\">{{ new Date(result.created_at) | formatTime }}</p>\r\n      </div>\r\n      <div\r\n        v-for=\"(item, index) in result.msg_content\"\r\n        :key=\"index\"\r\n        class=\"content\"\r\n      >\r\n        <div class=\"content--text\" v-html=\"item.content\" />\r\n        <UploaderList\r\n          v-if=\"item.images.length\"\r\n          v-model=\"item.images\"\r\n          class=\"uploader\"\r\n          disabled\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UploaderList from '@/components/UploaderList'\r\nimport {\r\n  curStageTxt,\r\n  booleanToTxt,\r\n  measureToTxt,\r\n  feedModeTxt,\r\n  fenmianModeTxt\r\n} from '@/filters'\r\nimport { getChankeInfo } from '@/utils/chat'\r\nexport default {\r\n  components: {\r\n    UploaderList\r\n  },\r\n  data() {\r\n    return {\r\n      type: '',\r\n      showData: []\r\n    }\r\n  },\r\n  props: {\r\n    result: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    question: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    isHistory: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created() {\r\n    this.getData(this.result, this.isHistory, this.question)\r\n  },\r\n  watch: {\r\n    question: {\r\n      handler: function() {\r\n        this.getData(this.result, this.isHistory, this.question)\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    curStageTxt,\r\n    booleanToTxt,\r\n    measureToTxt,\r\n    feedModeTxt,\r\n    fenmianModeTxt,\r\n    getChankeInfo,\r\n    getEekeOrOldChankeData(department, basicInfo, isHistory, result) {\r\n      this.showData = [\r\n        {\r\n          show: department === 'pediatric' ? true : false,\r\n          label: '患者性别：',\r\n          value: basicInfo.gender === 1 ? '男' : '女'\r\n        },\r\n        {\r\n          show: true,\r\n          label:\r\n            department === 'pediatric' ? '患者出生日期：' : '上次月经日期：',\r\n          value: this.formatTime(basicInfo.birth_day, '{y}-{m}-{d}')\r\n        },\r\n        {\r\n          show: department === 'pediatric',\r\n          label: '患者年龄：',\r\n          value: basicInfo.age\r\n        },\r\n        {\r\n          show: true,\r\n          label: department === 'pediatric' ? '症状持续时长：' : '孕周：',\r\n          value:\r\n            department === 'pediatric'\r\n              ? basicInfo.symptom < 90\r\n                ? `${basicInfo.symptom}天`\r\n                : `超过${basicInfo.symptom}天`\r\n              : `${Math.floor(basicInfo.symptom / 7)}周 ${basicInfo.symptom %\r\n                  7}天`\r\n        },\r\n        {\r\n          show: true,\r\n          label: !isHistory ? '症状描述：' : '',\r\n          value: '',\r\n          html: result.msg_content.content\r\n        }\r\n      ]\r\n    },\r\n    getData(result, isHistory, question) {\r\n      const count = result.count\r\n      const department = question.section_office\r\n      const basicInfo = question.ask_basic_info\r\n        ? question.ask_basic_info\r\n        : question\r\n      if (count === 1) {\r\n        if (\r\n          department === 'pediatric' ||\r\n          (department === 'obstetrics' && basicInfo.is_old)\r\n        ) {\r\n          this.type = 'erke'\r\n          this.getEekeOrOldChankeData(department, basicInfo, isHistory, result)\r\n        } else if (department === 'obstetrics') {\r\n          this.type = 'chanke'\r\n          const curStage = basicInfo.cur_stage\r\n          this.showData = this.getChankeInfo(\r\n            curStage,\r\n            basicInfo,\r\n            isHistory,\r\n            result\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.user {\r\n  margin-bottom: 30px;\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-left: 6px;\r\n    margin-bottom: 20px;\r\n    border-left: 6px solid #0085ff;\r\n    font-size: 16px;\r\n    color: #0085ff;\r\n\r\n    .text {\r\n      margin-right: 20px;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .time {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    padding: 20px;\r\n    line-height: 1.5;\r\n    font-size: 14px;\r\n    background: #fff;\r\n    border: 1px solid #e8eaec;\r\n    border-radius: 4px;\r\n    .row {\r\n      display: flex;\r\n      .label.chanke {\r\n        flex: 0 0 168px;\r\n      }\r\n      .label.erke {\r\n        flex: 0 0 100px;\r\n      }\r\n      .value {\r\n        flex: 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.admin {\r\n  margin-bottom: 30px;\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    margin-bottom: 14px;\r\n\r\n    .name {\r\n      margin: 0 14px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    padding: 20px;\r\n    background: #e2f2ff;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .content + .content {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n\r\n.userinfo {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 70px;\r\n  background: #fff;\r\n\r\n  .nickname {\r\n    margin: 0 20px;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #17233d;\r\n  }\r\n\r\n  .status {\r\n    padding: 0 6px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    color: #f8747f;\r\n    background: rgba(248, 116, 127, 0.1);\r\n    border: 1px solid #f8747f;\r\n    border-radius: 4px;\r\n  }\r\n}\r\n\r\n.title--history {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  color: #0085ff;\r\n}\r\n\r\n.content--text {\r\n  line-height: 1.5;\r\n  word-break: break-all;\r\n  white-space: pre-line;\r\n  word-wrap: break-word;\r\n}\r\n.uploader {\r\n  padding-top: 5px;\r\n}\r\n\r\n/deep/.el-divider {\r\n  background: #0085ff;\r\n\r\n  .el-divider__text {\r\n    color: #0085ff;\r\n  }\r\n}\r\n\r\n/deep/.el-avatar {\r\n  img {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./result-list.vue?vue&type=template&id=42247cc4&scoped=true&\"\nimport script from \"./result-list.vue?vue&type=script&lang=js&\"\nexport * from \"./result-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./result-list.vue?vue&type=style&index=0&id=42247cc4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42247cc4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reply-detail.vue?vue&type=style&index=0&id=4ec587f4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reply-detail.vue?vue&type=style&index=0&id=4ec587f4&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=style&index=0&id=42247cc4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=style&index=0&id=42247cc4&lang=scss&scoped=true&\"","import _ from 'lodash'\r\nimport $store from '../../store/index'\r\nimport {\r\n  curStageTxt,\r\n  booleanToTxt,\r\n  feedModeTxt,\r\n  fenmianModeTxt\r\n} from '@/filters'\r\nexport function datePickerOptions() {\r\n  return {\r\n    shortcuts: [\r\n      {\r\n        text: '最近一周',\r\n        onClick(picker) {\r\n          const end = new Date()\r\n          const start = new Date()\r\n          start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n          picker.$emit('pick', [start, end])\r\n        }\r\n      },\r\n      {\r\n        text: '最近一个月',\r\n        onClick(picker) {\r\n          const end = new Date()\r\n          const start = new Date()\r\n          start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n          picker.$emit('pick', [start, end])\r\n        }\r\n      },\r\n      {\r\n        text: '最近三个月',\r\n        onClick(picker) {\r\n          const end = new Date()\r\n          const start = new Date()\r\n          start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\r\n          picker.$emit('pick', [start, end])\r\n        }\r\n      }\r\n    ],\r\n    // 不能将日期范围选在今天之后\r\n    disabledDate(day) {\r\n      const now = new Date().getTime()\r\n      return day > now\r\n    }\r\n  }\r\n}\r\n\r\nexport function switchDotStyle(timePot) {\r\n  const eventType = timePot.event\r\n  const busRole = timePot.bus_role\r\n  switch (timePot.type) {\r\n    case 'over_time_send_suggestion':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-fsdz',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'round_append':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-round_append',\r\n        color: '#67CA39',\r\n        border: '1px solid #67CA39'\r\n      }\r\n    case 'admin_end':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-admin_end',\r\n        color: '#ED3645',\r\n        border: '1px solid #ED3645'\r\n      }\r\n    case 'text_answer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconhushi',\r\n        color: '#FF8181',\r\n        border: '1px solid #FF8181'\r\n      }\r\n    case 'system':\r\n      if (eventType === 'error') {\r\n        return {\r\n          bgColor: '#ED3645',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #ED3645'\r\n        }\r\n      } else if (eventType === 'warning') {\r\n        return {\r\n          bgColor: '#FFB718',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else if (eventType === 'end') {\r\n        return {\r\n          bgColor: '#979797',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #979797'\r\n        }\r\n      } else if (eventType === 'transfer_auto_accept') {\r\n        return {\r\n          bgColor: '#67CA39',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'system-info':\r\n      if (eventType === 'error') {\r\n        return {\r\n          bgColor: '#ED3645',\r\n          iconType: 'icon-setting-fill',\r\n          borderColor: '#FFFFFF'\r\n        }\r\n      } else if (eventType === 'warning') {\r\n        return {\r\n          bgColor: '#FFB718',\r\n          iconType: 'icon-setting-fill',\r\n          borderColor: '#FFFFFF'\r\n        }\r\n      } else if (eventType === 'end') {\r\n        return {\r\n          bgColor: '#979797',\r\n          iconType: 'icon-setting-fill',\r\n          borderColor: '#FFFFFF'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'user_ask':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-signal-fill',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'round_apply_transfer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-signal-fill',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'user_end':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'el-icon-user-solid',\r\n        color: '#979797',\r\n        border: '1px solid #979797'\r\n      }\r\n    // 医生 同意转诊（同意、拒绝、电话接待）\r\n    // 电话转诊\r\n    case 'voice_transfer_answer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-yisheng',\r\n        color: '#67CA39',\r\n        border: '1px solid #67CA39'\r\n      }\r\n    case 'text_transfer_answer':\r\n      if (busRole === 'doctor') {\r\n        return {\r\n          bgColor: '#FFFFFF',\r\n          iconType: 'icon-yisheng',\r\n          color: '#67CA39',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else if (busRole === 'dietician') {\r\n        return {\r\n          bgColor: '#fff',\r\n          iconType: 'icon-yingyangshi1',\r\n          color: '#FFB718',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'transfer_apply':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconhushi',\r\n        color: '#FF8181',\r\n        border: '1px solid #FF8181'\r\n      }\r\n    case 'transfer_start':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconhushi',\r\n        color: '#FF8181',\r\n        border: '1px solid #FF8181'\r\n      }\r\n    case 'transfer_accept':\r\n      if (busRole === 'doctor') {\r\n        return {\r\n          bgColor: '#FFFFFF',\r\n          iconType: 'icon-yisheng',\r\n          color: '#67CA39',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else if (busRole === 'dietician') {\r\n        return {\r\n          bgColor: '#fff',\r\n          iconType: 'icon-yingyangshi1',\r\n          color: '#FFB718',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'transfer_reject':\r\n      if (busRole === 'doctor') {\r\n        return {\r\n          bgColor: '#FFFFFF',\r\n          iconType: 'icon-yisheng',\r\n          color: '#67CA39',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else if (busRole === 'dietician') {\r\n        return {\r\n          bgColor: '#fff',\r\n          iconType: 'icon-yingyangshi1',\r\n          color: '#FFB718',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'voice_transfer_end': // 电话转诊结束\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-yisheng',\r\n        color: '#999',\r\n        border: '1px solid #999'\r\n      }\r\n    case 'user_transfer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-signal-fill',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'iconicon-ysdaiban':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconicon-ysdaiban',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    default:\r\n      return {}\r\n  }\r\n}\r\n// 判断套餐是否包含该服务\r\nexport function ifHasServer(serveName) {\r\n  if (!$store.state.chat.serviceItem) {\r\n    return\r\n  }\r\n  const serviceItem = $store.state.chat.serviceItem\r\n  // console.log('套餐包含的服务=', serviceItem)\r\n  if (serveName === 'transfer' && serviceItem.length) {\r\n    let index = false\r\n    for (let i = 0; i < serviceItem.length; i++) {\r\n      if (serviceItem[i].indexOf(serveName) !== -1) {\r\n        index = true\r\n        return index\r\n      }\r\n    }\r\n    return index\r\n  } else {\r\n    let index = _.indexOf(serviceItem, serveName)\r\n    index = index !== -1\r\n    return index\r\n  }\r\n}\r\n// 获取产科信息\r\nexport function getChankeInfo(curStage, basicInfo, isHistory, result, time) {\r\n  let format = 'y-m-d'\r\n  let data = [\r\n    {\r\n      show: true,\r\n      label: '当前阶段：',\r\n      value: curStageTxt(curStage)\r\n    },\r\n    {\r\n      show: true,\r\n      label: '月经史（月经是否规律）：',\r\n      value: booleanToTxt(basicInfo.is_schedule)\r\n    },\r\n    {\r\n      show: !basicInfo.is_schedule && basicInfo.measure_desc,\r\n      label: '',\r\n      html: '<span class=\"color-999\">' + basicInfo.measure_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: basicInfo.is_schedule,\r\n      label: '月经周期：',\r\n      value:\r\n        basicInfo && basicInfo.period_start\r\n          ? basicInfo.period_start + '天 至 ' + basicInfo.period_end + '天'\r\n          : '-'\r\n    },\r\n    {\r\n      show: basicInfo.is_schedule,\r\n      label: '每次持续：',\r\n      value:\r\n        basicInfo && basicInfo.duration_start\r\n          ? basicInfo.duration_start + '天 至 ' + basicInfo.duration_end + '天'\r\n          : '-'\r\n    },\r\n    {\r\n      show: basicInfo.is_schedule,\r\n      label: '月经量：',\r\n      value:\r\n        basicInfo && basicInfo.measure\r\n          ? this.measureToTxt(basicInfo.measure)\r\n          : '-'\r\n    },\r\n    {\r\n      show: curStage === 'byz',\r\n      label: '备孕开始日期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.started_at, format)\r\n        : basicInfo.started_at\r\n    },\r\n    {\r\n      show: curStage === 'byz',\r\n      label: '备孕时长：',\r\n      value: basicInfo.bysc\r\n    },\r\n    {\r\n      show: curStage === 'byz',\r\n      label: '是否做过孕前检查：',\r\n      value: booleanToTxt(basicInfo.is_checked)\r\n    },\r\n    {\r\n      show: curStage === 'byz' && basicInfo.is_checked,\r\n      label: '检查是否有异常：',\r\n      value: booleanToTxt(basicInfo.has_unusual_status)\r\n    },\r\n    {\r\n      show:\r\n        curStage === 'byz' &&\r\n        basicInfo.is_checked &&\r\n        basicInfo.has_unusual_status,\r\n      label: '',\r\n      html: '<span class=\"color-999\">' + basicInfo.unusual_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '末次月经日期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.last_yuejing_at, format)\r\n        : basicInfo.last_yuejing_at\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '预产期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.yuchan_at, format)\r\n        : basicInfo.yuchan_at\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '孕周：',\r\n      value: basicInfo.gestational_weeks\r\n        ? basicInfo.gestational_weeks + '周' + basicInfo.gestational_days + '天'\r\n        : ''\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '是否孕育过有缺陷的宝宝：',\r\n      value: booleanToTxt(basicInfo.has_unusual_baby)\r\n    },\r\n    {\r\n      show: curStage === 'hyz' && basicInfo.has_unusual_baby,\r\n      label: '',\r\n      html:\r\n        '<span class=\"color-999\">' + basicInfo.unusual_baby_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '既往妊娠综合症：',\r\n      value: booleanToTxt(basicInfo.has_renshen_history, 'has')\r\n    },\r\n    {\r\n      show: curStage === 'hyz' && basicInfo.has_renshen_history,\r\n      label: '',\r\n      html: '<span class=\"color-999\">' + basicInfo.renshen_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: curStage === 'crq',\r\n      label: '分娩日期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.fenmian_at, format)\r\n        : basicInfo.fenmian_at\r\n    },\r\n    {\r\n      show: curStage === 'crq',\r\n      label: '分娩方式：',\r\n      value: fenmianModeTxt(basicInfo.fenmian_mode)\r\n    },\r\n    {\r\n      show: curStage === 'crq' && basicInfo.fenmian_mode === 'ydfm',\r\n      label: '是否侧切：',\r\n      value: booleanToTxt(basicInfo.is_ceqie)\r\n    },\r\n    {\r\n      show: curStage === 'crq',\r\n      label: '本次产后喂养方式：',\r\n      value: feedModeTxt(basicInfo.feed_mode)\r\n    },\r\n    {\r\n      show: result ? true : false,\r\n      label: !isHistory ? '症状描述：' : '',\r\n      value: '',\r\n      html: result ? result.msg_content.content : ''\r\n    }\r\n  ]\r\n  return data\r\n}\r\n","import request from '@/utils/request'\r\n// 单次问诊相关接口\r\n// 获取待接诊信息\r\nexport function getQuestion(params) {\r\n  return request({\r\n    url: `/admin/question/handler`,\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function getList(params) {\r\n  return request({\r\n    url: '/admin/question/users',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function getDoctorList() {\r\n  return request({\r\n    url: '/admin/question/list/doctors',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getQuestionReplyList() {\r\n  return request({\r\n    url: '/admin/question/reply',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getAllUserQuestionList(params) {\r\n  return request({\r\n    url: '/admin/question/list/users',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function getQuestionDetail(params) {\r\n  return request({\r\n    url: `/admin/question/detail/${params}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getQuestionHistories(params) {\r\n  return request({\r\n    url: '/admin/question/histories',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function changeDoctorStatus() {\r\n  return request({\r\n    url: '/admin/question/line',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function creatReply(params) {\r\n  return request({\r\n    url: '/admin/question/reply',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n// 获取快捷回复列表\r\nexport function getReplyList() {\r\n  return request({\r\n    url: '/question_fast_reply/list',\r\n    method: 'get'\r\n  })\r\n}\r\n// 新增快捷回复\r\nexport function addReplyApi(params) {\r\n  return request({\r\n    url: '/question_fast_reply',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n\r\n// 快捷回复删除\r\nexport function delReplyApi(id) {\r\n  return request({\r\n    url: `/question_fast_reply/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 修改快捷回复\r\nexport function updateReplyApi(params) {\r\n  return request({\r\n    url: `/question_fast_reply/${params.id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\nexport const oss = () => {\r\n  return request({\r\n    url: '/oss/auth',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const getImageMeta = url => {\r\n  return request({\r\n    url: url + '?x-oss-process=image/info',\r\n    method: 'get'\r\n  })\r\n}\r\nexport const postObject = async ({ oss: ossData, key, file, onProgress }) => {\r\n  const data = new FormData()\r\n  data.append('OSSAccessKeyId', ossData.OSSAccessKeyId)\r\n  data.append('success_action_status', 200)\r\n  data.append('policy', ossData.policy)\r\n  data.append('Signature', ossData.Signature)\r\n  data.append('key', key)\r\n  data.append('file', file)\r\n  let url = 'https://pic1.baobaohehu.com/'\r\n  await request({\r\n    url,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    onUploadProgress: onProgress || null,\r\n    data\r\n  })\r\n  url = url + key\r\n  let meta\r\n  if (file.type.indexOf('image') > -1) {\r\n    meta = await getImageMeta(url)\r\n  } else if (file.type.indexOf('video') > -1) {\r\n    meta = {\r\n      ...file.videoMeta,\r\n      size: file.size\r\n    }\r\n  } else if (file.type.indexOf('audio') > -1) {\r\n    meta = {\r\n      size: file.size,\r\n      type: file.type\r\n    }\r\n  } else {\r\n    throw new Error(\r\n      '当前上传的类型不是image或者video；当前上传的类型是' + file.type\r\n    )\r\n  }\r\n  return {\r\n    url,\r\n    meta: meta\r\n  }\r\n}\r\n// 获取文件后缀名\r\nexport const extname = filename => {\r\n  if (!filename || typeof filename !== 'string') {\r\n    return false\r\n  }\r\n  const a = filename\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  const b = a\r\n    .substring(0, a.search(/\\./))\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  return b\r\n}\r\n/**\r\n * 封装下oss获取跟上传\r\n * @param file\r\n * @param onProgress\r\n * @returns {Promise.<*>}\r\n */\r\nexport const upload = async (file, onProgress) => {\r\n  const { data } = await oss()\r\n  const random = Math.floor(Math.random() * (100 - 1)) + 1\r\n  let fileName = new Date().getTime()\r\n  const fileType = extname(file.name)\r\n  fileName = fileName + random + '.' + fileType\r\n  const key = `${data.path}/${data.prefix}/${fileName}`\r\n  const res = await postObject({ oss: data, key, file, onProgress })\r\n  return res\r\n}\r\n","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&id=66c46c0e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&id=66c46c0e&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=4bbcea5a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=4bbcea5a&lang=scss&scoped=true&\""],"sourceRoot":""}