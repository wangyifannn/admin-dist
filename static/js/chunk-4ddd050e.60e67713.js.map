{"version":3,"sources":["webpack:///./src/views/learning-admin/course-admin/SeriesDetail.vue?e10d","webpack:///./src/views/learning-admin/course-admin/SeriesDetail.vue?1b0b","webpack:///src/views/learning-admin/course-admin/SeriesDetail.vue","webpack:///./src/views/learning-admin/course-admin/SeriesDetail.vue?5953","webpack:///./src/views/learning-admin/course-admin/SeriesDetail.vue","webpack:///./src/utils/learningMethod.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","seriesDetail","mtsCatalog","cover","_v","_s","title","getTypeStr","type","total_chapter","summary","course","model","value","callback","$$v","$set","expression","_l","item","key","label","on","onSubmit","lesson_column","slot","selectCourse","addSingle","_e","list","hasListInfo","scopedSlots","_u","fn","scope","row","image","$event","delShow","rowInfo","$router","push","lesson_status","currentPage","pageSize","count","handleSizeChange","handleCurrentChange","confirm","addCourseShow","checkList","index","_id","confirmCourse","staticRenderFns","data","typeList","name","singleList","singleName","computed","getType","getTime","time","str","split","getStatus","status","indexOf","created","getSeriesList","methods","id","$route","params","page","val","querySearch","cb","results","handleSelect","createFilter","component","getDateInfo","date","y","getFullYear","m","getMonth","d","getDate","h","getHours","min","getMinutes","s","getSeconds","start","end","Date","days","Math","floor","leave1","hours","leave2","minutes","ceil","getNowFormatDate","seperator1","seperator2","month","strDate","currentdate"],"mappings":"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","file":"static/js/chunk-4ddd050e.60e67713.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeriesDetail.vue?vue&type=style&index=0&id=29155464&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeriesDetail.vue?vue&type=style&index=0&id=29155464&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"series-detail\"},[_c('section',{staticClass:\"head-detail clearfix\"},[_c('div',{staticClass:\"image\",staticStyle:{\"min-width\":\"360px\"}},[_c('img',{attrs:{\"src\":_vm.seriesDetail.mtsCatalog.cover,\"alt\":\"封面\"}})]),_c('div',{staticClass:\"info\"},[_c('h4',{staticClass:\"info-title\"},[_vm._v(_vm._s(_vm.seriesDetail.mtsCatalog.title))]),_c('p',{staticClass:\"sign\"},[_vm._v(\"\\n        课程类型：\"+_vm._s(_vm.getTypeStr(_vm.seriesDetail.mtsCatalog.type) || '未知')+\"\\n      \")]),_c('p',{staticClass:\"sign\"},[_vm._v(\"\\n        课程节数：\"+_vm._s(_vm.seriesDetail.mtsCatalog.total_chapter)+\"节\\n      \")]),_c('p',{staticClass:\"sign flex-wrap clearfix\"},[_c('span',{staticStyle:{\"min-width\":\"70px\"}},[_vm._v(\"课程介绍：\")]),_c('span',[_vm._v(_vm._s(_vm.seriesDetail.mtsCatalog.summary))])])])]),_c('div',{staticClass:\"list-detail\"},[_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.course,\"inline\":\"\"}},[_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"上传状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.course.type),callback:function ($$v) {_vm.$set(_vm.course, \"type\", $$v)},expression:\"course.type\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"单节课名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单节课名称\"},model:{value:(_vm.course.name),callback:function ($$v) {_vm.$set(_vm.course, \"name\", $$v)},expression:\"course.name\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"select-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),(\n          _vm.seriesDetail.mtsCatalog &&\n            _vm.seriesDetail.mtsCatalog.lesson_column !== 'catalog'\n        )?_c('div',{staticClass:\"add-course\"},[_c('el-dropdown',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"\\n            添加单节课\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{staticStyle:{\"width\":\"117px\",\"text-align\":\"center\"},attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.selectCourse}},[_vm._v(\"选择已有\")])]),_c('el-dropdown-item',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.addSingle}},[_vm._v(\"重新添加\")])])],1)],1)],1):_vm._e()],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"empty-text\":_vm.hasListInfo}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"num\",\"label\":\"序号\",\"min-width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"min-width\":\"130\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"单节课名称\",\"min-width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"image\",\"label\":\"单节课封面\",\"min-width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-avatar',{attrs:{\"size\":30,\"src\":scope.row.image}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"courseType\",\"label\":\"单节课类型\",\"min-width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"uploadStatus\",\"label\":\"上传状态\",\"min-width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"creteTime\",\"label\":\"创建时间\",\"min-width\":\"120\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.delShow = true\n              _vm.rowInfo = scope.row}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push(\n                (\"/learning-admin/course/single-edit/\" + (scope.row.id))\n              )}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.lesson_status === 'no_uploaded' ? '去上传' : '编辑')+\"\\n          \")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[12, 18, 24],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"删除提示\",\"visible\":_vm.delShow,\"width\":\"30%\",\"center\":\"\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.delShow=$event}}},[_c('div',{staticClass:\"center\"},[_c('p',[_vm._v(\"删除后，该课程下所有信息将不再保留，\")]),_c('p',[_vm._v(\"请确定是否删除？\")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.delShow = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)]),_c('el-dialog',{staticClass:\"set-status\",attrs:{\"title\":\"选择单节课\",\"visible\":_vm.addCourseShow,\"width\":\"30%\",\"center\":\"\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.addCourseShow=$event}}},[_c('div',{staticClass:\"course-wrap\"},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},_vm._l((_vm.singleList),function(item,index){return _c('el-option',{key:index,staticClass:\"inline-input del-input\",attrs:{\"label\":item.title,\"value\":item._id}})}),1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCourseShow = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmCourse}},[_vm._v(\"确 定\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"series-detail\">\r\n    <section class=\"head-detail clearfix\">\r\n      <div class=\"image\" style=\"min-width: 360px;\">\r\n        <img :src=\"seriesDetail.mtsCatalog.cover\" alt=\"封面\" />\r\n      </div>\r\n      <div class=\"info\">\r\n        <h4 class=\"info-title\">{{ seriesDetail.mtsCatalog.title }}</h4>\r\n        <p class=\"sign\">\r\n          课程类型：{{ getTypeStr(seriesDetail.mtsCatalog.type) || '未知' }}\r\n        </p>\r\n        <p class=\"sign\">\r\n          课程节数：{{ seriesDetail.mtsCatalog.total_chapter }}节\r\n        </p>\r\n        <p class=\"sign flex-wrap clearfix\">\r\n          <span style=\"min-width: 70px;\">课程介绍：</span>\r\n          <span>{{ seriesDetail.mtsCatalog.summary }}</span>\r\n        </p>\r\n      </div>\r\n    </section>\r\n    <div class=\"list-detail\">\r\n      <el-form label-position=\"left\" label-width=\"100px\" :model=\"course\" inline>\r\n        <el-form-item label=\"上传状态\" class=\"search-item\">\r\n          <el-select v-model=\"course.type\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in typeList\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"单节课名称\" class=\"search-item\">\r\n          <el-input v-model=\"course.name\" placeholder=\"请输入单节课名称\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" class=\"select-btn\" @click=\"onSubmit\"\r\n            >查询</el-button\r\n          >\r\n        </el-form-item>\r\n        <div\r\n          v-if=\"\r\n            seriesDetail.mtsCatalog &&\r\n              seriesDetail.mtsCatalog.lesson_column !== 'catalog'\r\n          \"\r\n          class=\"add-course\"\r\n        >\r\n          <el-dropdown>\r\n            <el-button type=\"primary\">\r\n              添加单节课<i class=\"el-icon-arrow-down el-icon--right\" />\r\n            </el-button>\r\n            <el-dropdown-menu\r\n              slot=\"dropdown\"\r\n              style=\"width: 117px;text-align: center;\"\r\n            >\r\n              <el-dropdown-item\r\n                ><a href=\"javascript:;\" @click=\"selectCourse\"\r\n                  >选择已有</a\r\n                ></el-dropdown-item\r\n              >\r\n              <el-dropdown-item\r\n                ><a href=\"javascript:;\" @click=\"addSingle\"\r\n                  >重新添加</a\r\n                ></el-dropdown-item\r\n              >\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-form>\r\n      <el-table :data=\"list\" style=\"width: 100%\" :empty-text=\"hasListInfo\">\r\n        <el-table-column\r\n          fixed\r\n          prop=\"num\"\r\n          label=\"序号\"\r\n          min-width=\"80\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column\r\n          prop=\"id\"\r\n          label=\"编号\"\r\n          min-width=\"130\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"单节课名称\"\r\n          min-width=\"150\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column\r\n          prop=\"image\"\r\n          label=\"单节课封面\"\r\n          min-width=\"100\"\r\n          align=\"center\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-avatar :size=\"30\" :src=\"scope.row.image\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"courseType\"\r\n          label=\"单节课类型\"\r\n          min-width=\"100\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column\r\n          prop=\"uploadStatus\"\r\n          label=\"上传状态\"\r\n          min-width=\"100\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column\r\n          prop=\"creteTime\"\r\n          label=\"创建时间\"\r\n          min-width=\"120\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"150\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"\r\n                delShow = true\r\n                rowInfo = scope.row\r\n              \"\r\n              >删除</el-button\r\n            >\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"\r\n                $router.push(\r\n                  `/learning-admin/course/single-edit/${scope.row.id}`\r\n                )\r\n              \"\r\n            >\r\n              {{\r\n                scope.row.lesson_status === 'no_uploaded' ? '去上传' : '编辑'\r\n              }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[12, 18, 24]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"count\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n      <el-dialog\r\n        title=\"删除提示\"\r\n        :visible.sync=\"delShow\"\r\n        width=\"30%\"\r\n        center\r\n        top=\"30vh\"\r\n      >\r\n        <div class=\"center\">\r\n          <p>删除后，该课程下所有信息将不再保留，</p>\r\n          <p>请确定是否删除？</p>\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"delShow = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <el-dialog\r\n        title=\"选择单节课\"\r\n        :visible.sync=\"addCourseShow\"\r\n        width=\"30%\"\r\n        center\r\n        top=\"30vh\"\r\n        class=\"set-status\"\r\n      >\r\n        <div class=\"course-wrap\">\r\n          <el-select v-model=\"checkList\" multiple placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"(item, index) in singleList\"\r\n              :key=\"index\"\r\n              class=\"inline-input del-input\"\r\n              :label=\"item.title\"\r\n              :value=\"item._id\"\r\n            />\r\n          </el-select>\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addCourseShow = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"confirmCourse\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getCourseList,\r\n  delCourse,\r\n  getSingleList,\r\n  addSingleExist\r\n} from '@/api/learningAdmin'\r\nimport { getNowFormatDate } from '@/utils/learningMethod'\r\nexport default {\r\n  data() {\r\n    return {\r\n      typeList: [\r\n        { label: '全部', value: 'all' },\r\n        { label: '未上传', value: 'no_uploaded' },\r\n        { label: '已上传', value: 'uploaded' }\r\n      ],\r\n      course: {\r\n        type: 'all',\r\n        name: ''\r\n      },\r\n      seriesDetail: {\r\n        mtsCatalog: {}\r\n      },\r\n      list: [],\r\n      currentPage: 1,\r\n      delShow: false,\r\n      addCourseShow: false,\r\n      pageSize: 12,\r\n      count: 0,\r\n      rowInfo: '',\r\n      hasListInfo: '暂无数据',\r\n      singleList: [], // 获取的单节课列表\r\n      singleName: '',\r\n      checkList: [] // 选择的列表\r\n    }\r\n  },\r\n  computed: {\r\n    getType() {\r\n      return function(type) {\r\n        if (type === 'video') return '视频'\r\n        if (type === 'audio') return '音频'\r\n        if (type === 'image_text') return '图文'\r\n        if (!type) return '未知'\r\n      }\r\n    },\r\n    getTime() {\r\n      return function(time) {\r\n        if (!time) return ''\r\n        const str = time.split('T')\r\n        return str[0] + ' ' + str[1].split('.')[0]\r\n      }\r\n    },\r\n    getStatus() {\r\n      return function(status) {\r\n        if (status === 'no_uploaded') return '未上传'\r\n        if (status === 'uploaded') return '已上传'\r\n      }\r\n    },\r\n    getTypeStr() {\r\n      return function(type) {\r\n        let str = ''\r\n        if (type) {\r\n          if (type.indexOf('image_text') !== -1) str += ' 图文'\r\n          if (type.indexOf('audio') !== -1) str += ' 音频'\r\n          if (type.indexOf('video') !== -1) str += ' 视频'\r\n        }\r\n        return str\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getSeriesList()\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      this.getSeriesList({\r\n        id: this.$route.params.id,\r\n        page: this.currentPage,\r\n        pageSize: this.pageSize,\r\n        title: this.course.name\r\n      })\r\n    },\r\n    async confirm() {\r\n      const { data } = await delCourse(this.rowInfo.id)\r\n      if (data && data.result) {\r\n        this.$message({ message: '删除成功', type: 'success' })\r\n        this.getSeriesList()\r\n        this.delShow = false\r\n      }\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getSeriesList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.getSeriesList()\r\n    },\r\n    async selectCourse() {\r\n      this.addCourseShow = true\r\n      const { code, data } = await getSingleList({\r\n        lesson_column: this.seriesDetail.mtsCatalog.lesson_column\r\n      })\r\n      if (code === 20000) {\r\n        this.singleList = data.list\r\n      }\r\n    },\r\n    async confirmCourse() {\r\n      if (this.checkList.length === 0) return\r\n      const { data, code } = await addSingleExist({\r\n        parent_id: this.$route.params.id,\r\n        ids: this.checkList\r\n      })\r\n      if (code === 20000 && data.result) {\r\n        this.$message({ message: '添加成功', type: 'success' })\r\n        this.getSeriesList()\r\n        this.addCourseShow = false\r\n      }\r\n    },\r\n    async getSeriesList(search) {\r\n      let params\r\n      if (search) {\r\n        if (this.course.type !== 'all') search.lesson_status = this.course.type\r\n        params = search\r\n      } else {\r\n        params = {\r\n          id: this.$route.params.id,\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize\r\n        }\r\n      }\r\n      const { data, code } = await getCourseList(params)\r\n      if (code === 20000 && data.result) {\r\n        this.seriesDetail = data\r\n        this.count = data.count\r\n        this.list = data.list.map((item, index) => {\r\n          return {\r\n            num: (data.page - 1) * data.pageSize + index + 1,\r\n            id: item._id,\r\n            name: item.title,\r\n            image: item.cover,\r\n            lesson_status: item.lesson_status,\r\n            uploadStatus: this.getStatus(item.lesson_status),\r\n            courseType: this.getType(item.type),\r\n            creteTime: getNowFormatDate(item.created_at)\r\n          }\r\n        })\r\n        if (this.list.length === 0 && search) {\r\n          this.hasListInfo = '暂无数据，请重新输入关键词'\r\n        } else this.hasListInfo = '暂无数据'\r\n      }\r\n    },\r\n    addSingle() {\r\n      this.$router.push(\r\n        `/learning-admin/course/single/${this.$route.params.id}`\r\n      )\r\n    },\r\n    querySearch(queryString, cb) {\r\n      const singleList = this.singleList\r\n      const results = queryString\r\n        ? singleList.filter(this.createFilter(queryString))\r\n        : singleList\r\n      // 调用 callback 返回建议列表的数据\r\n      cb(results)\r\n    },\r\n    handleSelect(item) {},\r\n    createFilter(queryString) {\r\n      return restaurant => {\r\n        return (\r\n          restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) ===\r\n          0\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\" type=\"text/scss\">\r\n.series-detail {\r\n  .head-detail {\r\n    display: flex;\r\n    padding: 20px;\r\n    height: 240px;\r\n    border: 1px solid #ebeef5;\r\n    border-radius: 4px;\r\n    flex: 1;\r\n    .image {\r\n      float: left;\r\n      width: 360px;\r\n      height: 200px;\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n    .info {\r\n      float: left;\r\n      padding: 14px 20px;\r\n      .info-title {\r\n        font-size: 16px;\r\n        color: #17233d;\r\n        margin-bottom: 20px;\r\n      }\r\n      .sign {\r\n        font-size: 14px;\r\n        color: #999;\r\n        margin-bottom: 10px;\r\n        &.flex-wrap {\r\n          display: flex;\r\n          flex: 1;\r\n          span:last-child {\r\n            display: -webkit-box;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            -webkit-line-clamp: 5;\r\n            -webkit-box-orient: vertical;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .search-item {\r\n    margin-right: 70px;\r\n    color: #17233d;\r\n    /deep/ input {\r\n      width: 220px;\r\n      height: 32px;\r\n    }\r\n    /deep/ span {\r\n      top: -3px;\r\n    }\r\n    /deep/ .el-input__suffix {\r\n      top: 0;\r\n      .el-input__icon {\r\n        line-height: 32px;\r\n      }\r\n    }\r\n  }\r\n  .list-detail {\r\n    margin-top: 20px;\r\n    padding: 20px;\r\n    border: 1px solid #e8eaec;\r\n    border-radius: 4px;\r\n  }\r\n  .pagination {\r\n    margin-top: 50px;\r\n    text-align: center;\r\n  }\r\n  .add-course {\r\n    float: right;\r\n    line-height: 40px;\r\n  }\r\n  /deep/.del-input {\r\n    margin-top: 15px;\r\n    input {\r\n      width: 220px;\r\n    }\r\n  }\r\n  .set-status {\r\n    /deep/.el-dialog__body {\r\n      padding: 0 25px 10px;\r\n    }\r\n  }\r\n  /deep/button {\r\n    padding: 6px 20px;\r\n    height: 32px;\r\n  }\r\n  .center {\r\n    text-align: center;\r\n  }\r\n  /deep/.el-button--text {\r\n    padding: 0;\r\n  }\r\n  /deep/.el-checkbox {\r\n    display: block;\r\n    margin: 10px;\r\n  }\r\n  .course-wrap {\r\n    /deep/.el-input--suffix {\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n  /deep/.cell {\r\n    overflow: hidden;\r\n    -ms-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n  /deep/.el-select {\r\n    display: block;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeriesDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeriesDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SeriesDetail.vue?vue&type=template&id=29155464&scoped=true&\"\nimport script from \"./SeriesDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SeriesDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SeriesDetail.vue?vue&type=style&index=0&id=29155464&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29155464\",\n  null\n  \n)\n\nexport default component.exports","export const getDateInfo = function(date) {\r\n  const y = date.getFullYear()\r\n  let m = date.getMonth() + 1\r\n  const d = date.getDate()\r\n  const h = date.getHours()\r\n  const min = date.getMinutes()\r\n  const s = date.getSeconds()\r\n  if (m < 10) m = '0' + m\r\n  return `${y}-${m}-${d} ${h}:${min}:${s}`\r\n}\r\nexport const getTime = ({ start, end, time }) => {\r\n  if (!start && !end && !time) return '0天0小时0分钟'\r\n  if (!time) {\r\n    time = new Date(end) - new Date(start)\r\n  }\r\n  const days = Math.floor(time / (24 * 3600 * 1000))\r\n  // 计算出小时数\r\n  const leave1 = time % (24 * 3600 * 1000) // 计算天数后剩余的毫秒数\r\n  const hours = Math.floor(leave1 / (3600 * 1000))\r\n  // 计算相差分钟数\r\n  const leave2 = leave1 % (3600 * 1000) // 计算小时数后剩余的毫秒数\r\n  const minutes = Math.ceil(leave2 / (60 * 1000))\r\n  // 计算相差秒数\r\n  // const leave3 = leave2 % (60 * 1000) // 计算分钟数后剩余的毫秒数\r\n  // const seconds = Math.round(leave3 / 1000)\r\n  return days + '天' + hours + '小时' + minutes + '分钟'\r\n}\r\nexport const getNowFormatDate = time => {\r\n  const date = new Date(time)\r\n  const seperator1 = '-'\r\n  const seperator2 = ':'\r\n  let month = date.getMonth() + 1\r\n  let strDate = date.getDate()\r\n  if (month >= 1 && month <= 9) {\r\n    month = '0' + month\r\n  }\r\n  if (strDate >= 0 && strDate <= 9) {\r\n    strDate = '0' + strDate\r\n  }\r\n  const currentdate =\r\n    date.getFullYear() +\r\n    seperator1 +\r\n    month +\r\n    seperator1 +\r\n    strDate +\r\n    ' ' +\r\n    date.getHours() +\r\n    seperator2 +\r\n    date.getMinutes() +\r\n    seperator2 +\r\n    date.getSeconds()\r\n  if (currentdate.indexOf('NaN') !== -1) return '/'\r\n  return currentdate\r\n}\r\n"],"sourceRoot":""}