(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49de55cf"],{"031a":function(t,e,n){"use strict";var r=n("a96c"),s=n.n(r);s.a},"0718":function(t,e,n){"use strict";var r=n("7e1e"),s=n.n(r);s.a},"0890":function(t,e,n){},"65bb":function(t,e,n){"use strict";var r=n("edea"),s=n.n(r);s.a},"7e1e":function(t,e,n){},a96c:function(t,e,n){},c09e:function(t,e,n){"use strict";var r=n("0890"),s=n.n(r);s.a},c6eb:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"students"},[n("div",{staticClass:"close clearfix"},[n("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.$router.push("/learning-admin/studentsList")}}})]),n("student-info",{attrs:{info:t.info}}),"phExResult"===t.$route.name?n("ph-ex-result",{attrs:{info:t.info}}):t._e(),n("study-info",{attrs:{"table-data":t.records,"work-shift":t.info.job_rotation_position,count:t.info.count}})],1)},s=[],i=(n("96cf"),n("3b8d")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-content"},[n("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v("基本信息")]),n("table",{staticClass:"table",attrs:{cellspacing:"0"}},[n("tr",[n("td",{staticClass:"portrait",style:{backgroundImage:"url("+t.info.avatar+")"},attrs:{rowspan:"4"}}),n("td",[t._v("钉钉ID")]),n("td",[t._v(t._s(t.info.userid))]),n("td",[t._v("学员姓名")]),n("td",[t._v(t._s(t.info.name))]),n("td",[t._v("首次登陆时间")]),n("td",[t._v(t._s(t.getTime(t.info.insertTime)))]),n("td",[t._v("使用计划")]),n("td",[t._v(t._s(t.info.plan_name||"无"))])]),n("tr",[n("td",[t._v("当前阶段")]),n("td",[t._v(t._s(t.getStage(t.info.stage,t.info.job_rotation_position)))]),n("td",[t._v("阶段状态")]),n("td",[t._v(t._s(t.getStageStatus(t.info.stage_status)))]),n("td",[t._v("绑定医生")]),n("td",[t._v(t._s(t.info.doctor||"/"))]),n("td",[t._v("第一阶段")]),n("td",[t._v("\n        "+t._s(t.info.plans&&t.info.plans[0]&&(t.info.plans[0].score||0===t.info.plans[0].score)?t.info.plans[0].score:"/")+"\n      ")])]),n("tr",[n("td",[t._v("第二阶段")]),n("td",[t._v("\n        "+t._s(t.info.plans&&t.info.plans[1]&&(t.info.plans[1].score||0===t.info.plans[1].score)?t.info.plans[1].score:"/")+"\n      ")]),n("td",[t._v("第三阶段")]),n("td",[t._v("\n        "+t._s(t.info.plans&&t.info.plans[2]&&(t.info.plans[2].score||0===t.info.plans[2].score)?t.info.plans[2].score:"/")+"\n      ")]),n("td",[t._v("第四阶段")]),n("td",[t._v("\n        "+t._s(t.info.plans&&t.info.plans[3]&&(t.info.plans[3].score||0===t.info.plans[3].score)?t.info.plans[3].score:"/")+"\n      ")]),n("td",[t._v("第五阶段")]),n("td",[t._v("\n        "+t._s(t.info.plans&&t.info.plans[4]&&(t.info.plans[4].score||0===t.info.plans[4].score)?t.info.plans[4].score:"/")+"\n      ")])]),n("tr",[n("td",[t._v("第六阶段")]),n("td",[t._v("\n        "+t._s(t.info.plans&&t.info.plans[5]&&(t.info.plans[5].score||0===t.info.plans[5].score)?t.info.plans[5].score:"/")+"\n      ")]),n("td",[t._v("试岗用时")]),n("td",[t._v(t._s(t.trialTime(t.info.test_job_at)))])])])])},o=[],u=(n("28a5"),{props:{info:{type:Object,default:function(){return{}}}},computed:{trialTime:function(){return function(t){var e=Math.floor(t/864e5),n=t%864e5,r=Math.floor(n/36e5),s=n%36e5,i=Math.ceil(s/6e4);return e+"天"+r+"时"+i+"分"}},getTime:function(){return function(t){if(!t)return"";var e=t.split("T");return e[0]+" "+e[1].split(".")[0]}},getStageStatus:function(){return function(t){return"doing"===t?"正在进行":"exam"===t?"待考试":"eliminate"===t?"淘汰":"delay"===t?"延期":"pass"===t?"通过":""}},getStage:function(){return function(t,e){if(t===e)return"轮岗阶段";if(-1===t)return"试岗阶段";if(t<e){if(0===t)return"第一阶段";if(1===t)return"第二阶段";if(2===t)return"第三阶段";if(3===t)return"第四阶段";if(4===t)return"第五阶段";if(5===t)return"第六阶段"}if(t>e){if(t-=e,0===t)return"第二阶段";if(1===t)return"第三阶段";if(2===t)return"第四阶段";if(3===t)return"第五阶段";if(4===t)return"第六阶段";if(5===t)return"第七阶段"}}}}}),c=u,l=(n("0718"),n("2877")),m=Object(l["a"])(c,a,o,!1,null,"5e90b260",null),f=m.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ph-ex-result"},[n("div",{staticClass:"title"},[n("div",[t._v(t._s(-1===t.info.stage?"试岗期考核结果":"各阶段考试结果"))]),-2!==t.info.stage?n("el-button",{attrs:{type:"primary"},on:{click:t.seeHistory}},[t._v("查看历史记录")]):t._e()],1),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[-1!==t.info.stage?n("el-form-item",{attrs:{label:"考核阶段：",prop:"stage"}},[n("el-input",{staticClass:"input-stage",attrs:{type:"stage",autocomplete:"off",width:"220",placeholder:"自动获取",disabled:""},model:{value:t.ruleForm.stage,callback:function(e){t.$set(t.ruleForm,"stage",t._n(e))},expression:"ruleForm.stage"}})],1):t._e(),-1===t.info.stage?n("el-form-item",{attrs:{label:"培训师评价：",prop:"comment"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入评价内容  如：性格、学习能力、业务能力等方面给出客观评价",maxlength:"500","show-word-limit":"",rows:"4",resize:"none",disabled:t.commentDisabled},model:{value:t.ruleForm.comment,callback:function(e){t.$set(t.ruleForm,"comment","string"===typeof e?e.trim():e)},expression:"ruleForm.comment"}})],1):t._e(),t.info.job_rotation_position!==t.info.stage?n("el-form-item",{attrs:{label:"考核结果：",prop:"type"}},[n("el-radio-group",{model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},[n("el-radio",{attrs:{label:-1===t.info.stage?"不通过":"淘汰"},nativeOn:{click:function(e){t.isEliminate=!0}}}),-1!==t.info.stage?n("el-radio",{attrs:{label:"延期再学习"},nativeOn:{click:function(e){t.isEliminate=!0}}}):t._e(),n("el-radio",{attrs:{label:"通过"},nativeOn:{click:function(e){t.isEliminate=!1}}})],1)],1):t._e(),-1!==t.info.stage&&t.info.job_rotation_position!==t.info.stage?n("el-form-item",{attrs:{label:"分数：",prop:"score"}},[n("el-input",{staticClass:"input-stage",attrs:{type:"point",autocomplete:"off",width:"220",placeholder:"请输入分数"},model:{value:t.ruleForm.score,callback:function(e){t.$set(t.ruleForm,"score",t._n(e))},expression:"ruleForm.score"}})],1):t._e(),t.info.stage===t.info.job_rotation_position||t.isEliminate?n("el-form-item",{attrs:{label:t.info.stage===t.info.job_rotation_position?"医生评价：":-1===t.info.stage?"不通过原因：":"延期再学习"===t.ruleForm.type?"延期原因：":"淘汰原因：",prop:"reason"}},[n("el-input",{attrs:{type:"textarea",placeholder:t.info.stage===t.info.job_rotation_position?"请对该健康管理师在轮岗期的表现进行评价":-1===t.info.stage?"请填写不通过的其他原因":"延期再学习"===t.ruleForm.type?"请填写延期原因":"请填写淘汰该健康管理师的其他原因",maxlength:"200","show-word-limit":"",rows:"4",resize:"none",disabled:t.info.stage===t.info.job_rotation_position&&"doctor"!==t.$store.state.user.mts_user.type},model:{value:t.ruleForm.reason,callback:function(e){t.$set(t.ruleForm,"reason","string"===typeof e?e.trim():e)},expression:"ruleForm.reason"}})],1):t._e(),n("el-form-item",[n("el-button",{attrs:{type:"primary",disabled:t.noSubmit},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1),t.isShowComment?n("el-divider"):t._e(),t.isShowComment?n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tip"},[t.loadingComment?t._e():[n("p",{staticClass:"tip-info center"},[t._v("\n        目前已有"+t._s(t.commentNumber.commented.length)+"人提交评价\n        "),t.commentNumber.un_comment.length?n("span",[t._v("\n          ，未进行评价的人是：\n          "),t._l(t.commentNumber.un_comment,(function(e,r){return n("span",{key:r},[t._v(t._s(e.name)+" ，")])})),t._v("\n          请进行联系处理\n        ")],2):t._e()]),n("p",{staticClass:"center"},[n("el-button",{attrs:{type:"primary"},on:{click:t.getComment}},[t._v("\n          "+t._s(-1===t.info.stage?"获取最终结果":"获取全部评论")+"\n        ")])],1)],t.commentList.length&&t.loadingComment&&-1!==t.info.stage?[n("h4",{staticClass:"comment-title"},[t._v("评价详情")]),t._l(t.commentList,(function(e,r){return n("p",{key:r,staticClass:"comment-info"},[t._v("\n        "+t._s(e.admin.name)+"评价：\n        "),n("span",{staticClass:"text"},[t._v(t._s(e.comment))])])}))]:t._e(),t.trailInfo&&t.loadingComment&&-1===t.info.stage?[n("h4",{staticClass:"final-result"},[t._v("\n        最终结果："+t._s(t.isPass(t.trailInfo.stage_status))+"\n      ")]),n("p",{staticClass:"result-tip"},[t._v("\n        本次考核有效评论数为"+t._s(t.trailInfo.commented+t.trailInfo.un_comment.length)+"条， 通过个数为"+t._s(t.trailInfo.commented)+"，不通过个数为"+t._s(t.trailInfo.un_comment.length)+"\n      ")]),t.trailInfo.un_comment.length?n("div",{staticClass:"result-info"},[n("div",{staticClass:"reason-title"},[t._v("不通过原因为：")]),n("div",{staticClass:"reason-info"},t._l(t.trailInfo.un_comment,(function(e,r){return n("p",{key:r},[t._v("\n            原因"+t._s(r+1)+"："+t._s(e.reason)+"\n          ")])})),0)]):t._e()]:t._e()],2):t._e(),n("el-dialog",{attrs:{title:"提示",visible:t.isSubmit,width:"30%",center:"",top:"30vh"},on:{"update:visible":function(e){t.isSubmit=e}}},[n("p",{staticClass:"center"},[t._v("提交后，将不能再更改，请确认是否提交？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.isSubmit=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)]),n("el-dialog",{staticClass:"history-info",attrs:{title:"各阶段考试结果",visible:t.historyShow,center:"",top:"30vh"},on:{"update:visible":function(e){t.historyShow=e}}},[n("el-table",{attrs:{data:t.historyList}},[n("el-table-column",{attrs:{property:"stage",label:"阶段",width:"150",align:"center"}}),n("el-table-column",{attrs:{property:"name",label:"处理人",width:"150",align:"center"}}),n("el-table-column",{attrs:{property:"score",label:"分数",width:"150",align:"center"}}),n("el-table-column",{attrs:{property:"stage_status",label:"考核结果",width:"150",align:"center"}}),n("el-table-column",{attrs:{property:"content",label:"备注",align:"center"}})],1)],1)],1)},g=[],h=(n("7f7f"),n("f296")),d={props:{stage:{type:String,default:""},info:{type:Object,default:function(){return{}}}},data:function(){return{ruleForm:{stage:"",comment:"",type:[],reason:"",score:""},rules:{reason:[{required:!0,message:"您输入内容有误，请重新输入",trigger:"blur"}],stage:[{required:!0,message:"阶段不能为空"}],type:[{required:!0,message:"请选择一个考核结果",trigger:"change"}],comment:[{required:!0,message:"您输入内容有误，请重新输入",trigger:"blur"}],score:[{required:!0,message:"分数不能为空"},{type:"number",message:"分数必须为数字值"}]},historyList:[],commentList:[],isSubmit:!1,historyShow:!1,loadingComment:!1,loading:!1,noSubmit:!1,commentDisabled:!1,user:this.$store.state.user.mts_user,isEliminate:!1,trailInfo:"",commentNumber:{commented:[],un_comment:[]}}},computed:{getStageStatus:function(){return function(t){return"doing"===t?"正在进行":"exam"===t?"待考试":"eliminate"===t?"淘汰":"delay"===t?"延期":"pass"===t?"通过":"/"}},getStage:function(){return function(t,e){if(t===e)return"轮岗阶段";if(-1===t)return"试岗阶段";if(t<e){if(0===t)return"第一阶段";if(1===t)return"第二阶段";if(2===t)return"第三阶段";if(3===t)return"第四阶段";if(4===t)return"第五阶段";if(5===t)return"第六阶段"}if(t>e){if(t-=e,0===t)return"第二阶段";if(1===t)return"第三阶段";if(2===t)return"第四阶段";if(3===t)return"第五阶段";if(4===t)return"第六阶段";if(5===t)return"第七阶段"}}},isPass:function(){return function(t){return"pass"===t?"通过":"eliminate"===t?"不通过":void 0}},getStatus:function(){return function(t){return"通过"===t?"pass":"不通过"===t?"eliminate":"淘汰"===t?"eliminate":"延期再学习"===t?"delay":void 0}},isShowComment:function(){return-1===this.info.stage&&"human_resource"===this.user.type||this.info.stage===this.info.job_rotation_position&&"teacher"===this.user.type}},watch:{stage:function(){this.ruleForm.stage=this.stage},info:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.ruleForm.stage=this.getStage(this.info.stage,this.info.job_rotation_position),this.getStageCommentResult(),-1===this.info.stage&&this.getTeacherComment(),this.userIsComment(this.info.stage);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.isSubmit=!0}))},submit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s,i,a,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==this.info.stage||"teacher"!==this.user.type){t.next=6;break}return t.next=3,Object(h["b"])({comment:this.ruleForm.comment,stage_status:this.getStatus(this.ruleForm.type),user:this.info._id,reason:this.ruleForm.reason});case 3:e=t.sent,n=e.data,n&&(n.result?this.$message({message:"评论成功",type:"success"}):this.$message({message:n.message,type:"error"}),this.noSubmit=!0);case 6:if(-1!==this.info.stage||"teacher"===this.user.type){t.next=12;break}return t.next=9,Object(h["b"])({stage_status:this.getStatus(this.ruleForm.type),user:this.info._id,reason:this.ruleForm.reason});case 9:r=t.sent,s=r.data,s&&(s.result?this.$message({message:"评论成功",type:"success"}):this.$message({message:s.message,type:"error"}),this.noSubmit=!0);case 12:if(-1===this.info.stage){t.next=28;break}if(this.info.stage!==this.info.job_rotation_position){t.next=22;break}return t.next=16,Object(h["b"])({comment:this.ruleForm.reason,user:this.info._id});case 16:i=t.sent,a=i.data,a&&(a.result?this.$message({message:"评论成功",type:"success"}):this.$message({message:a.message,type:"error"})),this.noSubmit=!0,t.next=28;break;case 22:return t.next=24,Object(h["b"])({comment:this.ruleForm.comment,stage_status:this.getStatus(this.ruleForm.type),user:this.info._id,reason:this.ruleForm.reason,score:this.ruleForm.score});case 24:o=t.sent,u=o.data,u&&(u.result?this.$message({message:"评论成功",type:"success"}):this.$message({message:u.message,type:"error"})),this.noSubmit=!0;case 28:this.isSubmit=!1;case 29:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getResult:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["mb"])({user:this.info._id});case 2:e=t.sent,n=e.data,n&&(n.result?(this.trailInfo=n,this.loadingComment=!0):this.$message({message:n.message,type:"error"}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),seeHistory:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["jb"])({user:this.info._id});case 2:e=t.sent,n=e.data,n&&n.result&&n.list.length>0&&(this.historyList=n.list.map((function(t){return{stage:r.getStage(t.stage,r.info.job_rotation_position),name:t.admin.name,score:t.score||"/",stage_status:r.getStageStatus(t.stage_status),content:t.comment||"/"}}))),this.historyShow=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getComment:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,-1!==this.info.stage){t.next=4;break}return t.next=4,this.getResult();case 4:if(-1===this.info.stage||this.info.stage===this.info.status){t.next=7;break}return t.next=7,this.getStageCommentList();case 7:if(-1===this.info.stage||this.info.stage!==this.info.job_rotation_position){t.next=13;break}return t.next=10,Object(h["fb"])({user:this.info._id});case 10:e=t.sent,n=e.data,n.result||this.$message({message:n.message,type:"error"});case 13:this.loading=!1;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getStageCommentResult:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["y"])({user:this.info._id,stage:this.info.stage});case 2:e=t.sent,n=e.data,n&&n.result&&(this.commentNumber=n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getStageCommentList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["jb"])({user:this.info._id,stage:this.info.stage});case 2:if(e=t.sent,n=e.data,!n||!n.result){t.next=11;break}if(this.commentList=n.list,!n.result||0!==n.list.length){t.next=10;break}return t.abrupt("return",this.$message({message:"暂无评论",type:"error"}));case 10:this.loadingComment=!0;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTeacherComment:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["jb"])({user:this.info._id,stage:this.info.stage});case 2:e=t.sent,n=e.data,n&&n.result&&(r=n.list.filter((function(t){return-1===t.stage&&"teacher"===t.type})),r.length>0&&(this.ruleForm.comment=r[0].comment,this.commentDisabled=!0,"teacher"===this.user.type&&(this.noSubmit=!0)),0===r.length&&"teacher"!==this.user.type&&(this.noSubmit=!0));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),userIsComment:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["ob"])({user:this.$route.params.id,stage:e});case 2:n=t.sent,r=n.code,s=n.data,2e4===r&&s.result&&(this.noSubmit=s.is_review);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},_=d,b=(n("031a"),Object(l["a"])(_,p,g,!1,null,"4218f7fe",null)),v=b.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"study-info"},[n("div",{staticClass:"title"},[t._v("学习信息")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.records,"empty-text":"暂无数据"}},[n("el-table-column",{attrs:{fixed:"",prop:"start_time",label:"开始时间","min-width":"120",align:"center"}}),n("el-table-column",{attrs:{prop:"pass_time",label:"通过时间","min-width":"120",align:"center"}}),n("el-table-column",{attrs:{prop:"study_content",label:"学习内容","min-width":"120",align:"center"}}),n("el-table-column",{attrs:{prop:"stage",label:"所属阶段","min-width":"100",align:"center"}}),n("el-table-column",{attrs:{prop:"score",label:"考试成绩","min-width":"80",align:"center"}}),n("el-table-column",{attrs:{prop:"num",label:"当前次数","min-width":"80",align:"center"}}),n("el-table-column",{attrs:{fixed:"right",prop:"study_time",label:"学习用时","min-width":"100",align:"center"}})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[12,18,24],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},w=[],x=(n("c5f6"),n("fd0b")),S={props:{tableData:{type:Array,default:function(){return[]}},workShift:{type:Number,default:-2},count:{type:Number,default:0}},data:function(){return{currentPage:1,records:[],pageSize:12}},computed:{getTime:function(){return function(t,e){var n=new Date(t).getTime(),r=new Date(e).getTime(),s=r-n;if(s<0)return"0天0时0分";var i=Math.floor(s/864e5),a=s%864e5,o=Math.floor(a/36e5),u=a%36e5,c=Math.ceil(u/6e4),l=i+"天"+o+"时"+c+"分";return-1!==l.indexOf("NaN")?"/":l}},getStage:function(){return function(t,e){if(t===e)return"轮岗阶段";if(-1===t)return"试岗阶段";if(t<e){if(0===t)return"第一阶段";if(1===t)return"第二阶段";if(2===t)return"第三阶段";if(3===t)return"第四阶段";if(4===t)return"第五阶段";if(5===t)return"第六阶段"}if(t>e){if(t-=e,0===t)return"第二阶段";if(1===t)return"第三阶段";if(2===t)return"第四阶段";if(3===t)return"第五阶段";if(4===t)return"第六阶段";if(5===t)return"第七阶段"}}},getType:function(){return function(t){return"professional_ability"===t?"专业能力":"typing_speed"===t?"打字速度":"problem_diagnosis_ability"===t?"用户问题确诊能力":"summarizing_ability"===t?"学习总结能力":void 0}}},watch:{tableData:function(){var t=this;this.records=this.tableData.map((function(e){return{start_time:Object(x["b"])(e.exam_start_at||e.started_at),pass_time:Object(x["b"])(e.exam_end_at||e.ended_at),study_content:e.catalog?e.catalog.title:e.lesson_column?t.getType(e.lesson_column):"/",stage:t.getStage(e.stage,t.workShift)||"/",score:e.score||e.word_count||"0",num:e.exam_count||1,study_time:t.getTime(e.started_at,e.study_at||e.ended_at)}}))}},methods:{handleSizeChange:function(t){this.pageSize=t,this.getDetail()},handleCurrentChange:function(t){this.currentPage=t,this.getDetail()},getDetail:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["T"])({user:this.$route.params.id,pageSize:this.pageSize,page:this.currentPage});case 2:e=t.sent,n=e.data,r=e.code,n&&2e4===r&&(this.records=n.records.map((function(t){return{start_time:Object(x["b"])(t.exam_start_at||t.started_at),pass_time:Object(x["b"])(t.exam_end_at||t.ended_at),study_content:t.catalog?t.catalog.title:t.lesson_column?s.getType(t.lesson_column):"/",stage:s.getStage(t.stage,s.workShift)||"/",score:t.score||t.word_count||"0",num:t.exam_count||1,study_time:s.getTime(t.started_at,t.study_at||t.ended_at)}})),this.count=n.count);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},C=S,j=(n("c09e"),Object(l["a"])(C,y,w,!1,null,"552aac40",null)),k=j.exports,F={components:{StudentInfo:f,StudyInfo:k,PhExResult:v},data:function(){return{info:{},type:this.$store.state.user.mts_user.type,records:[]}},created:function(){this.getDetail()},methods:{getDetail:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["T"])({user:this.$route.params.id,page:1,pageSize:12});case 2:e=t.sent,n=e.data,n&&(this.info=n,this.records=n.records);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},O=F,$=(n("65bb"),Object(l["a"])(O,r,s,!1,null,"9c1f047e",null));e["default"]=$.exports},edea:function(t,e,n){},fd0b:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return i}));var r=function(t){var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),s=t.getHours(),i=t.getMinutes(),a=t.getSeconds();return n<10&&(n="0"+n),"".concat(e,"-").concat(n,"-").concat(r," ").concat(s,":").concat(i,":").concat(a)},s=function(t){var e=t.start,n=t.end,r=t.time;if(!e&&!n&&!r)return"0天0小时0分钟";r||(r=new Date(n)-new Date(e));var s=Math.floor(r/864e5),i=r%864e5,a=Math.floor(i/36e5),o=i%36e5,u=Math.ceil(o/6e4);return s+"天"+a+"小时"+u+"分钟"},i=function(t){var e=new Date(t),n="-",r=":",s=e.getMonth()+1,i=e.getDate();s>=1&&s<=9&&(s="0"+s),i>=0&&i<=9&&(i="0"+i);var a=e.getFullYear()+n+s+n+i+" "+e.getHours()+r+e.getMinutes()+r+e.getSeconds();return-1!==a.indexOf("NaN")?"/":a}}}]);
//# sourceMappingURL=chunk-49de55cf.a2f12fe3.js.map