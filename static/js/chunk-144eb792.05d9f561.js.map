{"version":3,"sources":["webpack:///./src/views/consultation/components/result-list.vue?9705","webpack:///src/views/consultation/components/result-list.vue","webpack:///./src/views/consultation/components/result-list.vue?1461","webpack:///./src/views/consultation/components/result-list.vue","webpack:///./src/views/evaluate/diagnose/detail.vue?1e35","webpack:///./src/views/consultation/components/result-list.vue?bec8","webpack:///./src/utils/chat/index.js","webpack:///./src/api/consultation.js","webpack:///./src/views/evaluate/diagnose/detail.vue?50ce","webpack:///./src/views/evaluate/diagnose/components/reply-detail.vue?ccb0","webpack:///src/views/evaluate/diagnose/components/reply-detail.vue","webpack:///./src/views/evaluate/diagnose/components/reply-detail.vue?fbf8","webpack:///./src/views/evaluate/diagnose/components/reply-detail.vue","webpack:///src/views/evaluate/diagnose/detail.vue","webpack:///./src/views/evaluate/diagnose/detail.vue?5c56","webpack:///./src/views/evaluate/diagnose/detail.vue","webpack:///./src/api/upload.js","webpack:///./src/api/evaluate.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","isHistory","result","role","staticClass","attrs","_v","_s","count","question","user","avatar","nickname","_f","created_at","Date","showData","length","_l","item","index","key","type","label","value","_e","domProps","html","msg_content","content","voice","msgTime","url","duration","images","model","callback","$$v","$set","expression","admin","name","staticRenderFns","components","UploaderList","data","props","Object","default","Boolean","created","getData","watch","handler","deep","methods","curStageTxt","booleanToTxt","measureToTxt","feedModeTxt","fenmianModeTxt","getChankeInfo","getEekeOrOldChankeData","department","basicInfo","component","datePickerOptions","shortcuts","text","onClick","picker","end","start","setTime","getTime","$emit","disabledDate","day","now","switchDotStyle","timePot","eventType","event","busRole","bus_role","bgColor","iconType","color","border","borderColor","ifHasServer","serveName","$store","state","chat","serviceItem","i","indexOf","_","curStage","time","format","show","is_schedule","measure_desc","period_start","period_end","duration_start","duration_end","measure","formatTime","started_at","bysc","is_checked","has_unusual_status","unusual_desc","last_yuejing_at","yuchan_at","gestational_weeks","gestational_days","has_unusual_baby","unusual_baby_desc","has_renshen_history","renshen_desc","fenmian_at","fenmian_mode","is_ceqie","feed_mode","getQuestion","params","request","method","getList","getDoctorList","getQuestionReplyList","getAllUserQuestionList","getQuestionDetail","getQuestionHistories","changeDoctorStatus","creatReply","getReplyList","addReplyApi","delReplyApi","id","updateReplyApi","detail","question_ID","section_office","admin_user","star","staticStyle","history","mounted","ReplyDetail","labelList","oss","getImageMeta","postObject","ossData","file","onProgress","FormData","append","OSSAccessKeyId","policy","Signature","headers","onUploadProgress","meta","videoMeta","size","Error","extname","filename","a","split","reverse","join","b","substring","search","upload","random","Math","floor","fileName","fileType","path","prefix","res","getFdAskList","query","changeOnlineStatusFdAsk","_id","changeOnlineStatus","getCommentStarById","getDiagnoseDetail","getMedicalServiceDetail"],"mappings":"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","file":"static/js/chunk-144eb792.05d9f561.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'layout--history': _vm.isHistory }},[(_vm.result.role === 'user')?_c('div',{staticClass:\"user\"},[(!_vm.isHistory)?_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"text\"},[_vm._v(\"\\n        \"+_vm._s(((_vm.result.count === 1\n              ? '首次提'\n              : _vm.result.count === 2\n              ? '第1次追'\n              : '第2次追') + \"问\"))+\"\\n      \")]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(new Date(_vm.result.created_at))))])]):_c('div',[_c('p',{staticClass:\"title--history\"},[_c('el-divider',{attrs:{\"content-position\":\"center\"}},[_vm._v(_vm._s(((_vm.result.count === 1\n              ? '首次提'\n              : _vm.result.count === 2\n              ? '第1次追'\n              : '第2次追') + \"问\")))])],1),_c('div',{staticClass:\"userinfo\"},[_c('el-avatar',{attrs:{\"src\":_vm.question.user.avatar}}),_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.question.user.nickname))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.result.created_at)))])],1)]),_c('div',{staticClass:\"content\"},[(_vm.showData.length && !_vm.isHistory)?_c('div',_vm._l((_vm.showData),function(item,index){return _c('div',{key:index},[(item.show)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\",class:_vm.type},[_vm._v(_vm._s(item.label))]),(item.value)?_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(item.value))]):_vm._e(),(item.html)?_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(item.html)}}):_vm._e()]):_vm._e()])}),0):_vm._e(),_c('div',{staticClass:\"row\"},[(_vm.isHistory)?_c('div',{staticClass:\"value\"},_vm._l((_vm.showData),function(item,index){return _c('span',{key:index},[(item.show)?_c('span',[_c('span',[_vm._v(_vm._s(item.label))]),(item.value)?_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.value))]):_vm._e(),(item.html)?_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(item.html)}}):_vm._e()]):_vm._e()])}),0):_vm._e()]),(_vm.result.count !== 1)?_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(_vm.result.msg_content.content)}}):_vm._e(),(_vm.result.msg_content.voice)?_c('div',{staticClass:\"row margin-top-10\"},[_c('my-audio',{attrs:{\"msgtime\":_vm.result.msg_content.voice.msgTime\n              ? _vm.result.msg_content.voice.msgTime\n              : '1',\"src\":_vm.result.msg_content.voice.url,\"vduration\":_vm.result.msg_content.voice.duration}})],1):_vm._e(),_c('div',{staticClass:\"row\"},[(_vm.result.msg_content.images.length)?_c('UploaderList',{staticClass:\"uploader\",attrs:{\"disabled\":\"\"},model:{value:(_vm.result.msg_content.images),callback:function ($$v) {_vm.$set(_vm.result.msg_content, \"images\", $$v)},expression:\"result.msg_content.images\"}}):_vm._e()],1)])]):_vm._e(),(_vm.result.role === 'admin')?_c('div',{staticClass:\"admin\"},[(_vm.result.admin.name)?_c('div',{staticClass:\"title\"},[_c('el-avatar',{attrs:{\"src\":_vm.result.admin.avatar}}),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.result.admin.name))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(new Date(_vm.result.created_at))))])],1):_vm._e(),_vm._l((_vm.result.msg_content),function(item,index){return _c('div',{key:index,staticClass:\"content\"},[_c('div',{staticClass:\"content--text\",domProps:{\"innerHTML\":_vm._s(item.content)}}),(item.images.length)?_c('UploaderList',{staticClass:\"uploader\",attrs:{\"disabled\":\"\"},model:{value:(item.images),callback:function ($$v) {_vm.$set(item, \"images\", $$v)},expression:\"item.images\"}}):_vm._e()],1)})],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"{ 'layout--history': isHistory }\">\r\n    <div v-if=\"result.role === 'user'\" class=\"user\">\r\n      <div v-if=\"!isHistory\" class=\"title\">\r\n        <p class=\"text\">\r\n          {{\r\n            `${\r\n              result.count === 1\r\n                ? '首次提'\r\n                : result.count === 2\r\n                ? '第1次追'\r\n                : '第2次追'\r\n            }问`\r\n          }}\r\n        </p>\r\n        <p class=\"time\">{{ new Date(result.created_at) | formatTime }}</p>\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"title--history\">\r\n          <el-divider content-position=\"center\">{{\r\n            `${\r\n              result.count === 1\r\n                ? '首次提'\r\n                : result.count === 2\r\n                ? '第1次追'\r\n                : '第2次追'\r\n            }问`\r\n          }}</el-divider>\r\n        </p>\r\n        <div class=\"userinfo\">\r\n          <el-avatar :src=\"question.user.avatar\" />\r\n          <p class=\"nickname\">{{ question.user.nickname }}</p>\r\n          <p class=\"time\">{{ result.created_at | formatTime }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div v-if=\"showData.length && !isHistory\">\r\n          <div v-for=\"(item, index) in showData\" :key=\"index\">\r\n            <div v-if=\"item.show\" class=\"row\">\r\n              <div class=\"label\" :class=\"type\">{{ item.label }}</div>\r\n              <div v-if=\"item.value\" class=\"value\">{{ item.value }}</div>\r\n              <div v-if=\"item.html\" class=\"content--text\" v-html=\"item.html\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"value\" v-if=\"isHistory\">\r\n            <span v-for=\"(item, index) in showData\" :key=\"index\">\r\n              <span v-if=\"item.show\">\r\n                <span>{{ item.label }}</span>\r\n                <span v-if=\"item.value\" class=\"value\">{{ item.value }}</span>\r\n                <div\r\n                  v-if=\"item.html\"\r\n                  class=\"content--text\"\r\n                  v-html=\"item.html\"\r\n                />\r\n              </span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-if=\"result.count !== 1\"\r\n          class=\"content--text\"\r\n          v-html=\"result.msg_content.content\"\r\n        />\r\n        <div v-if=\"result.msg_content.voice\" class=\"row margin-top-10\">\r\n          <!-- 语音消息 -->\r\n          <my-audio\r\n            :msgtime=\"\r\n              result.msg_content.voice.msgTime\r\n                ? result.msg_content.voice.msgTime\r\n                : '1'\r\n            \"\r\n            :src=\"result.msg_content.voice.url\"\r\n            :vduration=\"result.msg_content.voice.duration\"\r\n          />\r\n        </div>\r\n        <div class=\"row\">\r\n          <UploaderList\r\n            v-if=\"result.msg_content.images.length\"\r\n            v-model=\"result.msg_content.images\"\r\n            class=\"uploader\"\r\n            disabled\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"result.role === 'admin'\" class=\"admin\">\r\n      <div v-if=\"result.admin.name\" class=\"title\">\r\n        <el-avatar :src=\"result.admin.avatar\" />\r\n        <p class=\"name\">{{ result.admin.name }}</p>\r\n        <p class=\"time\">{{ new Date(result.created_at) | formatTime }}</p>\r\n      </div>\r\n      <div\r\n        v-for=\"(item, index) in result.msg_content\"\r\n        :key=\"index\"\r\n        class=\"content\"\r\n      >\r\n        <div class=\"content--text\" v-html=\"item.content\" />\r\n        <UploaderList\r\n          v-if=\"item.images.length\"\r\n          v-model=\"item.images\"\r\n          class=\"uploader\"\r\n          disabled\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UploaderList from '@/components/UploaderList'\r\nimport {\r\n  curStageTxt,\r\n  booleanToTxt,\r\n  measureToTxt,\r\n  feedModeTxt,\r\n  fenmianModeTxt\r\n} from '@/filters'\r\nimport { getChankeInfo } from '@/utils/chat'\r\nexport default {\r\n  components: {\r\n    UploaderList\r\n  },\r\n  data() {\r\n    return {\r\n      type: '',\r\n      showData: []\r\n    }\r\n  },\r\n  props: {\r\n    result: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    question: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    isHistory: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created() {\r\n    this.getData(this.result, this.isHistory, this.question)\r\n  },\r\n  watch: {\r\n    question: {\r\n      handler: function() {\r\n        this.getData(this.result, this.isHistory, this.question)\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    curStageTxt,\r\n    booleanToTxt,\r\n    measureToTxt,\r\n    feedModeTxt,\r\n    fenmianModeTxt,\r\n    getChankeInfo,\r\n    getEekeOrOldChankeData(department, basicInfo, isHistory, result) {\r\n      this.showData = [\r\n        {\r\n          show: department === 'pediatric' ? true : false,\r\n          label: '患者性别：',\r\n          value: basicInfo.gender === 1 ? '男' : '女'\r\n        },\r\n        {\r\n          show: true,\r\n          label:\r\n            department === 'pediatric' ? '患者出生日期：' : '上次月经日期：',\r\n          value: this.formatTime(basicInfo.birth_day, '{y}-{m}-{d}')\r\n        },\r\n        {\r\n          show: department === 'pediatric',\r\n          label: '患者年龄：',\r\n          value: basicInfo.age\r\n        },\r\n        {\r\n          show: true,\r\n          label: department === 'pediatric' ? '症状持续时长：' : '孕周：',\r\n          value:\r\n            department === 'pediatric'\r\n              ? basicInfo.symptom < 90\r\n                ? `${basicInfo.symptom}天`\r\n                : `超过${basicInfo.symptom}天`\r\n              : `${Math.floor(basicInfo.symptom / 7)}周 ${basicInfo.symptom %\r\n                  7}天`\r\n        },\r\n        {\r\n          show: true,\r\n          label: !isHistory ? '症状描述：' : '',\r\n          value: '',\r\n          html: result.msg_content.content\r\n        }\r\n      ]\r\n    },\r\n    getData(result, isHistory, question) {\r\n      const count = result.count\r\n      const department = question.section_office\r\n      const basicInfo = question.ask_basic_info\r\n        ? question.ask_basic_info\r\n        : question\r\n      if (count === 1) {\r\n        if (\r\n          department === 'pediatric' ||\r\n          (department === 'obstetrics' && basicInfo.is_old)\r\n        ) {\r\n          this.type = 'erke'\r\n          this.getEekeOrOldChankeData(department, basicInfo, isHistory, result)\r\n        } else if (department === 'obstetrics') {\r\n          this.type = 'chanke'\r\n          const curStage = basicInfo.cur_stage\r\n          this.showData = this.getChankeInfo(\r\n            curStage,\r\n            basicInfo,\r\n            isHistory,\r\n            result\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.user {\r\n  margin-bottom: 30px;\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-left: 6px;\r\n    margin-bottom: 20px;\r\n    border-left: 6px solid #0085ff;\r\n    font-size: 16px;\r\n    color: #0085ff;\r\n\r\n    .text {\r\n      margin-right: 20px;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .time {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    padding: 20px;\r\n    line-height: 1.5;\r\n    font-size: 14px;\r\n    background: #fff;\r\n    border: 1px solid #e8eaec;\r\n    border-radius: 4px;\r\n    .row {\r\n      display: flex;\r\n      .label.chanke {\r\n        flex: 0 0 168px;\r\n      }\r\n      .label.erke {\r\n        flex: 0 0 100px;\r\n      }\r\n      .value {\r\n        flex: 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.admin {\r\n  margin-bottom: 30px;\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    margin-bottom: 14px;\r\n\r\n    .name {\r\n      margin: 0 14px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    padding: 20px;\r\n    background: #e2f2ff;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .content + .content {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n\r\n.userinfo {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 70px;\r\n  background: #fff;\r\n\r\n  .nickname {\r\n    margin: 0 20px;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #17233d;\r\n  }\r\n\r\n  .status {\r\n    padding: 0 6px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    color: #f8747f;\r\n    background: rgba(248, 116, 127, 0.1);\r\n    border: 1px solid #f8747f;\r\n    border-radius: 4px;\r\n  }\r\n}\r\n\r\n.title--history {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  color: #0085ff;\r\n}\r\n\r\n.content--text {\r\n  line-height: 1.5;\r\n  word-break: break-all;\r\n  white-space: pre-line;\r\n  word-wrap: break-word;\r\n}\r\n.uploader {\r\n  padding-top: 5px;\r\n}\r\n\r\n/deep/.el-divider {\r\n  background: #0085ff;\r\n\r\n  .el-divider__text {\r\n    color: #0085ff;\r\n  }\r\n}\r\n\r\n/deep/.el-avatar {\r\n  img {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./result-list.vue?vue&type=template&id=42247cc4&scoped=true&\"\nimport script from \"./result-list.vue?vue&type=script&lang=js&\"\nexport * from \"./result-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./result-list.vue?vue&type=style&index=0&id=42247cc4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42247cc4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=36ae2028&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=36ae2028&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=style&index=0&id=42247cc4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./result-list.vue?vue&type=style&index=0&id=42247cc4&lang=scss&scoped=true&\"","import _ from 'lodash'\r\nimport $store from '../../store/index'\r\nimport {\r\n  curStageTxt,\r\n  booleanToTxt,\r\n  feedModeTxt,\r\n  fenmianModeTxt\r\n} from '@/filters'\r\nexport function datePickerOptions() {\r\n  return {\r\n    shortcuts: [\r\n      {\r\n        text: '最近一周',\r\n        onClick(picker) {\r\n          const end = new Date()\r\n          const start = new Date()\r\n          start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n          picker.$emit('pick', [start, end])\r\n        }\r\n      },\r\n      {\r\n        text: '最近一个月',\r\n        onClick(picker) {\r\n          const end = new Date()\r\n          const start = new Date()\r\n          start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n          picker.$emit('pick', [start, end])\r\n        }\r\n      },\r\n      {\r\n        text: '最近三个月',\r\n        onClick(picker) {\r\n          const end = new Date()\r\n          const start = new Date()\r\n          start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\r\n          picker.$emit('pick', [start, end])\r\n        }\r\n      }\r\n    ],\r\n    // 不能将日期范围选在今天之后\r\n    disabledDate(day) {\r\n      const now = new Date().getTime()\r\n      return day > now\r\n    }\r\n  }\r\n}\r\n\r\nexport function switchDotStyle(timePot) {\r\n  const eventType = timePot.event\r\n  const busRole = timePot.bus_role\r\n  switch (timePot.type) {\r\n    case 'over_time_send_suggestion':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-fsdz',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'round_append':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-round_append',\r\n        color: '#67CA39',\r\n        border: '1px solid #67CA39'\r\n      }\r\n    case 'admin_end':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-admin_end',\r\n        color: '#ED3645',\r\n        border: '1px solid #ED3645'\r\n      }\r\n    case 'text_answer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconhushi',\r\n        color: '#FF8181',\r\n        border: '1px solid #FF8181'\r\n      }\r\n    case 'system':\r\n      if (eventType === 'error') {\r\n        return {\r\n          bgColor: '#ED3645',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #ED3645'\r\n        }\r\n      } else if (eventType === 'warning') {\r\n        return {\r\n          bgColor: '#FFB718',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else if (eventType === 'end') {\r\n        return {\r\n          bgColor: '#979797',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #979797'\r\n        }\r\n      } else if (eventType === 'transfer_auto_accept') {\r\n        return {\r\n          bgColor: '#67CA39',\r\n          iconType: 'icon-setting-fill',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'system-info':\r\n      if (eventType === 'error') {\r\n        return {\r\n          bgColor: '#ED3645',\r\n          iconType: 'icon-setting-fill',\r\n          borderColor: '#FFFFFF'\r\n        }\r\n      } else if (eventType === 'warning') {\r\n        return {\r\n          bgColor: '#FFB718',\r\n          iconType: 'icon-setting-fill',\r\n          borderColor: '#FFFFFF'\r\n        }\r\n      } else if (eventType === 'end') {\r\n        return {\r\n          bgColor: '#979797',\r\n          iconType: 'icon-setting-fill',\r\n          borderColor: '#FFFFFF'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'user_ask':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-signal-fill',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'round_apply_transfer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-signal-fill',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'user_end':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'el-icon-user-solid',\r\n        color: '#979797',\r\n        border: '1px solid #979797'\r\n      }\r\n    // 医生 同意转诊（同意、拒绝、电话接待）\r\n    // 电话转诊\r\n    case 'voice_transfer_answer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-yisheng',\r\n        color: '#67CA39',\r\n        border: '1px solid #67CA39'\r\n      }\r\n    case 'text_transfer_answer':\r\n      if (busRole === 'doctor') {\r\n        return {\r\n          bgColor: '#FFFFFF',\r\n          iconType: 'icon-yisheng',\r\n          color: '#67CA39',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else if (busRole === 'dietician') {\r\n        return {\r\n          bgColor: '#fff',\r\n          iconType: 'icon-yingyangshi1',\r\n          color: '#FFB718',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'transfer_apply':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconhushi',\r\n        color: '#FF8181',\r\n        border: '1px solid #FF8181'\r\n      }\r\n    case 'transfer_start':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconhushi',\r\n        color: '#FF8181',\r\n        border: '1px solid #FF8181'\r\n      }\r\n    case 'transfer_accept':\r\n      if (busRole === 'doctor') {\r\n        return {\r\n          bgColor: '#FFFFFF',\r\n          iconType: 'icon-yisheng',\r\n          color: '#67CA39',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else if (busRole === 'dietician') {\r\n        return {\r\n          bgColor: '#fff',\r\n          iconType: 'icon-yingyangshi1',\r\n          color: '#FFB718',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'transfer_reject':\r\n      if (busRole === 'doctor') {\r\n        return {\r\n          bgColor: '#FFFFFF',\r\n          iconType: 'icon-yisheng',\r\n          color: '#67CA39',\r\n          border: '1px solid #67CA39'\r\n        }\r\n      } else if (busRole === 'dietician') {\r\n        return {\r\n          bgColor: '#fff',\r\n          iconType: 'icon-yingyangshi1',\r\n          color: '#FFB718',\r\n          border: '1px solid #FFB718'\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    case 'voice_transfer_end': // 电话转诊结束\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-yisheng',\r\n        color: '#999',\r\n        border: '1px solid #999'\r\n      }\r\n    case 'user_transfer':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'icon-signal-fill',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    case 'iconicon-ysdaiban':\r\n      return {\r\n        bgColor: '#FFFFFF',\r\n        iconType: 'iconicon-ysdaiban',\r\n        color: '#0085FF',\r\n        border: '1px solid #0085FF'\r\n      }\r\n    default:\r\n      return {}\r\n  }\r\n}\r\n// 判断套餐是否包含该服务\r\nexport function ifHasServer(serveName) {\r\n  if (!$store.state.chat.serviceItem) {\r\n    return\r\n  }\r\n  const serviceItem = $store.state.chat.serviceItem\r\n  // console.log('套餐包含的服务=', serviceItem)\r\n  if (serveName === 'transfer' && serviceItem.length) {\r\n    let index = false\r\n    for (let i = 0; i < serviceItem.length; i++) {\r\n      if (serviceItem[i].indexOf(serveName) !== -1) {\r\n        index = true\r\n        return index\r\n      }\r\n    }\r\n    return index\r\n  } else {\r\n    let index = _.indexOf(serviceItem, serveName)\r\n    index = index !== -1\r\n    return index\r\n  }\r\n}\r\n// 获取产科信息\r\nexport function getChankeInfo(curStage, basicInfo, isHistory, result, time) {\r\n  let format = 'y-m-d'\r\n  let data = [\r\n    {\r\n      show: true,\r\n      label: '当前阶段：',\r\n      value: curStageTxt(curStage)\r\n    },\r\n    {\r\n      show: true,\r\n      label: '月经史（月经是否规律）：',\r\n      value: booleanToTxt(basicInfo.is_schedule)\r\n    },\r\n    {\r\n      show: !basicInfo.is_schedule && basicInfo.measure_desc,\r\n      label: '',\r\n      html: '<span class=\"color-999\">' + basicInfo.measure_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: basicInfo.is_schedule,\r\n      label: '月经周期：',\r\n      value:\r\n        basicInfo && basicInfo.period_start\r\n          ? basicInfo.period_start + '天 至 ' + basicInfo.period_end + '天'\r\n          : '-'\r\n    },\r\n    {\r\n      show: basicInfo.is_schedule,\r\n      label: '每次持续：',\r\n      value:\r\n        basicInfo && basicInfo.duration_start\r\n          ? basicInfo.duration_start + '天 至 ' + basicInfo.duration_end + '天'\r\n          : '-'\r\n    },\r\n    {\r\n      show: basicInfo.is_schedule,\r\n      label: '月经量：',\r\n      value:\r\n        basicInfo && basicInfo.measure\r\n          ? this.measureToTxt(basicInfo.measure)\r\n          : '-'\r\n    },\r\n    {\r\n      show: curStage === 'byz',\r\n      label: '备孕开始日期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.started_at, format)\r\n        : basicInfo.started_at\r\n    },\r\n    {\r\n      show: curStage === 'byz',\r\n      label: '备孕时长：',\r\n      value: basicInfo.bysc\r\n    },\r\n    {\r\n      show: curStage === 'byz',\r\n      label: '是否做过孕前检查：',\r\n      value: booleanToTxt(basicInfo.is_checked)\r\n    },\r\n    {\r\n      show: curStage === 'byz' && basicInfo.is_checked,\r\n      label: '检查是否有异常：',\r\n      value: booleanToTxt(basicInfo.has_unusual_status)\r\n    },\r\n    {\r\n      show:\r\n        curStage === 'byz' &&\r\n        basicInfo.is_checked &&\r\n        basicInfo.has_unusual_status,\r\n      label: '',\r\n      html: '<span class=\"color-999\">' + basicInfo.unusual_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '末次月经日期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.last_yuejing_at, format)\r\n        : basicInfo.last_yuejing_at\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '预产期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.yuchan_at, format)\r\n        : basicInfo.yuchan_at\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '孕周：',\r\n      value: basicInfo.gestational_weeks\r\n        ? basicInfo.gestational_weeks + '周' + basicInfo.gestational_days + '天'\r\n        : ''\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '是否孕育过有缺陷的宝宝：',\r\n      value: booleanToTxt(basicInfo.has_unusual_baby)\r\n    },\r\n    {\r\n      show: curStage === 'hyz' && basicInfo.has_unusual_baby,\r\n      label: '',\r\n      html:\r\n        '<span class=\"color-999\">' + basicInfo.unusual_baby_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: curStage === 'hyz',\r\n      label: '既往妊娠综合症：',\r\n      value: booleanToTxt(basicInfo.has_renshen_history, 'has')\r\n    },\r\n    {\r\n      show: curStage === 'hyz' && basicInfo.has_renshen_history,\r\n      label: '',\r\n      html: '<span class=\"color-999\">' + basicInfo.renshen_desc + '</span>',\r\n      value: ''\r\n    },\r\n    {\r\n      show: curStage === 'crq',\r\n      label: '分娩日期：',\r\n      value: time\r\n        ? this.formatTime(basicInfo.fenmian_at, format)\r\n        : basicInfo.fenmian_at\r\n    },\r\n    {\r\n      show: curStage === 'crq',\r\n      label: '分娩方式：',\r\n      value: fenmianModeTxt(basicInfo.fenmian_mode)\r\n    },\r\n    {\r\n      show: curStage === 'crq' && basicInfo.fenmian_mode === 'ydfm',\r\n      label: '是否侧切：',\r\n      value: booleanToTxt(basicInfo.is_ceqie)\r\n    },\r\n    {\r\n      show: curStage === 'crq',\r\n      label: '本次产后喂养方式：',\r\n      value: feedModeTxt(basicInfo.feed_mode)\r\n    },\r\n    {\r\n      show: result ? true : false,\r\n      label: !isHistory ? '症状描述：' : '',\r\n      value: '',\r\n      html: result ? result.msg_content.content : ''\r\n    }\r\n  ]\r\n  return data\r\n}\r\n","import request from '@/utils/request'\r\n// 单次问诊相关接口\r\n// 获取待接诊信息\r\nexport function getQuestion(params) {\r\n  return request({\r\n    url: `/admin/question/handler`,\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function getList(params) {\r\n  return request({\r\n    url: '/admin/question/users',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function getDoctorList() {\r\n  return request({\r\n    url: '/admin/question/list/doctors',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getQuestionReplyList() {\r\n  return request({\r\n    url: '/admin/question/reply',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getAllUserQuestionList(params) {\r\n  return request({\r\n    url: '/admin/question/list/users',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function getQuestionDetail(params) {\r\n  return request({\r\n    url: `/admin/question/detail/${params}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getQuestionHistories(params) {\r\n  return request({\r\n    url: '/admin/question/histories',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport function changeDoctorStatus() {\r\n  return request({\r\n    url: '/admin/question/line',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function creatReply(params) {\r\n  return request({\r\n    url: '/admin/question/reply',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n// 获取快捷回复列表\r\nexport function getReplyList() {\r\n  return request({\r\n    url: '/question_fast_reply/list',\r\n    method: 'get'\r\n  })\r\n}\r\n// 新增快捷回复\r\nexport function addReplyApi(params) {\r\n  return request({\r\n    url: '/question_fast_reply',\r\n    method: 'post',\r\n    data: params\r\n  })\r\n}\r\n\r\n// 快捷回复删除\r\nexport function delReplyApi(id) {\r\n  return request({\r\n    url: `/question_fast_reply/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 修改快捷回复\r\nexport function updateReplyApi(params) {\r\n  return request({\r\n    url: `/question_fast_reply/${params.id}`,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"top-overview\"},[_c('div',{staticClass:\"detail-number\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"问诊编号：\")]),_vm._v(\" \"+_vm._s(_vm.detail.question_ID)+\"\\n    \")]),_c('div',{staticClass:\"detail-package\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"科室： \")]),_vm._v(_vm._s(_vm.detail.section_office)+\"\\n    \")])]),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"detail__content\"},[_c('div',{staticClass:\"detail__content__tips\"},[_vm._v(\"\\n        温馨提示：对用户承诺的评价方式为匿名评价，因此当出现对评价内容有疑问的情况，请注意与用户和医疗团队的沟通方式，注意保护用户隐私！\\n      \")]),_c('div',{staticClass:\"detail__content__rate\"},[_c('div',{staticClass:\"rate-title\"},[_vm._v(\"\\n          用户评价\\n        \")]),_c('div',{staticClass:\"rate-content\"},[_c('div',{staticClass:\"rate-content__item\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"评价时间：\")]),_c('div',{staticClass:\"content\"},[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"formatTime\")(new Date(_vm.detail.created_at)))+\"\\n            \")])]),_c('div',{staticClass:\"rate-content__item\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"\\n              对\"+_vm._s(_vm.detail.admin_user && _vm.detail.admin_user.name)+\"满意度：\\n            \")]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.detail.star)+\"星\")])]),_c('div',{staticClass:\"multiple-line\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"评价详情：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.detail.content ? _vm.detail.content : '无'))])])])])]),_c('div',{staticClass:\"detail__history\",staticStyle:{\"overflow\":\"auto\"}},[_c('div',{staticClass:\"detail__history__title\"},[_vm._v(\"咨询记录\")]),_c('ReplyDetail',{attrs:{\"detail\":_vm.history}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"margin-left-20 margin-right-20\"},[_vm._l((_vm.detail.list),function(item,index){return [_c('ResultList',{key:index,attrs:{\"result\":item,\"question\":_vm.detail.question}})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"margin-left-20 margin-right-20\">\r\n    <template v-for=\"(item, index) in detail.list\">\r\n      <ResultList :key=\"index\" :result=\"item\" :question=\"detail.question\" />\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ResultList from '@/views/consultation/components/result-list'\r\n\r\nexport default {\r\n  components: { ResultList },\r\n  props: {\r\n    detail: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  mounted() {},\r\n  methods: {}\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reply-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reply-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reply-detail.vue?vue&type=template&id=46c7f5ff&\"\nimport script from \"./reply-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./reply-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"top-overview\">\r\n      <div class=\"detail-number\">\r\n        <span class=\"label\">问诊编号：</span> {{ detail.question_ID }}\r\n      </div>\r\n      <div class=\"detail-package\">\r\n        <span class=\"label\">科室： </span>{{ detail.section_office }}\r\n      </div>\r\n    </div>\r\n    <div class=\"detail\">\r\n      <div class=\"detail__content\">\r\n        <div class=\"detail__content__tips\">\r\n          温馨提示：对用户承诺的评价方式为匿名评价，因此当出现对评价内容有疑问的情况，请注意与用户和医疗团队的沟通方式，注意保护用户隐私！\r\n        </div>\r\n        <div class=\"detail__content__rate\">\r\n          <div class=\"rate-title\">\r\n            用户评价\r\n          </div>\r\n          <div class=\"rate-content\">\r\n            <div class=\"rate-content__item\">\r\n              <div class=\"label\">评价时间：</div>\r\n              <div class=\"content\">\r\n                {{ new Date(detail.created_at) | formatTime() }}\r\n              </div>\r\n            </div>\r\n            <div class=\"rate-content__item\">\r\n              <div class=\"label\">\r\n                对{{ detail.admin_user && detail.admin_user.name }}满意度：\r\n              </div>\r\n              <div class=\"content\">{{ detail.star }}星</div>\r\n            </div>\r\n            <div class=\"multiple-line\">\r\n              <span class=\"label\">评价详情：</span>\r\n              <span class=\"content\">{{\r\n                detail.content ? detail.content : '无'\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"detail__history\" style=\"overflow: auto\">\r\n        <div class=\"detail__history__title\">咨询记录</div>\r\n        <ReplyDetail :detail=\"history\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ReplyDetail from './components/reply-detail'\r\nimport { getQuestionDetail } from '@/api/consultation'\r\nimport { getDiagnoseDetail } from '@/api/evaluate'\r\n\r\nexport default {\r\n  name: 'DiagnoseDetail',\r\n  components: {\r\n    ReplyDetail\r\n  },\r\n  data() {\r\n    return {\r\n      detail: {},\r\n      history: {},\r\n      labelList: ['态度好', '响应快', '专业可靠', '态度好', '态度好']\r\n    }\r\n  },\r\n  mounted() {\r\n    const evaluationId = this.$route.params.id\r\n    // 请求此条评价的详情,并且在回调中请求问诊详情\r\n    getDiagnoseDetail(evaluationId).then(res => {\r\n      this.detail = res.data\r\n      this.getQuestionDetail(this.detail.question)\r\n    })\r\n  },\r\n  methods: {\r\n    async getQuestionDetail(questionId) {\r\n      const { data } = await getQuestionDetail(questionId)\r\n      this.history = data\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/evaluate/detail.scss';\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=36ae2028&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=36ae2028&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36ae2028\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nexport const oss = () => {\r\n  return request({\r\n    url: '/oss/auth',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const getImageMeta = url => {\r\n  return request({\r\n    url: url + '?x-oss-process=image/info',\r\n    method: 'get'\r\n  })\r\n}\r\nexport const postObject = async ({ oss: ossData, key, file, onProgress }) => {\r\n  const data = new FormData()\r\n  data.append('OSSAccessKeyId', ossData.OSSAccessKeyId)\r\n  data.append('success_action_status', 200)\r\n  data.append('policy', ossData.policy)\r\n  data.append('Signature', ossData.Signature)\r\n  data.append('key', key)\r\n  data.append('file', file)\r\n  let url = 'https://pic1.baobaohehu.com/'\r\n  await request({\r\n    url,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    onUploadProgress: onProgress || null,\r\n    data\r\n  })\r\n  url = url + key\r\n  let meta\r\n  if (file.type.indexOf('image') > -1) {\r\n    meta = await getImageMeta(url)\r\n  } else if (file.type.indexOf('video') > -1) {\r\n    meta = {\r\n      ...file.videoMeta,\r\n      size: file.size\r\n    }\r\n  } else if (file.type.indexOf('audio') > -1) {\r\n    meta = {\r\n      size: file.size,\r\n      type: file.type\r\n    }\r\n  } else {\r\n    throw new Error(\r\n      '当前上传的类型不是image或者video；当前上传的类型是' + file.type\r\n    )\r\n  }\r\n  return {\r\n    url,\r\n    meta: meta\r\n  }\r\n}\r\n// 获取文件后缀名\r\nexport const extname = filename => {\r\n  if (!filename || typeof filename !== 'string') {\r\n    return false\r\n  }\r\n  const a = filename\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  const b = a\r\n    .substring(0, a.search(/\\./))\r\n    .split('')\r\n    .reverse()\r\n    .join('')\r\n  return b\r\n}\r\n/**\r\n * 封装下oss获取跟上传\r\n * @param file\r\n * @param onProgress\r\n * @returns {Promise.<*>}\r\n */\r\nexport const upload = async (file, onProgress) => {\r\n  const { data } = await oss()\r\n  const random = Math.floor(Math.random() * (100 - 1)) + 1\r\n  let fileName = new Date().getTime()\r\n  const fileType = extname(file.name)\r\n  fileName = fileName + random + '.' + fileType\r\n  const key = `${data.path}/${data.prefix}/${fileName}`\r\n  const res = await postObject({ oss: data, key, file, onProgress })\r\n  return res\r\n}\r\n","import request from '@/utils/request'\r\n\r\nexport function getFdAskList(query) {\r\n  return request({\r\n    url: '/comment_manager/fd_ask/list',\r\n    method: 'post',\r\n    data: query\r\n  })\r\n}\r\nexport function getList(query) {\r\n  return request({\r\n    url: '/comment_manager/single_ask/list',\r\n    method: 'post',\r\n    data: query\r\n  })\r\n}\r\n// 咨询评论上下线\r\nexport function changeOnlineStatusFdAsk(params) {\r\n  return request({\r\n    url: '/comment_manager/fd_ask/updateStatus/' + params._id,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n// 问诊评论上下线\r\nexport function changeOnlineStatus(params) {\r\n  return request({\r\n    url: '/comment_manager/single_ask/updateStatus/' + params._id,\r\n    method: 'put',\r\n    data: params\r\n  })\r\n}\r\n// 根据评论id获取另一条评论的星级\r\nexport function getCommentStarById(id) {\r\n  return request({\r\n    url: '/comment_manager/fd_ask/getComment/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// ￿详情页面的接口\r\n// 单次问诊详情\r\nexport function getDiagnoseDetail(id) {\r\n  return request({\r\n    url: `/comment_manager/single_ask/${id}`,\r\n    method: 'get'\r\n    // mock: true\r\n  })\r\n}\r\n// 咨询详情\r\nexport function getMedicalServiceDetail(id) {\r\n  return request({\r\n    url: `/comment_manager/fd_ask/${id}`,\r\n    method: 'get'\r\n    // mock: true\r\n  })\r\n}\r\n"],"sourceRoot":""}