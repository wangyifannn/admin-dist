{"version":3,"sources":["webpack:///./src/utils/crmRequest.js","webpack:///./src/api/assistantManage.js","webpack:///./src/views/assistant-management/index.vue?773a","webpack:///src/views/assistant-management/index.vue","webpack:///./src/views/assistant-management/index.vue?a90c","webpack:///./src/views/assistant-management/index.vue","webpack:///./src/views/assistant-management/index.vue?9fb0"],"names":["service","axios","create","baseURL","process","timeout","interceptors","request","use","config","store","getters","token","headers","getToken","error","console","log","Promise","reject","response","res","data","url","indexOf","code","router","push","Message","message","type","duration","dispatch","then","location","reload","Error","getHelperList","params","method","getAdminList","getHelper","createHelper","matchingHelper","id","updateHelper","deleteHelper","getChannelList","createChannel","updateChannel","deleteChannel","getUserTypeList","createUserType","updateUserType","deleteUserType","getFollowList","createFollow","updateFollow","deleteFollow","setStatus","getCurrentList","getUserInfo","getFollowLog","getUserType","getOrderList","addSource","putSource","getSourceDetail","deleteSource","getSourceList","getQrcode","getCodeList","createProgramCode","deleteProgramCode","downloadCode","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","assistantSearch","model","value","callback","$$v","$set","expression","staticStyle","on","onSubmit","_v","resetForm","$event","assistantShow","list","hasListInfo","scopedSlots","_u","key","fn","scope","setOperator","row","_s","operator","delShow","rowInfo","currentPage","pageSize","count","handleSizeChange","handleCurrentChange","slot","delConfirm","inputForm","required","_l","item","index","name","isLoading","inputFormSubmit","operateShow","operateForm","_id","replaceOperateShow","replaceOperateForm","target","staticRenderFns","isOpen","singleList","createNameList","assistant","assistantList","operatorList","oldOperator","newOperator","reason","watch","created","methods","val","$refs","formName","validate","valid","component"],"mappings":"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","file":"static/js/chunk-004de6dc.eaae4ca1.js","sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// const baseUrl = process.env.NODE_ENV === process.env.VUE_APP_BASE_CRM_API\r\n\r\n// create an axios instance\r\nconst service = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_CRM_API, // url = base url + request url\r\n  // withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 200000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // do something before request is sent\r\n    // 使用mock地址或者真实地址\r\n    if (process.env.NODE_ENV === 'development' && config.mock) {\r\n      config.url = process.env.VUE_APP_MOCK_API + config.url\r\n    }\r\n\r\n    if (store.getters.token) {\r\n      // let each request carry token\r\n      // ['Authorization'] is a custom headers key\r\n      // please modify it according to the actual situation\r\n      config.headers['Authorization'] = getToken()\r\n    }\r\n\r\n    return config\r\n  },\r\n  error => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response interceptor\r\nservice.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n   */\r\n\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  response => {\r\n    const config = response.config\r\n    const res = response.data\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    if (config.url.indexOf(config.baseURL) > -1 && res.code !== 10000) {\r\n      // 没有 api 权限\r\n      if (res.code === 40001) {\r\n        router.push('/404')\r\n        return Promise.reject()\r\n      }\r\n\r\n      Message({\r\n        message: res.message || 'Error',\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n\r\n      // 403 超时的访问 401 未授权的访问\r\n      if (res.code === 401) {\r\n        store.dispatch('user/resetToken').then(() => {\r\n          location.reload()\r\n        })\r\n      }\r\n\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      /* if (res.data && res.data.result === false) {\r\n        Message({\r\n          message: res.data.message || 'Error',\r\n          type: 'error',\r\n          duration: 5 * 1000\r\n        })\r\n      }*/\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n","import request from '@/utils/crmRequest'\r\n\r\n/********* 小助手管理 ************/\r\n\r\n// 获取小助手列表\r\nexport function getHelperList(params) {\r\n  return request({\r\n    url: '/corp/wechat/helper',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取员工列表\r\nexport function getAdminList(params) {\r\n  return request({\r\n    url: '/corp/admin',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取列表\r\nexport function getHelper(params) {\r\n  return request({\r\n    url: '/corp/helper',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 创建小助手\r\nexport function createHelper(data) {\r\n  return request({\r\n    url: '/corp/helper',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 匹配运营人员\r\nexport function matchingHelper(id, data) {\r\n  return request({\r\n    url: '/corp/helper/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 更改运营人员\r\nexport function updateHelper(id, data) {\r\n  return request({\r\n    url: '/corp/helper/change/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除小助手\r\nexport function deleteHelper(id) {\r\n  return request({\r\n    url: '/corp/helper/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/********* 小助手管理 ************/\r\n\r\n/********* 来源渠道管理 ************/\r\n\r\n// 获取渠道列表\r\nexport function getChannelList(params) {\r\n  return request({\r\n    url: '/corp/source_channel',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 新增渠道\r\nexport function createChannel(data) {\r\n  return request({\r\n    url: '/corp/source_channel',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新渠道\r\nexport function updateChannel(id, data) {\r\n  return request({\r\n    url: '/corp/source_channel/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除渠道\r\nexport function deleteChannel(id) {\r\n  return request({\r\n    url: '/corp/source_channel/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/********* 来源渠道管理 ************/\r\n\r\n/********* 用户类型管理 ************/\r\n\r\n// 获取用户类型列表\r\nexport function getUserTypeList(params) {\r\n  return request({\r\n    url: '/corp/user_type',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 新增渠道\r\nexport function createUserType(data) {\r\n  return request({\r\n    url: '/corp/user_type',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新渠道\r\nexport function updateUserType(id, data) {\r\n  return request({\r\n    url: '/corp/user_type/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除渠道\r\nexport function deleteUserType(id) {\r\n  return request({\r\n    url: '/corp/user_type/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/********* 用户类型管理 ************/\r\n\r\n/********* 跟进操作管理 ************/\r\n\r\n// 获取用户类型列表\r\nexport function getFollowList(params) {\r\n  return request({\r\n    url: '/corp/user_visit',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 新增渠道\r\nexport function createFollow(data) {\r\n  return request({\r\n    url: '/corp/user_visit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新渠道\r\nexport function updateFollow(id, data) {\r\n  return request({\r\n    url: '/corp/user_visit/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除渠道\r\nexport function deleteFollow(id) {\r\n  return request({\r\n    url: '/corp/user_visit/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 改变状态\r\nexport function setStatus(id) {\r\n  return request({\r\n    url: '/corp/user_visit/status/' + id,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\n/********* 跟进操作管理 ************/\r\n\r\n/********* 用户管理 ************/\r\n\r\n// 获取用户列表\r\nexport const getCurrentList = params => {\r\n  return request({\r\n    url: 'corp/user',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取用户信息\r\nexport const getUserInfo = id => {\r\n  return request({\r\n    url: 'corp/admin/crm_user/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取跟进列表\r\nexport const getFollowLog = params => {\r\n  return request({\r\n    url: 'corp/follow_up_log',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取用户来源\r\nexport const getUserType = params => {\r\n  return request({\r\n    url: 'corp/source_channel',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取订单列表\r\nexport const getOrderList = id => {\r\n  return request({\r\n    url: 'corp/admin/order/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/********* 用户管理 ************/\r\n\r\n/********* 渠道场景管理 ************/\r\n\r\n// 创建\r\nexport const addSource = data => {\r\n  return request({\r\n    url: 'corp/admin/scene',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新\r\nexport const putSource = (id, data) => {\r\n  return request({\r\n    url: 'corp/admin/scene/' + id,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取详情\r\nexport const getSourceDetail = id => {\r\n  return request({\r\n    url: 'corp/admin/scene/detail/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 删除\r\nexport const deleteSource = id => {\r\n  return request({\r\n    url: 'corp/admin/scene/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 获取列表\r\nexport const getSourceList = params => {\r\n  return request({\r\n    url: 'corp/admin/scene',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取二维码qrcode\r\nexport const getQrcode = id => {\r\n  return request({\r\n    url: 'corp/admin/scene/qrcode/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/********* 渠道场景管理 ************/\r\n\r\n/********* 小程序码管理 ************/\r\n\r\n// 获取列表\r\nexport const getCodeList = params => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 创建小程序码\r\nexport const createProgramCode = data => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除小程序码\r\nexport const deleteProgramCode = id => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 下载小程序码\r\nexport const downloadCode = params => {\r\n  return request({\r\n    url: 'corp/admin/wx_qrcode/download',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n/********* 小程序码管理 ************/\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"assistant-manage\"},[_c('el-form',{ref:\"userSearch\",attrs:{\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.assistantSearch,\"inline\":\"\"}},[_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"小助手昵称\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入小助手昵称\"},model:{value:(_vm.assistantSearch.name),callback:function ($$v) {_vm.$set(_vm.assistantSearch, \"name\", $$v)},expression:\"assistantSearch.name\"}})],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"运营人员\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入运营人员姓名\"},model:{value:(_vm.assistantSearch.operator),callback:function ($$v) {_vm.$set(_vm.assistantSearch, \"operator\", $$v)},expression:\"assistantSearch.operator\"}})],1),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{staticClass:\"select-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")]),_c('el-button',{staticClass:\"select-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"title\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.assistantShow = true}}},[_vm._v(\"录入小助手\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\",\"empty-text\":_vm.hasListInfo}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"num\",\"label\":\"序号\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"小助手昵称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"operator\",\"label\":\"对应运营人员\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"gender\",\"label\":\"性别\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"手机号码\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"department\",\"label\":\"所属部门\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.setOperator(scope.row)}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.operator === '/' ? '匹配运营人员' : '更换运营人员')+\"\\n          \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.delShow = true\n              _vm.rowInfo = scope.row}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 50],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"删除提示\",\"visible\":_vm.delShow,\"width\":\"400px\",\"center\":\"\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.delShow=$event}}},[_c('p',{staticClass:\"center\"},[_vm._v(\"\\n      删除后，该小助手将不能进行用户跟进，\\n      \"),_c('br'),_vm._v(\"请确定是否删除？\\n    \")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.delConfirm}},[_vm._v(\"确 定\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.delShow = false}}},[_vm._v(\"取 消\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"录入小助手\",\"visible\":_vm.assistantShow,\"width\":\"400px\",\"center\":\"\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.assistantShow=$event}}},[_c('el-form',{ref:\"inputForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.inputForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"小助手\",\"prop\":\"assistant\",\"rules\":[{ required: true, message: '请选择' }]}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择小助手\"},model:{value:(_vm.inputForm.assistant),callback:function ($$v) {_vm.$set(_vm.inputForm, \"assistant\", $$v)},expression:\"inputForm.assistant\"}},_vm._l((_vm.assistantList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":index,\"loading\":_vm.isLoading}})}),1)],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.inputFormSubmit('inputForm', 'create')}}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"匹配运营人员\",\"visible\":_vm.operateShow,\"width\":\"400px\",\"center\":\"\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.operateShow=$event}}},[_c('el-form',{ref:\"operateForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.operateForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"运营人员\",\"prop\":\"operator\",\"rules\":[{ required: true, message: '请选择' }]}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择运营人员\"},model:{value:(_vm.operateForm.operator),callback:function ($$v) {_vm.$set(_vm.operateForm, \"operator\", $$v)},expression:\"operateForm.operator\"}},_vm._l((_vm.operatorList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id,\"loading\":_vm.isLoading}})}),1)],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.inputFormSubmit('operateForm', 'matching')}}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"更换运营人员\",\"visible\":_vm.replaceOperateShow,\"width\":\"400px\",\"center\":\"\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.replaceOperateShow=$event}}},[_c('el-form',{ref:\"replaceOperateForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.replaceOperateForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"原运营人员\",\"prop\":\"oldOperator\",\"clearable\":\"\",\"rules\":[{ required: true, message: '原运营人员不能为空' }]}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.replaceOperateForm.oldOperator),callback:function ($$v) {_vm.$set(_vm.replaceOperateForm, \"oldOperator\", $$v)},expression:\"replaceOperateForm.oldOperator\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新运营人员\",\"prop\":\"newOperator\",\"rules\":[{ required: true, message: '请选择' }]}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择运营人员\"},model:{value:(_vm.replaceOperateForm.newOperator),callback:function ($$v) {_vm.$set(_vm.replaceOperateForm, \"newOperator\", $$v)},expression:\"replaceOperateForm.newOperator\"}},_vm._l((_vm.operatorList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id,\"loading\":_vm.isLoading}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"更换原因\",\"prop\":\"reason\",\"rules\":[{ required: true, message: '原因不能为空', target: 'blur' }]}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"clearable\":\"\",\"placeholder\":\"请填写更换原因\"},model:{value:(_vm.replaceOperateForm.reason),callback:function ($$v) {_vm.$set(_vm.replaceOperateForm, \"reason\", $$v)},expression:\"replaceOperateForm.reason\"}})],1),_c('div',{staticClass:\"button-wrap\",staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.inputFormSubmit('replaceOperateForm', 'update')}}},[_vm._v(\"确认\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.replaceOperateShow = false}}},[_vm._v(\"取消\")])],1),_c('div',{staticClass:\"danger-tip\"},[_vm._v(\"\\n        提示：更换后，该小助手号的所有用户当前负责人信息变更，请确定小助手号已经移交。\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"assistant-manage\">\r\n    <!--  搜索  -->\r\n    <el-form\r\n      ref=\"userSearch\"\r\n      label-position=\"left\"\r\n      label-width=\"100px\"\r\n      :model=\"assistantSearch\"\r\n      inline\r\n    >\r\n      <el-form-item label=\"小助手昵称\" class=\"search-item\">\r\n        <el-input\r\n          v-model=\"assistantSearch.name\"\r\n          clearable\r\n          placeholder=\"请输入小助手昵称\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"运营人员\" class=\"search-item\">\r\n        <el-input\r\n          v-model=\"assistantSearch.operator\"\r\n          clearable\r\n          placeholder=\"请输入运营人员姓名\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item style=\"float: right\">\r\n        <el-button type=\"primary\" class=\"select-btn\" @click=\"onSubmit\"\r\n          >查询</el-button\r\n        >\r\n        <el-button type=\"primary\" class=\"select-btn\" @click=\"resetForm\"\r\n          >重置</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n    <!--  列表  -->\r\n    <div class=\"list\">\r\n      <div class=\"title\">\r\n        <el-button type=\"primary\" @click=\"assistantShow = true\"\r\n          >录入小助手</el-button\r\n        >\r\n      </div>\r\n      <el-table\r\n        :data=\"list\"\r\n        style=\"width: 100%\"\r\n        border\r\n        :empty-text=\"hasListInfo\"\r\n      >\r\n        <el-table-column\r\n          fixed\r\n          prop=\"num\"\r\n          label=\"序号\"\r\n          width=\"100\"\r\n          align=\"center\"\r\n        />\r\n        <el-table-column prop=\"name\" label=\"小助手昵称\" align=\"center\" />\r\n        <el-table-column prop=\"operator\" label=\"对应运营人员\" align=\"center\" />\r\n        <el-table-column prop=\"gender\" label=\"性别\" align=\"center\" />\r\n        <el-table-column prop=\"phone\" label=\"手机号码\" align=\"center\" />\r\n        <el-table-column prop=\"department\" label=\"所属部门\" align=\"center\" />\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" size=\"small\" @click=\"setOperator(scope.row)\">\r\n              {{ scope.row.operator === '/' ? '匹配运营人员' : '更换运营人员' }}\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"\r\n                delShow = true\r\n                rowInfo = scope.row\r\n              \"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[10, 20, 50]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"count\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <el-dialog\r\n      title=\"删除提示\"\r\n      :visible.sync=\"delShow\"\r\n      width=\"400px\"\r\n      center\r\n      top=\"30vh\"\r\n    >\r\n      <p class=\"center\">\r\n        删除后，该小助手将不能进行用户跟进，\r\n        <br />请确定是否删除？\r\n      </p>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"delConfirm\">确 定</el-button>\r\n        <el-button type=\"primary\" @click=\"delShow = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"录入小助手\"\r\n      :visible.sync=\"assistantShow\"\r\n      width=\"400px\"\r\n      center\r\n      top=\"30vh\"\r\n    >\r\n      <el-form\r\n        :model=\"inputForm\"\r\n        ref=\"inputForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item\r\n          label=\"小助手\"\r\n          prop=\"assistant\"\r\n          :rules=\"[{ required: true, message: '请选择' }]\"\r\n        >\r\n          <el-select\r\n            v-model=\"inputForm.assistant\"\r\n            filterable\r\n            clearable\r\n            placeholder=\"请选择小助手\"\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in assistantList\"\r\n              :key=\"index\"\r\n              :label=\"item.name\"\r\n              :value=\"index\"\r\n              :loading=\"isLoading\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <div style=\"text-align: center\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"inputFormSubmit('inputForm', 'create')\"\r\n            >确认</el-button\r\n          >\r\n        </div>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"匹配运营人员\"\r\n      :visible.sync=\"operateShow\"\r\n      width=\"400px\"\r\n      center\r\n      top=\"30vh\"\r\n    >\r\n      <el-form\r\n        :model=\"operateForm\"\r\n        ref=\"operateForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item\r\n          label=\"运营人员\"\r\n          prop=\"operator\"\r\n          :rules=\"[{ required: true, message: '请选择' }]\"\r\n        >\r\n          <el-select\r\n            v-model=\"operateForm.operator\"\r\n            clearable\r\n            filterable\r\n            placeholder=\"请选择运营人员\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in operatorList\"\r\n              :key=\"item._id\"\r\n              :label=\"item.name\"\r\n              :value=\"item._id\"\r\n              :loading=\"isLoading\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <div style=\"text-align: center\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"inputFormSubmit('operateForm', 'matching')\"\r\n            >确认</el-button\r\n          >\r\n        </div>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"更换运营人员\"\r\n      :visible.sync=\"replaceOperateShow\"\r\n      width=\"400px\"\r\n      center\r\n      top=\"30vh\"\r\n    >\r\n      <el-form\r\n        :model=\"replaceOperateForm\"\r\n        ref=\"replaceOperateForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item\r\n          label=\"原运营人员\"\r\n          prop=\"oldOperator\"\r\n          clearable\r\n          :rules=\"[{ required: true, message: '原运营人员不能为空' }]\"\r\n        >\r\n          <el-input\r\n            v-model=\"replaceOperateForm.oldOperator\"\r\n            readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"新运营人员\"\r\n          prop=\"newOperator\"\r\n          :rules=\"[{ required: true, message: '请选择' }]\"\r\n        >\r\n          <el-select\r\n            v-model=\"replaceOperateForm.newOperator\"\r\n            clearable\r\n            filterable\r\n            placeholder=\"请选择运营人员\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in operatorList\"\r\n              :key=\"item._id\"\r\n              :label=\"item.name\"\r\n              :value=\"item._id\"\r\n              :loading=\"isLoading\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"更换原因\"\r\n          prop=\"reason\"\r\n          :rules=\"[{ required: true, message: '原因不能为空', target: 'blur' }]\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"replaceOperateForm.reason\"\r\n            clearable\r\n            placeholder=\"请填写更换原因\"\r\n          />\r\n        </el-form-item>\r\n        <div style=\"text-align: center\" class=\"button-wrap\">\r\n          <el-button @click=\"inputFormSubmit('replaceOperateForm', 'update')\"\r\n            >确认</el-button\r\n          >\r\n          <el-button type=\"primary\" @click=\"replaceOperateShow = false\"\r\n            >取消</el-button\r\n          >\r\n        </div>\r\n        <div class=\"danger-tip\">\r\n          提示：更换后，该小助手号的所有用户当前负责人信息变更，请确定小助手号已经移交。\r\n        </div>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getHelper,\r\n  getHelperList,\r\n  createHelper,\r\n  getAdminList,\r\n  matchingHelper,\r\n  updateHelper,\r\n  deleteHelper\r\n} from '@/api/assistantManage'\r\nexport default {\r\n  data() {\r\n    return {\r\n      isOpen: false,\r\n      list: [],\r\n      currentPage: 1,\r\n      delShow: false,\r\n      assistantShow: false,\r\n      operateShow: false,\r\n      replaceOperateShow: false,\r\n      pageSize: 10,\r\n      count: 0,\r\n      rowInfo: '',\r\n      hasListInfo: '暂无数据',\r\n      singleList: [],\r\n      createNameList: [],\r\n      isLoading: false,\r\n      assistantSearch: {\r\n        name: '',\r\n        operator: ''\r\n      },\r\n      inputForm: {\r\n        assistant: ''\r\n      },\r\n      assistantList: [],\r\n      operateForm: {\r\n        operator: ''\r\n      },\r\n      operatorList: [],\r\n      replaceOperateForm: {\r\n        oldOperator: '',\r\n        newOperator: '',\r\n        reason: ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    assistantShow(value) {\r\n      if (!value) {\r\n        this.inputForm = {\r\n          assistant: ''\r\n        }\r\n      }\r\n    },\r\n    operateShow(value) {\r\n      if (!value) {\r\n        this.operateForm = {\r\n          operator: ''\r\n        }\r\n      }\r\n    },\r\n    replaceOperateShow(value) {\r\n      if (!value) {\r\n        this.replaceOperateForm = {\r\n          oldOperator: '',\r\n          newOperator: '',\r\n          reason: ''\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.isLoading = true\r\n    this.getHelper()\r\n    this.getHelperList()\r\n    this.getAdminList()\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      this.currentPage = 1\r\n      this.getHelper(this.assistantSearch)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getHelper(this.assistantSearch)\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.getHelper(this.assistantSearch)\r\n    },\r\n    resetForm() {\r\n      this.assistantSearch = {\r\n        name: '',\r\n        operator: ''\r\n      }\r\n      this.getHelper()\r\n    },\r\n    async delConfirm() {\r\n      const { code, message } = await deleteHelper(this.rowInfo.id)\r\n      if (code === 10000) {\r\n        this.$message.success(message)\r\n        this.delShow = false\r\n        this.getHelper(this.assistantSearch)\r\n      }\r\n    },\r\n    inputFormSubmit(formName, type) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (type === 'create') this.createHelper()\r\n          if (type === 'matching') this.matchingHelper()\r\n          if (type === 'update') this.updateHelper()\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    async getHelper(search) {\r\n      let params = {\r\n        pageSize: this.pageSize,\r\n        page: this.currentPage\r\n      }\r\n      if (search) {\r\n        if (search.name) params.nickname = search.name\r\n        if (search.operator) params.name = search.operator\r\n        this.hasListInfo = '暂无数据，请重新输入关键词'\r\n      } else {\r\n        this.hasListInfo = '暂无数据'\r\n      }\r\n      const { data, code } = await getHelper(params)\r\n      if (code === 10000) {\r\n        this.count = data.count\r\n        this.list = data.list.map((item, index) => {\r\n          return {\r\n            num: (this.currentPage - 1) * this.pageSize + index + 1,\r\n            name: item.nickname,\r\n            operator: item.name || '/',\r\n            gender:\r\n              item.gender === 1 ? '男' : item.gender === 2 ? '女' : '未知',\r\n            phone: item.mobile || '/',\r\n            department: item.department || '/',\r\n            id: item._id,\r\n            wechat_id: item.wechat_id\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async getHelperList() {\r\n      const { code, data } = await getHelperList()\r\n      if (code === 10000) {\r\n        this.assistantList = data\r\n        this.isLoading = false\r\n      }\r\n    },\r\n    async createHelper() {\r\n      const params = {\r\n        wechat_id: this.assistantList[this.inputForm.assistant].userid,\r\n        nickname: this.assistantList[this.inputForm.assistant].name\r\n      }\r\n      const { code, message } = await createHelper(params)\r\n      if (code === 10000) {\r\n        this.assistantShow = false\r\n        this.$message.success(message)\r\n        this.getHelper(this.assistantSearch)\r\n      }\r\n    },\r\n    async getAdminList() {\r\n      const { code, data } = await getAdminList()\r\n      if (code === 10000) {\r\n        this.operatorList = data.filter(v => {\r\n          return v.name\r\n        })\r\n      }\r\n    },\r\n    async matchingHelper() {\r\n      const { code, message } = await matchingHelper(this.rowInfo.id, {\r\n        admin: this.operateForm.operator\r\n      })\r\n      if (code === 10000) {\r\n        this.$message.success(message)\r\n        this.operateShow = false\r\n        this.getHelper(this.assistantSearch)\r\n      }\r\n    },\r\n    async updateHelper() {\r\n      const { code, message } = await updateHelper(this.rowInfo.id, {\r\n        reason: this.replaceOperateForm.reason,\r\n        admin: this.replaceOperateForm.newOperator\r\n      })\r\n      if (code === 10000) {\r\n        this.$message.success(message)\r\n        this.replaceOperateShow = false\r\n        this.getHelper(this.assistantSearch)\r\n      }\r\n    },\r\n    setOperator(row) {\r\n      this.rowInfo = row\r\n      if (row.operator === '/') {\r\n        this.operateShow = true\r\n      } else {\r\n        this.replaceOperateForm.oldOperator = row.operator\r\n        this.replaceOperateShow = true\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.assistant-manage {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  font-size: 14px;\r\n  margin-bottom: 20px;\r\n  /deep/form {\r\n    width: 100%;\r\n    .el-date-editor {\r\n      padding: 0 10px;\r\n      width: 220px;\r\n      height: 32px;\r\n      .el-range-input {\r\n        width: 85px;\r\n        height: 30px;\r\n      }\r\n    }\r\n  }\r\n  .search-item {\r\n    margin-right: 70px;\r\n    color: #17233d;\r\n    /deep/input {\r\n      width: 220px;\r\n      height: 32px;\r\n      line-height: 32px;\r\n    }\r\n    /deep/span {\r\n      top: -3px;\r\n    }\r\n    /deep/.el-input__suffix {\r\n      top: 0;\r\n    }\r\n  }\r\n  .select-btn {\r\n    padding: 0 20px;\r\n    width: 68px;\r\n    height: 32px;\r\n  }\r\n  .arrow {\r\n    float: right;\r\n  }\r\n  .list {\r\n    margin: 20px 0 0;\r\n    width: 100%;\r\n    .title {\r\n      line-height: 32px;\r\n      text-align: right;\r\n      /deep/button {\r\n        margin-bottom: 10px;\r\n        padding: 6px 20px;\r\n        height: 32px;\r\n      }\r\n    }\r\n    /deep/.el-dialog__wrapper {\r\n      button {\r\n        padding: 6px 20px;\r\n        height: 32px;\r\n      }\r\n      .el-dialog__headerbtn {\r\n        top: 10px;\r\n        right: 5px;\r\n      }\r\n    }\r\n    .pagination {\r\n      margin-top: 50px;\r\n      text-align: center;\r\n    }\r\n  }\r\n  /deep/.cell {\r\n    overflow: hidden;\r\n    -ms-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    *:not(button) {\r\n      display: inline-block;\r\n      width: 100%;\r\n    }\r\n  }\r\n  .center {\r\n    line-height: 20px;\r\n    text-align: center;\r\n  }\r\n  .button-wrap {\r\n    button {\r\n      height: 32px;\r\n      line-height: 0;\r\n    }\r\n  }\r\n  .danger-tip {\r\n    margin-top: 10px;\r\n    line-height: 16px;\r\n    color: #f00;\r\n  }\r\n  .el-dialog__wrapper {\r\n    /deep/.el-input__inner {\r\n      width: 220px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=320db93f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=320db93f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"320db93f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=320db93f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=320db93f&lang=scss&scoped=true&\""],"sourceRoot":""}