{"version":3,"sources":["webpack:///./src/views/crm/components/CustomerTable.vue?d3bc","webpack:///./src/views/crm/components/RelativeDialog.vue?33cf","webpack:///src/views/crm/components/RelativeDialog.vue","webpack:///./src/views/crm/components/RelativeDialog.vue?7299","webpack:///./src/views/crm/components/RelativeDialog.vue","webpack:///src/views/crm/components/CustomerTable.vue","webpack:///./src/views/crm/components/CustomerTable.vue?f974","webpack:///./src/views/crm/components/CustomerTable.vue","webpack:///./src/views/crm/components/CollapseBtn.vue?710a","webpack:///src/views/crm/components/CollapseBtn.vue","webpack:///./src/views/crm/components/CollapseBtn.vue?d91a","webpack:///./src/views/crm/components/CollapseBtn.vue","webpack:///./src/views/crm/components/SearchForm.vue?d147","webpack:///src/views/crm/components/SearchForm.vue","webpack:///./src/views/crm/components/SearchForm.vue?2589","webpack:///./src/views/crm/components/SearchForm.vue","webpack:///./src/views/crm/components/ChangeSupervisorDialog.vue?ad83","webpack:///./src/views/crm/components/ChangeSupervisorDialog.vue?87eb","webpack:///src/views/crm/components/ChangeSupervisorDialog.vue","webpack:///./src/views/crm/components/ChangeSupervisorDialog.vue?e22f","webpack:///./src/views/crm/components/ChangeSupervisorDialog.vue","webpack:///./src/views/crm/components/RelativeDialog.vue?5e69","webpack:///./src/views/crm/components/RelativeDialog.vue?577f"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","operation","column","tableData","currentPage","pageSize","total","on","followCustomer","detail","handleStatusColClick","handleSizeChange","handleCurrentChange","scopedSlots","_u","key","fn","slotProps","row","_v","$event","clearRelative","goToRelative","_s","supervisor","changeCharge","currentCustomerId","followDialogVisible","getCustomerList","relativeDialogVisible","staticRenderFns","handleClose","staticClass","customerId","slot","cancelRelative","props","type","Boolean","default","String","components","CustomerBasicInfo","data","pickerOptions","relativeForm","action","actionDate","desc","methods","res","code","$emit","component","nowPage","show","fixed","size","width","minWidth","label","btns","loading","customerTypeValue","moduleName","dialogType","dialogContent","titleOprator","dialogTitle","dialogVisible","formItem","formData","MyTable","FollowCustomerDialog","RelativeDialog","searchParams","Object","searchFlag","watch","val","created","fieldInit","ifShowChargeColomn","$route","meta","length","$router","push","path","query","userId","id","forEach","item","dialogShow","$nextTick","index","setTableData","list","map","current_page","page_size","params","ifShowFun","searchFormShowText","class","searchFormShow","computed","ref","form","resetForm","searchSubmit","customerListForm","showFormBorder","showTitle","labelWidth","labelPositon","style","btnStyle","hasSubmit","btnRight","cancleShow","submitText","cancleText","initData","user_id","weapp_info","baby_name","sourceChannel","user_type","createAt","creator","relative_status","fd_sign","showCharge","optionsVal","MyForm","formInit","source_channel","thirdValue","resetChangeForm","changeType","_e","changeForm","required","message","trigger","model","callback","$$v","$set","preSuperVisor","changeSuperVisor","preSupervisor","SupervisorSelect","currentSuperVisor","reason","$refs","validate","valid","prev","now","customer","resetFields"],"mappings":"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","file":"static/js/chunk-6cb48137.68aec711.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('MyTable',{attrs:{\"size\":\"mini\",\"stripe\":false,\"border\":true,\"multiple\":false,\"outlineBorder\":false,\"operation\":_vm.operation,\"column\":_vm.column,\"data\":_vm.tableData,\"currentPage\":_vm.currentPage,\"pageSize\":_vm.pageSize,\"total\":_vm.total},on:{\"followCustomer\":_vm.followCustomer,\"detail\":_vm.detail,\"customerTableSwitchChange\":_vm.handleStatusColClick,\"handleSizeChange\":_vm.handleSizeChange,\"handleCurrentChange\":_vm.handleCurrentChange},scopedSlots:_vm._u([{key:\"isRelative\",fn:function(slotProps){return [(slotProps.row.isRelative)?_c('div',[_c('div',[_vm._v(\"是\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.clearRelative(slotProps.row)}}},[_vm._v(\"\\n          解除关联\\n        \")])],1):_c('div',[_c('div',[_vm._v(\"否\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.goToRelative(slotProps.row)}}},[_vm._v(\"\\n          关联客户\\n        \")])],1)]}},{key:\"supervisor\",fn:function(slotProps){return [_c('div',[_c('div',[_vm._v(\"\\n          \"+_vm._s(slotProps.row.supervisor && slotProps.row.supervisor.name\n              ? slotProps.row.supervisor.name\n              : '-')+\"\\n        \")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.changeCharge(slotProps.row)}}},[_vm._v(\"更换负责人\\n        \")])],1)]}}])}),_c('follow-customer-dialog',{attrs:{\"customer-id\":_vm.currentCustomerId,\"followDialogVisible\":_vm.followDialogVisible},on:{\"closeDialog\":function($event){_vm.followDialogVisible = false},\"followSuccess\":_vm.getCustomerList}}),_c('RelativeDialog',{attrs:{\"customer-id\":_vm.currentCustomerId,\"relativeDialogVisible\":_vm.relativeDialogVisible},on:{\"cancelRelativeSuccess\":_vm.getCustomerList,\"closeDialog\":function($event){_vm.relativeDialogVisible = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"确认解除关联信息提示\",\"visible\":_vm.relativeDialogVisible,\"width\":\"45%\",\"before-close\":_vm.handleClose,\"center\":false},on:{\"update:visible\":function($event){_vm.relativeDialogVisible=$event}}},[_c('div',{staticClass:\"margin-bottom-30\"},[_c('CustomerBasicInfo',{attrs:{\"customer-id\":_vm.customerId,\"ellipsis-length\":12}})],1),_c('div',{staticClass:\"relative\"},[_vm._v(\"\\n    确认解除关联该客户吗？\\n  \")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleClose}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.cancelRelative}},[_vm._v(\"确认\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"确认解除关联信息提示\"\r\n    :visible.sync=\"relativeDialogVisible\"\r\n    width=\"45%\"\r\n    :before-close=\"handleClose\"\r\n    :center=\"false\"\r\n  >\r\n    <div class=\"margin-bottom-30\">\r\n      <CustomerBasicInfo\r\n        :customer-id=\"customerId\"\r\n        :ellipsis-length=\"12\"\r\n      ></CustomerBasicInfo>\r\n    </div>\r\n    <div class=\"relative\">\r\n      确认解除关联该客户吗？\r\n    </div>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"handleClose\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"cancelRelative\">确认</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport CustomerBasicInfo from './CustomerBasicInfo'\r\nimport { pickerOptionsTodayAndBefore } from '@/utils/crm'\r\nimport { cancelRelative } from '@/api/crmManage'\r\nexport default {\r\n  name: 'relativeCustomerDialog',\r\n  props: {\r\n    relativeDialogVisible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    customerId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: {\r\n    CustomerBasicInfo\r\n  },\r\n  data() {\r\n    return {\r\n      pickerOptions: pickerOptionsTodayAndBefore,\r\n      relativeForm: {\r\n        action: '',\r\n        actionDate: '',\r\n        desc: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    cancelRelative() {\r\n      cancelRelative(this.customerId).then(res => {\r\n        if (res.code === 20000) {\r\n          this.$message.success('取消关联成功')\r\n          this.$emit('cancelRelativeSuccess')\r\n        }\r\n      })\r\n    },\r\n    handleClose() {\r\n      this.$emit('closeDialog')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.relative {\r\n  padding: 0 30px;\r\n  line-height: 30px;\r\n  font-size: 14px;\r\n}\r\n.form-tip {\r\n  margin-right: 30px;\r\n  font-size: 12px;\r\n  text-align: right;\r\n  color: #f8747f;\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.relative-dialog__date-picker {\r\n  .el-input__inner {\r\n    width: 450px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelativeDialog.vue?vue&type=template&id=49eb1474&scoped=true&\"\nimport script from \"./RelativeDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./RelativeDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RelativeDialog.vue?vue&type=style&index=0&id=49eb1474&scoped=true&lang=scss&\"\nimport style1 from \"./RelativeDialog.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49eb1474\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-loading=\"loading\">\r\n    <MyTable\r\n      size=\"mini\"\r\n      :stripe=\"false\"\r\n      :border=\"true\"\r\n      :multiple=\"false\"\r\n      :outlineBorder=\"false\"\r\n      :operation=\"operation\"\r\n      :column=\"column\"\r\n      :data=\"tableData\"\r\n      :currentPage=\"currentPage\"\r\n      :pageSize=\"pageSize\"\r\n      :total=\"total\"\r\n      @followCustomer=\"followCustomer\"\r\n      @detail=\"detail\"\r\n      @customerTableSwitchChange=\"handleStatusColClick\"\r\n      @handleSizeChange=\"handleSizeChange\"\r\n      @handleCurrentChange=\"handleCurrentChange\"\r\n    >\r\n      <template v-slot:isRelative=\"slotProps\">\r\n        <div v-if=\"slotProps.row.isRelative\">\r\n          <div>是</div>\r\n          <el-button type=\"text\" @click=\"clearRelative(slotProps.row)\">\r\n            解除关联\r\n          </el-button>\r\n        </div>\r\n        <div v-else>\r\n          <div>否</div>\r\n          <el-button type=\"text\" @click=\"goToRelative(slotProps.row)\">\r\n            关联客户\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n      <template v-slot:supervisor=\"slotProps\">\r\n        <div>\r\n          <div>\r\n            {{\r\n              slotProps.row.supervisor && slotProps.row.supervisor.name\r\n                ? slotProps.row.supervisor.name\r\n                : '-'\r\n            }}\r\n          </div>\r\n          <el-button type=\"text\" @click=\"changeCharge(slotProps.row)\"\r\n            >更换负责人\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n    </MyTable>\r\n    <follow-customer-dialog\r\n      :customer-id=\"currentCustomerId\"\r\n      :followDialogVisible=\"followDialogVisible\"\r\n      @closeDialog=\"followDialogVisible = false\"\r\n      @followSuccess=\"getCustomerList\"\r\n    ></follow-customer-dialog>\r\n    <RelativeDialog\r\n      :customer-id=\"currentCustomerId\"\r\n      :relativeDialogVisible=\"relativeDialogVisible\"\r\n      @cancelRelativeSuccess=\"getCustomerList\"\r\n      @closeDialog=\"relativeDialogVisible = false\"\r\n    ></RelativeDialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getField } from '../getFiled'\r\nimport MyTable from '@/components/MyTable'\r\nimport { getCustomerStoreList } from '@/api/crmManage'\r\nimport FollowCustomerDialog from './FollowCustomerDialog'\r\nimport RelativeDialog from './RelativeDialog'\r\n\r\nexport default {\r\n  data() {\r\n    // 表格操作配置\r\n    var operation = {\r\n      nowPage: 'customerTable',\r\n      show: true,\r\n      fixed: 'right',\r\n      size: 'small',\r\n      width: 180,\r\n      minWidth: 100,\r\n      label: '操作',\r\n      btns: [\r\n        {\r\n          type: 'text',\r\n          size: '',\r\n          content: '查看详情',\r\n          icon: '',\r\n          handle: 'detail',\r\n          class: 'button-operator'\r\n        },\r\n        {\r\n          type: 'text',\r\n          size: '',\r\n          content: '跟进客户',\r\n          icon: '',\r\n          handle: 'followCustomer',\r\n          class: 'button-operator'\r\n        }\r\n      ]\r\n    }\r\n    return {\r\n      currentCustomerId: '',\r\n      followDialogVisible: false,\r\n      relativeDialogVisible: false,\r\n      loading: false,\r\n      customerTypeValue: '',\r\n      moduleName: '客户类型',\r\n      dialogType: 'status',\r\n      dialogContent: '',\r\n      titleOprator: '新增',\r\n      dialogTitle: '',\r\n      dialogVisible: false,\r\n      column: [],\r\n      formItem: [],\r\n      formData: {},\r\n      tableData: [],\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      total: 0,\r\n      operation: operation // 操作按钮\r\n    }\r\n  },\r\n  components: {\r\n    MyTable,\r\n    FollowCustomerDialog,\r\n    RelativeDialog\r\n  },\r\n  props: {\r\n    supervisor: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    searchParams: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    searchFlag: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  watch: {\r\n    searchFlag(val) {\r\n      if (val === true) {\r\n        this.getCustomerList()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fieldInit()\r\n    this.getCustomerList()\r\n  },\r\n  methods: {\r\n    ifShowChargeColomn() {\r\n      if (this.$route.meta.name === 'owner' && this.column.length) {\r\n        this.column[6].show = false\r\n      } else if (this.column.length) {\r\n        this.column[6].show = true\r\n      }\r\n    },\r\n    changeCharge(row) {\r\n      this.$emit('changeCharge', row)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getCustomerList()\r\n    },\r\n    goToRelative(row) {\r\n      this.$router.push({\r\n        path: `/crm/customer/${this.$route.meta.name}/related`,\r\n        query: {\r\n          userId: row.id\r\n        }\r\n      })\r\n    },\r\n    clearRelative(row) {\r\n      this.currentCustomerId = row.id\r\n      // 解除关联\r\n      this.relativeDialogVisible = true\r\n    },\r\n    fieldInit() {\r\n      // 获取字段\r\n      var column = getField('customerList')\r\n      column.forEach(item => {\r\n        if (!!item.width && item.width != 'auto') {\r\n          item.width = '300'\r\n        }\r\n      })\r\n      this.column = column\r\n      this.ifShowChargeColomn()\r\n    },\r\n    handleStatusColClick({ row, $index }) {\r\n      this.dialogTitle = '状态切换提示'\r\n      this.dialogType = 'status'\r\n      this.dialogContent = `确认${row.status ? '开启' : '关闭'}该客户类型吗？`\r\n      this.dialogShow()\r\n    },\r\n    // 更新数据\r\n    detail(row) {\r\n      this.$router.push({\r\n        path: `/crm/customer/${this.$route.meta.name}/detail/${row.id}`\r\n      })\r\n    },\r\n    followCustomer(row) {\r\n      // 跟随客户\r\n      this.currentCustomerId = row.id\r\n      this.$nextTick(() => {\r\n        this.followDialogVisible = true\r\n      })\r\n    },\r\n    // 分页切换\r\n    handleCurrentChange(index) {\r\n      this.currentPage = index\r\n      this.getCustomerList()\r\n    },\r\n    setTableData({ list }) {\r\n      this.tableData = list.map((item, index) => ({\r\n        nickname: item.nickname ? item.nickname : '',\r\n        weapp_id: item.weapp_id ? item.weapp_id : '',\r\n        customer_ask: item.customer_ask ? item.customer_ask : '',\r\n        user_type: item.user_type ? item.user_type : '-',\r\n        isRelative: item.is_relative ? item.is_relative : false,\r\n        have_contract: item.have_contract ? item.have_contract : '-',\r\n        fd_sign_status: item.fd_sign_status ? item.fd_sign_status : '未知',\r\n        is_during_pregnancy: item.is_during_pregnancy\r\n          ? item.is_during_pregnancy\r\n          : '-',\r\n        remark: item.remark ? item.remark : '-',\r\n        supervisor: item.supervisor ? item.supervisor : '',\r\n        creator: item.creator ? item.creator : '-',\r\n        createAt: item.created_at ? this.formatTime(item.created_at) : '-',\r\n        updatedAt: item.updated_at ? this.formatTime(item.updated_at) : '-',\r\n        source_channel: item.source_channel ? item.source_channel : '-',\r\n        babys: item.babys ? item.babys : '-',\r\n        id: item._id\r\n      }))\r\n    },\r\n    getCustomerList() {\r\n      const pageAttr = {\r\n        current_page: this.currentPage,\r\n        page_size: this.pageSize\r\n      }\r\n      this.relativeDialogVisible = false\r\n      this.followDialogVisible = false\r\n      this.loading = true\r\n      const params = Object.assign({}, pageAttr, this.searchParams)\r\n      params.supervisor = this.supervisor ? this.supervisor : params.supervisor\r\n      getCustomerStoreList(params)\r\n        .then(res => {\r\n          this.loading = false\r\n          if (res) {\r\n            this.total = res.data.count\r\n            this.setTableData(res.data)\r\n            this.$emit('searchFlag', false)\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.loading = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerTable.vue?vue&type=template&id=7d07abaf&\"\nimport script from \"./CustomerTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{staticClass:\"crm__search__collapse-btn\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.ifShowFun}},[_vm._v(\"\\n    \"+_vm._s(_vm.searchFormShowText)+\"\\n    \"),_c('i',{staticClass:\"el-icon--right\",class:_vm.searchFormShow ? 'el-icon-arrow-up' : 'el-icon-arrow-down'})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-button class=\"crm__search__collapse-btn\" type=\"text\" @click=\"ifShowFun\">\r\n      {{ searchFormShowText }}\r\n      <i\r\n        class=\"el-icon--right\"\r\n        :class=\"searchFormShow ? 'el-icon-arrow-up' : 'el-icon-arrow-down'\"\r\n      />\r\n    </el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {}\r\n  },\r\n  props: {\r\n    searchFormShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  computed: {\r\n    searchFormShowText() {\r\n      return this.searchFormShow ? '收起' : '展开搜索条件'\r\n    }\r\n  },\r\n  methods: {\r\n    ifShowFun() {\r\n      this.$emit('ifShowFun')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollapseBtn.vue?vue&type=template&id=3dc6fcc8&\"\nimport script from \"./CollapseBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CollapseBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('MyForm',{ref:\"operatorActionAddForm\",attrs:{\"form\":_vm.form,\"formData\":_vm.formData,\"formItem\":_vm.formItem},on:{\"resetForm\":_vm.resetForm,\"submit\":_vm.searchSubmit}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <MyForm\r\n    :form=\"form\"\r\n    ref=\"operatorActionAddForm\"\r\n    :formData=\"formData\"\r\n    :formItem=\"formItem\"\r\n    @resetForm=\"resetForm\"\r\n    @submit=\"searchSubmit\"\r\n  ></MyForm>\r\n</template>\r\n<script>\r\nimport { getFormField } from '../getFiled'\r\nimport MyForm from '@/components/MyForm'\r\nimport _ from 'lodash'\r\nexport default {\r\n  data() {\r\n    // 表单配置\r\n    var customerListForm = {\r\n      showFormBorder: false,\r\n      showTitle: false,\r\n      ref: 'operatorActionAddForm',\r\n      labelWidth: '120px',\r\n      labelPositon: 'right',\r\n      style: 'notprepend',\r\n      column: 3,\r\n      btnStyle: 'inline',\r\n      hasSubmit: true,\r\n      btnRight: true,\r\n      cancleShow: true,\r\n      submitText: '搜索',\r\n      cancleText: '重置'\r\n    }\r\n    return {\r\n      searchParams: {},\r\n      formItem: [],\r\n      formData: {},\r\n      form: customerListForm,\r\n      initData: {\r\n        user_id: '',\r\n        weapp_info: '',\r\n        baby_name: '',\r\n        sourceChannel: '',\r\n        user_type: '',\r\n        createAt: '',\r\n        creator: '',\r\n        supervisor: '',\r\n        relative_status: '',\r\n        fd_sign: ''\r\n      }\r\n    }\r\n  },\r\n\r\n  props: {\r\n    showCharge: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    optionsVal: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    moduleName: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: {\r\n    MyForm\r\n  },\r\n  created() {\r\n    this.formInit(this.initData)\r\n    if (this.showCharge === false) {\r\n      this.formItem[5].show = false\r\n    } else {\r\n      this.formItem[5].show = true\r\n    }\r\n  },\r\n  methods: {\r\n    searchSubmit(val) {\r\n      if (val && val.sourceChannel) {\r\n        const thirdValue = _.flatMap(val.sourceChannel, 2)\r\n        val.source_channel = thirdValue.length ? thirdValue : ''\r\n      }\r\n      this.$emit('search', val)\r\n    },\r\n    resetForm() {\r\n      this.formData.createAt = ''\r\n      this.$emit('search', {})\r\n    },\r\n    formInit(row) {\r\n      this.formItem = getFormField('customerListSearch', 'item')\r\n      this.formData = row ? row : getFormField('customerListSearch', 'data')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchForm.vue?vue&type=template&id=34da4c75&\"\nimport script from \"./SearchForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeSupervisorDialog.vue?vue&type=style&index=0&id=677a4585&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeSupervisorDialog.vue?vue&type=style&index=0&id=677a4585&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"更换负责人\",\"visible\":_vm.followDialogVisible,\"width\":\"45%\",\"before-close\":_vm.handleClose,\"center\":false},on:{\"update:visible\":function($event){_vm.followDialogVisible=$event},\"opened\":_vm.resetChangeForm}},[(_vm.changeType === 'single')?_c('div',{staticClass:\"margin-bottom-30\"},[_c('customer-basic-info',{attrs:{\"customer-id\":_vm.customerId,\"ellipsis-length\":12}})],1):_vm._e(),_c('div',{staticClass:\"follow\"},[_c('el-form',{ref:\"changeForm\",attrs:{\"model\":_vm.changeForm,\"label-position\":'right',\"label-width\":\"120px\"}},[_c('SupervisorSelect',{attrs:{\"prop\":\"preSuperVisor\",\"label\":'选择原负责人',\"selectDisable\":_vm.changeType === 'single',\"rules\":[\n          { required: true, message: '请选择负责人', trigger: 'change' }\n        ]},model:{value:(_vm.changeForm.preSuperVisor),callback:function ($$v) {_vm.$set(_vm.changeForm, \"preSuperVisor\", $$v)},expression:\"changeForm.preSuperVisor\"}}),_c('SupervisorSelect',{attrs:{\"label\":'选择新负责人',\"prop\":\"currentSuperVisor\",\"filter-option\":_vm.changeForm.preSuperVisor,\"rules\":[\n          { required: true, message: '请选择负责人', trigger: 'change' }\n        ]},model:{value:(_vm.changeForm.currentSuperVisor),callback:function ($$v) {_vm.$set(_vm.changeForm, \"currentSuperVisor\", $$v)},expression:\"changeForm.currentSuperVisor\"}}),_c('el-form-item',{attrs:{\"label\":\"更换原因\",\"prop\":\"reason\",\"rules\":[\n          { required: true, message: '请填写更换原因', trigger: 'blur' }\n        ]}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"show-word-limit\":\"\",\"maxlength\":\"100\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.changeForm.reason),callback:function ($$v) {_vm.$set(_vm.changeForm, \"reason\", $$v)},expression:\"changeForm.reason\"}})],1)],1)],1),_c('div',{staticClass:\"form-tip\"},[(_vm.changeType === 'batch')?_c('div',[_vm._v(\"\\n      此操作会将原负责人的所有客户全部转移至新负责人，请谨慎操作！\\n    \")]):_vm._e(),_c('div',[_vm._v(\"\\n      请确认新负责人已录入过客户信息！\\n    \")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeSuperVisor}},[_vm._v(\"确认更换\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"更换负责人\"\r\n    :visible.sync=\"followDialogVisible\"\r\n    width=\"45%\"\r\n    @opened=\"resetChangeForm\"\r\n    :before-close=\"handleClose\"\r\n    :center=\"false\"\r\n  >\r\n    <div class=\"margin-bottom-30\" v-if=\"changeType === 'single'\">\r\n      <customer-basic-info\r\n        :customer-id=\"customerId\"\r\n        :ellipsis-length=\"12\"\r\n      ></customer-basic-info>\r\n    </div>\r\n    <div class=\"follow\">\r\n      <el-form\r\n        :model=\"changeForm\"\r\n        :label-position=\"'right'\"\r\n        ref=\"changeForm\"\r\n        label-width=\"120px\"\r\n      >\r\n        <SupervisorSelect\r\n          prop=\"preSuperVisor\"\r\n          :label=\"'选择原负责人'\"\r\n          v-model=\"changeForm.preSuperVisor\"\r\n          :selectDisable=\"changeType === 'single'\"\r\n          :rules=\"[\r\n            { required: true, message: '请选择负责人', trigger: 'change' }\r\n          ]\"\r\n        ></SupervisorSelect>\r\n        <SupervisorSelect\r\n          :label=\"'选择新负责人'\"\r\n          v-model=\"changeForm.currentSuperVisor\"\r\n          prop=\"currentSuperVisor\"\r\n          :filter-option=\"changeForm.preSuperVisor\"\r\n          :rules=\"[\r\n            { required: true, message: '请选择负责人', trigger: 'change' }\r\n          ]\"\r\n        ></SupervisorSelect>\r\n        <el-form-item\r\n          label=\"更换原因\"\r\n          prop=\"reason\"\r\n          :rules=\"[\r\n            { required: true, message: '请填写更换原因', trigger: 'blur' }\r\n          ]\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"3\"\r\n            show-word-limit\r\n            maxlength=\"100\"\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"changeForm.reason\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"form-tip\">\r\n      <div v-if=\"changeType === 'batch'\">\r\n        此操作会将原负责人的所有客户全部转移至新负责人，请谨慎操作！\r\n      </div>\r\n      <div>\r\n        请确认新负责人已录入过客户信息！\r\n      </div>\r\n    </div>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"changeSuperVisor\">确认更换</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport SupervisorSelect from '@/components/crm/SelectComponents/SupervisorSelect'\r\nimport CustomerBasicInfo from './CustomerBasicInfo'\r\nimport { pickerOptionsTodayAndBefore } from '@/utils/crm'\r\nimport { changeSupervisor } from '@/api/crmManage'\r\n\r\nexport default {\r\n  name: 'changeSupervisorDialog',\r\n  props: {\r\n    followDialogVisible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    customerId: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    changeType: {\r\n      type: String,\r\n      default: 'single'\r\n    },\r\n    preSupervisor: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: {\r\n    SupervisorSelect,\r\n    CustomerBasicInfo\r\n  },\r\n  data() {\r\n    return {\r\n      pickerOptions: pickerOptionsTodayAndBefore,\r\n      changeForm: {\r\n        preSuperVisor: '',\r\n        currentSuperVisor: '',\r\n        reason: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeSuperVisor() {\r\n      // 表单验证成功，抛出关闭事件\r\n      this.$refs.changeForm.validate(valid => {\r\n        if (valid) {\r\n          const data = {\r\n            prev: this.changeForm.preSuperVisor,\r\n            now: this.changeForm.currentSuperVisor,\r\n            reason: this.changeForm.reason\r\n          }\r\n          if (this.changeType === 'single') {\r\n            data.customer = this.customerId\r\n          }\r\n\r\n          changeSupervisor(data).then(res => {\r\n            if (res.code === 20000) {\r\n              this.$message.success('更换负责人成功')\r\n              this.$emit('changeSuccess')\r\n              this.$emit('closeDialog')\r\n            }\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    handleClose() {\r\n      this.$emit('closeDialog')\r\n    },\r\n    resetChangeForm() {\r\n      this.$refs.changeForm.resetFields()\r\n      // 数据回显\r\n      this.changeForm.preSuperVisor = this.preSupervisor\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.follow {\r\n  padding: 0 30px;\r\n  line-height: 30px;\r\n  font-size: 14px;\r\n}\r\n.form-tip {\r\n  margin-right: 30px;\r\n  line-height: 20px;\r\n  font-size: 12px;\r\n  text-align: right;\r\n  color: #f8747f;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeSupervisorDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeSupervisorDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeSupervisorDialog.vue?vue&type=template&id=677a4585&scoped=true&\"\nimport script from \"./ChangeSupervisorDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeSupervisorDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeSupervisorDialog.vue?vue&type=style&index=0&id=677a4585&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"677a4585\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeDialog.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeDialog.vue?vue&type=style&index=1&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeDialog.vue?vue&type=style&index=0&id=49eb1474&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativeDialog.vue?vue&type=style&index=0&id=49eb1474&scoped=true&lang=scss&\""],"sourceRoot":""}