{"version":3,"sources":["webpack:///./src/views/learning-admin/common.js","webpack:///./src/views/learning-admin/plan-list/edit_list_looking.vue?7b6d","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./src/views/learning-admin/plan-list/edit_list_looking.vue?9c5a","webpack:///src/views/learning-admin/plan-list/edit_list_looking.vue","webpack:///./src/views/learning-admin/plan-list/edit_list_looking.vue?1368","webpack:///./src/views/learning-admin/plan-list/edit_list_looking.vue","webpack:///./src/views/learning-admin/plan-list/edit_list_looking.vue?48b1"],"names":["numberTranseferCharAt","n","arrNum","s","i","length","parseInt","charAt","setTreeDataTitle","list","level","$index","res","levelTitleFn","levelKey","index","Error","forEach","item","_item","JSON","parse","stringify","children","data","ptitle","title","push","$export","S","isInteger","isObject","floor","Math","module","exports","it","isFinite","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_v","_s","haddleType","directives","name","rawName","value","isConfirm","expression","attrs","active","nativeOn","$event","switchFirstStep","switchSecondStep","class","staticStyle","formData","rules","disabled","model","callback","$$v","$set","makeName","intervalNumberdisabled","on","intervalChange","_l","NumArr","num","key","stage_number","chnNumChar","_n","intervalNum","intervalItem","intervalIndex","required","type","message","trigger","stage_study_number","_e","nextStep","treeKey","frameAdminData","defaultProps","scopedSlots","_u","fn","node","label","event","handleAdd","haddleEdit","remove","haddleCreatePlan","haddleCancel","haddleConfirm","showDialog","BaseframeAdminData","handleSelectTreeNodeClick","staticRenderFns","InitTree","temp","pos","Array","apply","id","acc","len","validateJobRotationDay","isEdit","job_rotation_position","job_rotation_day","job_test_day","copyBaseInfo","x","y","planListId","addIndex","computed","created","$route","query","getSinglePlan","mounted","methods","slice","initTreeData","map","parent_id","tips","$confirm","confirmButtonText","cancelButtonText","center","findSecondTreeByid","secondTrees","now_index","curActiveNodeKey","splice","secondtree","changeNodeDisable","resetCopyTreeSencendDisable","isArray","secondtrees","citem","adminSecondTree","copySecondTree","$refs","append","updateKeyChildren","isRepeat","hash","arr","component"],"mappings":"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","file":"static/js/chunk-0215a714.927d02f4.js","sourcesContent":["export function numberTranseferCharAt(n) {\r\n  const arrNum = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十']\r\n  // 设置中文转化\r\n  let s = ''\r\n  n = '' + n // 数字转为字符串\r\n  for (let i = 0; i < n.length; i++) {\r\n    s += arrNum[parseInt(n.charAt(i))]\r\n  }\r\n  if (s.length === 2) {\r\n    // 两位数的时候\r\n    // 如果个位数是0的时候，令改成十\r\n    if (s.charAt(1) === arrNum[0]) {\r\n      s = s.charAt(0) + arrNum[10]\r\n      // 如果是一十改成十\r\n      if (s === arrNum[1] + arrNum[10]) {\r\n        s = arrNum[10]\r\n      }\r\n    } else if (s.charAt(0) === arrNum[1]) {\r\n      // 如果十位数是一的话改成十\r\n      s = arrNum[10] + s.charAt(1)\r\n    }\r\n  }\r\n  return s\r\n}\r\nexport function setTreeDataTitle(list, level = 1, $index = 0) {\r\n  const res = []\r\n  const levelTitleFn = (levelKey => {\r\n    switch (levelKey) {\r\n      case 1:\r\n        return numberTranseferCharAt\r\n      case 2:\r\n        return index => 1 + index\r\n      case 3:\r\n        return index => $index + 1 + '.' + (1 + index)\r\n      default:\r\n        throw new Error('超过3级')\r\n    }\r\n  })(level)\r\n  list.forEach((item, index) => {\r\n    const _item = JSON.parse(JSON.stringify(item))\r\n    delete _item.children\r\n    const data = {\r\n      ...item,\r\n      ptitle: levelTitleFn(index) + ' ' + item.title\r\n    }\r\n    if (item.children && item.children.length > 0) {\r\n      data.children = setTreeDataTitle(item.children, level + 1, index)\r\n    }\r\n    res.push(data)\r\n  })\r\n  return res\r\n}\r\n// 新的方法\r\n// function setItemTitile(data) {\r\n//   data.forEach((item, index) => {\r\n//     if (item.num === 'second') {\r\n//       item.ptitle = index + 1 + '  ' + item.title\r\n//       if (item.children !== undefined) {\r\n//         item.children.map(sub => {\r\n//           sub.pIndex = index + 1\r\n//         })\r\n//       }\r\n//     } else if (item.num === 'third') {\r\n//       item.ptitle = item.pIndex + '.' + (index + 1) + '  ' + item.title\r\n//     }\r\n\r\n//     if (item.children !== undefined) {\r\n//       this.setItem(item.children)\r\n//     }\r\n//   })\r\n// }\r\n// export function setTreeDataTitle(treeData) {\r\n//   if (treeData) {\r\n//     treeData.forEach((item, index) => {\r\n//       item.ptitle = numberTranseferCharAt(index) + ' ' + item.title\r\n//       if (item.children !== undefined) {\r\n//         setItemTitile(item.children)\r\n//       }\r\n//     })\r\n//   }\r\n// }\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_list_looking.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_list_looking.vue?vue&type=style&index=0&lang=scss&\"","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"add-plan-box\",staticClass:\"add-plan-box\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.haddleType)+\"计划\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isConfirm),expression:\"!isConfirm\"}],staticClass:\"el-steps-box\"},[_c('el-steps',{attrs:{\"active\":_vm.active,\"align-center\":\"\",\"space\":\"38%\",\"process-status\":\"process\"}},[_c('el-step',{staticClass:\"baseInfo\",attrs:{\"title\":\"计划基本信息\"},nativeOn:{\"click\":function($event){return _vm.switchFirstStep($event)}}}),_c('el-step',{attrs:{\"title\":\"计划内容信息\"},nativeOn:{\"click\":function($event){return _vm.switchSecondStep($event)}}})],1)],1),_c('div',{staticClass:\"step-content\",class:_vm.isConfirm ? 'complete-plan' : ''},[(_vm.active === 0)?_c('div',{staticClass:\"step1-content\"},[_c('el-form',{ref:\"formData\",staticStyle:{\"margin\":\"0 auto\",\"width\":\"540px\"},attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"82px\"}},[_c('el-form-item',{attrs:{\"label\":\"计划名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"type\":\"text\",\"placeholder\":\"请输入计划名称\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"制定人\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"制定人名称取自钉钉登录名\"},model:{value:(_vm.makeName),callback:function ($$v) {_vm.makeName=$$v},expression:\"makeName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"阶段数\",\"prop\":\"stage_number\"}},[_c('el-select',{attrs:{\"disabled\":_vm.intervalNumberdisabled,\"clearable\":\"\",\"placeholder\":\"请选择阶段数\"},on:{\"change\":_vm.intervalChange},model:{value:(_vm.formData.stage_number),callback:function ($$v) {_vm.$set(_vm.formData, \"stage_number\", $$v)},expression:\"formData.stage_number\"}},_vm._l((_vm.NumArr(6)),function(num){return _c('el-option',{key:num,attrs:{\"label\":num,\"value\":num}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"轮岗位置\",\"prop\":\"job_rotation_position\"}},[_c('el-select',{attrs:{\"disabled\":_vm.disabled,\"clearable\":\"\",\"placeholder\":\"请选择阶段数\"},model:{value:(_vm.formData.job_rotation_position),callback:function ($$v) {_vm.$set(_vm.formData, \"job_rotation_position\", $$v)},expression:\"formData.job_rotation_position\"}},_vm._l((_vm.NumArr(_vm.formData.stage_number || 0)),function(num){return _c('el-option',{key:num,attrs:{\"label\":_vm.chnNumChar(num),\"value\":num}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"轮岗天数\",\"prop\":\"job_rotation_day\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请输入阿拉伯数字，如：1，2…\"},model:{value:(_vm.formData.job_rotation_day),callback:function ($$v) {_vm.$set(_vm.formData, \"job_rotation_day\", _vm._n($$v))},expression:\"formData.job_rotation_day\"}})],1),_c('el-form-item',{attrs:{\"label\":\"试岗天数\",\"prop\":\"job_test_day\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请输入阿拉伯数字，如：1，2…\"},model:{value:(_vm.formData.job_test_day),callback:function ($$v) {_vm.$set(_vm.formData, \"job_test_day\", _vm._n($$v))},expression:\"formData.job_test_day\"}})],1),(_vm.intervalNum > 0)?_c('el-form-item',{staticClass:\"learningNumber\",attrs:{\"label\":\"各阶段每天学习节数\",\"required\":\"\"}},_vm._l((_vm.intervalNum),function(intervalItem,intervalIndex){return _c('el-col',{key:intervalIndex,staticClass:\"el-col-marginLeft\",attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"rules\":{\n                required: true,\n                type: 'number',\n                message: '各阶段每天学习节数不能为空',\n                trigger: 'blur'\n              }}},[_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":_vm.disabled,\"placeholder\":\"请输入数字\"},model:{value:(_vm.formData.stage_study_number[intervalIndex]),callback:function ($$v) {_vm.$set(_vm.formData.stage_study_number, intervalIndex, $$v)},expression:\"formData.stage_study_number[intervalIndex]\"}}),_c('div',{staticClass:\"tips\"},[_vm._v(\"\\n                第\"+_vm._s(_vm.chnNumChar(intervalIndex + 1))+\"阶段\\n              \")])],1)],1)}),1):_vm._e()],1),_c('div',{staticClass:\"button\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},nativeOn:{\"click\":function($event){return _vm.nextStep('formData')}}},[_vm._v(\"下一步\")])],1)],1):_vm._e(),(_vm.active === 1)?_c('div',{staticClass:\"step2-content\"},[_c('el-tree',{key:_vm.treeKey,ref:\"step2-tree\",staticClass:\"el-tree-box\",attrs:{\"data\":_vm.frameAdminData,\"node-key\":\"id\",\"props\":_vm.defaultProps,\"default-expand-all\":\"\",\"empty-text\":\"暂无内容，请重新输入关键词查询\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var node = ref.node;\n              var data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),(!_vm.isConfirm && !_vm.disabled)?_c('span',{staticClass:\"handle-btns\"},[(data.type !== 'third' && data.title !== '轮岗')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function (event) { return _vm.handleAdd(event, node, data); }}},[_vm._v(\"\\n              添加\\n            \")]):_vm._e(),(data.type !== 'first' && data.title !== '轮岗')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function (event) { return _vm.haddleEdit(event, node, data); }}},[_vm._v(\"\\n              编辑\\n            \")]):_vm._e(),(data.type !== 'first' && data.title !== '轮岗')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function (event) { return _vm.remove(event, node, data); }}},[_vm._v(\"\\n              删除\\n            \")]):_vm._e()],1):_vm._e()])}}],null,false,3612852256)}),_c('div',{staticClass:\"create-plan\"},[(!_vm.isConfirm && !_vm.disabled)?_c('el-button',{staticClass:\"create-plan-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.haddleCreatePlan}},[_vm._v(\"生成计划\")]):_vm._e(),(_vm.isConfirm)?_c('div',{staticClass:\"confirm-create-plan\"},[_c('el-button',{staticClass:\"create-plan-btn\",on:{\"click\":_vm.haddleCancel}},[_vm._v(\"取消\")]),_c('el-button',{staticClass:\"create-plan-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.haddleConfirm}},[_vm._v(\"确定\")])],1):_vm._e()],1)],1):_vm._e(),_c('el-dialog',{attrs:{\"visible\":_vm.showDialog,\"center\":\"\",\"width\":\"30%\",\"top\":\"25vh\"},on:{\"update:visible\":function($event){_vm.showDialog=$event}}},[_c('div',{ref:\"frame_tree-dialog\",staticClass:\"frame_tree-dialog\"},[_c('div',{staticStyle:{\"color\":\"#fff\"},on:{\"click\":function($event){_vm.showDialog = false}}},[_vm._v(\"X\")]),_c('el-tree',{staticClass:\"frame_tree-dialog__tree disable\",attrs:{\"data\":_vm.BaseframeAdminData,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"check-on-click-node\":false,\"empty-text\":\"暂无内容\"},on:{\"node-click\":_vm.handleSelectTreeNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var node = ref.node;\nreturn _c('span',{staticClass:\"custom-base-tree-node\",class:node.disabled ? 'nodeDisabled' : ''},[_c('span',[_vm._v(_vm._s(node.label))])])}}])})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"add-plan-box\" class=\"add-plan-box\">\r\n    <div class=\"title\">{{ haddleType }}计划</div>\r\n    <div v-show=\"!isConfirm\" class=\"el-steps-box\">\r\n      <el-steps\r\n        :active=\"active\"\r\n        align-center\r\n        space=\"38%\"\r\n        process-status=\"process\"\r\n      >\r\n        <el-step\r\n          title=\"计划基本信息\"\r\n          class=\"baseInfo\"\r\n          @click.native=\"switchFirstStep\"\r\n        />\r\n        <el-step title=\"计划内容信息\" @click.native=\"switchSecondStep\" />\r\n      </el-steps>\r\n    </div>\r\n    <div class=\"step-content\" :class=\"isConfirm ? 'complete-plan' : ''\">\r\n      <div v-if=\"active === 0\" class=\"step1-content\">\r\n        <el-form\r\n          ref=\"formData\"\r\n          :model=\"formData\"\r\n          :rules=\"rules\"\r\n          label-width=\"82px\"\r\n          style=\"margin:0 auto;width:540px;\"\r\n        >\r\n          <el-form-item label=\"计划名称\" prop=\"name\">\r\n            <el-input\r\n              v-model=\"formData.name\"\r\n              :disabled=\"disabled\"\r\n              type=\"text\"\r\n              placeholder=\"请输入计划名称\"\r\n              maxlength=\"10\"\r\n              show-word-limit\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"制定人\" required>\r\n            <el-input\r\n              v-model=\"makeName\"\r\n              type=\"text\"\r\n              disabled\r\n              placeholder=\"制定人名称取自钉钉登录名\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"阶段数\" prop=\"stage_number\">\r\n            <el-select\r\n              v-model=\"formData.stage_number\"\r\n              :disabled=\"intervalNumberdisabled\"\r\n              clearable\r\n              placeholder=\"请选择阶段数\"\r\n              @change=\"intervalChange\"\r\n            >\r\n              <el-option\r\n                v-for=\"num in NumArr(6)\"\r\n                :key=\"num\"\r\n                :label=\"num\"\r\n                :value=\"num\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"轮岗位置\" prop=\"job_rotation_position\">\r\n            <el-select\r\n              v-model=\"formData.job_rotation_position\"\r\n              :disabled=\"disabled\"\r\n              clearable\r\n              placeholder=\"请选择阶段数\"\r\n            >\r\n              <el-option\r\n                v-for=\"num in NumArr(formData.stage_number || 0)\"\r\n                :key=\"num\"\r\n                :label=\"chnNumChar(num)\"\r\n                :value=\"num\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"轮岗天数\" prop=\"job_rotation_day\">\r\n            <el-input\r\n              v-model.number=\"formData.job_rotation_day\"\r\n              :disabled=\"disabled\"\r\n              placeholder=\"请输入阿拉伯数字，如：1，2…\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"试岗天数\" prop=\"job_test_day\">\r\n            <el-input\r\n              v-model.number=\"formData.job_test_day\"\r\n              :disabled=\"disabled\"\r\n              placeholder=\"请输入阿拉伯数字，如：1，2…\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item\r\n            v-if=\"intervalNum > 0\"\r\n            label=\"各阶段每天学习节数\"\r\n            class=\"learningNumber\"\r\n            required\r\n          >\r\n            <el-col\r\n              v-for=\"(intervalItem, intervalIndex) in intervalNum\"\r\n              :key=\"intervalIndex\"\r\n              class=\"el-col-marginLeft\"\r\n              :span=\"6\"\r\n            >\r\n              <el-form-item\r\n                :rules=\"{\r\n                  required: true,\r\n                  type: 'number',\r\n                  message: '各阶段每天学习节数不能为空',\r\n                  trigger: 'blur'\r\n                }\"\r\n              >\r\n                <el-input\r\n                  v-model=\"formData.stage_study_number[intervalIndex]\"\r\n                  type=\"number\"\r\n                  :disabled=\"disabled\"\r\n                  placeholder=\"请输入数字\"\r\n                />\r\n                <div class=\"tips\">\r\n                  第{{ chnNumChar(intervalIndex + 1) }}阶段\r\n                </div>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div class=\"button\">\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click.native=\"nextStep('formData')\"\r\n            >下一步</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <div v-if=\"active === 1\" class=\"step2-content\">\r\n        <el-tree\r\n          ref=\"step2-tree\"\r\n          :key=\"treeKey\"\r\n          class=\"el-tree-box\"\r\n          :data=\"frameAdminData\"\r\n          node-key=\"id\"\r\n          :props=\"defaultProps\"\r\n          default-expand-all\r\n          empty-text=\"暂无内容，请重新输入关键词查询\"\r\n        >\r\n          <span slot-scope=\"{ node, data }\" class=\"custom-tree-node\">\r\n            <span>{{ node.label }}</span>\r\n            <span v-if=\"!isConfirm && !disabled\" class=\"handle-btns\">\r\n              <el-button\r\n                v-if=\"data.type !== 'third' && data.title !== '轮岗'\"\r\n                type=\"text\"\r\n                size=\"mini\"\r\n                @click=\"event => handleAdd(event, node, data)\"\r\n              >\r\n                添加\r\n              </el-button>\r\n              <el-button\r\n                v-if=\"data.type !== 'first' && data.title !== '轮岗'\"\r\n                type=\"text\"\r\n                size=\"mini\"\r\n                @click=\"event => haddleEdit(event, node, data)\"\r\n              >\r\n                编辑\r\n              </el-button>\r\n              <el-button\r\n                v-if=\"data.type !== 'first' && data.title !== '轮岗'\"\r\n                type=\"text\"\r\n                size=\"mini\"\r\n                @click=\"event => remove(event, node, data)\"\r\n              >\r\n                删除\r\n              </el-button>\r\n            </span>\r\n          </span>\r\n        </el-tree>\r\n        <div class=\"create-plan\">\r\n          <el-button\r\n            v-if=\"!isConfirm && !disabled\"\r\n            class=\"create-plan-btn\"\r\n            type=\"primary\"\r\n            @click=\"haddleCreatePlan\"\r\n            >生成计划</el-button\r\n          >\r\n          <div v-if=\"isConfirm\" class=\"confirm-create-plan\">\r\n            <el-button class=\"create-plan-btn\" @click=\"haddleCancel\"\r\n              >取消</el-button\r\n            >\r\n            <el-button\r\n              class=\"create-plan-btn\"\r\n              type=\"primary\"\r\n              @click=\"haddleConfirm\"\r\n              >确定</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <el-dialog :visible.sync=\"showDialog\" center width=\"30%\" top=\"25vh\">\r\n        <div ref=\"frame_tree-dialog\" class=\"frame_tree-dialog\">\r\n          <div style=\"color:#fff;\" @click=\"showDialog = false\">X</div>\r\n          <el-tree\r\n            class=\"frame_tree-dialog__tree disable\"\r\n            :data=\"BaseframeAdminData\"\r\n            :props=\"defaultProps\"\r\n            node-key=\"id\"\r\n            default-expand-all\r\n            :expand-on-click-node=\"false\"\r\n            :check-on-click-node=\"false\"\r\n            empty-text=\"暂无内容\"\r\n            @node-click=\"handleSelectTreeNodeClick\"\r\n          >\r\n            <span\r\n              slot-scope=\"{ node }\"\r\n              class=\"custom-base-tree-node\"\r\n              :class=\"node.disabled ? 'nodeDisabled' : ''\"\r\n            >\r\n              <span>{{ node.label }}</span>\r\n            </span>\r\n          </el-tree>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from 'vue'\r\nimport { mapGetters } from 'vuex'\r\nimport {\r\n  getList,\r\n  createPlan,\r\n  getSinglePlan,\r\n  putSinglePlan\r\n} from '@/api/learningAdmin'\r\nimport { deepClone } from '@/utils'\r\nimport { setTreeDataTitle } from '../common.js'\r\nconst chnNumChar = Vue.filter('chnNumChar')\r\n\r\nfunction InitTree(temp, pos) {\r\n  return Array.apply(null, {\r\n    length: temp + 1\r\n  }).reduce((acc, item, index) => {\r\n    const data = {\r\n      id: index + 1,\r\n      type: 'first'\r\n    }\r\n    if (index === pos) {\r\n      data.title = '轮岗'\r\n    } else {\r\n      index = index > pos ? index - 1 : index\r\n      data.title = `第${chnNumChar(index + 1)}阶段`\r\n    }\r\n    acc.push(data)\r\n    return acc\r\n  }, [])\r\n}\r\n\r\nfunction NumArr(len) {\r\n  return Array.apply(null, {\r\n    length: len\r\n  }).reduce((acc, item, index) => acc.concat(index + 1), [])\r\n}\r\n\r\nexport default {\r\n  data() {\r\n    var validateJobRotationDay = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('您输入的内容有误，请重新输入'))\r\n      } else if (value <= 0) {\r\n        callback(new Error('请输入大于0的数字'))\r\n      } else if (!Number.isInteger(value)) {\r\n        callback(new Error('您输入的内容有误，请重新输入'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    return {\r\n      active: 0,\r\n      intervalNum: 0,\r\n      treeKey: 0, // 这个key。。。 有什么用\r\n      showDialog: false,\r\n      isEdit: false,\r\n      disabled: false,\r\n      formData: {\r\n        name: '',\r\n        stage_number: '',\r\n        job_rotation_position: '',\r\n        job_rotation_day: '',\r\n        job_test_day: '',\r\n        stage_study_number: []\r\n      },\r\n      BaseframeAdminData: [],\r\n      copyBaseInfo: [],\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: '您输入的内容有误，请重新输入',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        stage_number: [\r\n          {\r\n            required: true,\r\n            message: '您输入的内容有误，请重新输入',\r\n            trigger: 'change'\r\n          }\r\n        ],\r\n        job_rotation_position: [\r\n          {\r\n            required: true,\r\n            message: '您输入的内容有误，请重新输入',\r\n            trigger: 'change'\r\n          }\r\n        ],\r\n        job_rotation_day: [\r\n          { validator: validateJobRotationDay, trigger: 'blur' }\r\n        ],\r\n        job_test_day: [{ validator: validateJobRotationDay, trigger: 'blur' }]\r\n      },\r\n      frameAdminData: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'ptitle'\r\n      },\r\n      isConfirm: false,\r\n      pos: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      planListId: '',\r\n      haddleType: '添加',\r\n      arrNum: ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十'],\r\n      makeName: '',\r\n      intervalNumberdisabled: false,\r\n      addIndex: 0\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['name'])\r\n  },\r\n  created() {\r\n    // this.getreeList()\r\n    // this.initFormData()\r\n    if (this.$route.query.haddleType === '查看') {\r\n      this.intervalNumberdisabled = true\r\n      this.disabled = true\r\n    } else {\r\n      this.disabled = false\r\n      this.intervalNumberdisabled = true\r\n    }\r\n    if (this.$route.query.haddleType === '添加') {\r\n      this.intervalNumberdisabled = false\r\n    }\r\n    this.haddleType = this.$route.query.haddleType\r\n    this.planListId = this.$route.query.id\r\n    this.getSinglePlan()\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    intervalChange(data) {\r\n      if (this.formData.stage_study_number.length) {\r\n        this.formData.stage_study_number = this.formData.stage_study_number.slice(\r\n          0,\r\n          data - 1\r\n        )\r\n      }\r\n      this.intervalNum = data\r\n    },\r\n    // 获取单个计划详情\r\n    async getSinglePlan() {\r\n      if (this.planListId) {\r\n        const data = {\r\n          id: this.planListId\r\n        }\r\n        const planRes = await getSinglePlan(data)\r\n        this.formData = planRes.data\r\n        this.frameAdminData = setTreeDataTitle(planRes.data.stage_study_content)\r\n        this.intervalNum = Number(this.formData.stage_number)\r\n        this.makeName = this.formData.make_name\r\n      } else {\r\n        this.makeName = this.name\r\n      }\r\n    },\r\n    NumArr: num => new NumArr(num),\r\n    chnNumChar: Vue.filter('chnNumChar'),\r\n\r\n    async getreeList() {\r\n      const res = await getList()\r\n      const list = res.data.list\r\n      this.initTreeData(list)\r\n      this.BaseframeAdminData = setTreeDataTitle(list)\r\n      this.copyBaseInfo = [...this.BaseframeAdminData]\r\n      // if (this.planListId) {\r\n      //   this.frameAdminData.map(item => {\r\n      //     if (item.children) {\r\n      //       item.children.map(childrenItem => {\r\n      //         this.changeNodeDisable(this.copyBaseInfo, childrenItem.id, true)\r\n      //       })\r\n      //     }\r\n      //   })\r\n      // }\r\n      // this.copyBaseInfo = deepClone(this.BaseframeAdminData) // 此处的并未全部解除引用 使用deepClone方法\r\n    },\r\n    // 给基础树添加disabled\r\n    initTreeData(data = []) {\r\n      data.map(item => {\r\n        if (item.parent_id === '0') {\r\n          // 后台一级节点的父节点变成0了 所以要修改\r\n          item.disabled = true\r\n        } else {\r\n          item.disabled = false\r\n        }\r\n        if (item.children) {\r\n          this.initTreeData(item.children)\r\n        }\r\n      })\r\n    },\r\n\r\n    // 切换到第二步\r\n    switchSecondStep() {\r\n      // 此处请修改方法名 为什么要用click.native 直接click不可以吗？\r\n      if (this.active === 0 && !this.disabled) {\r\n        return false\r\n      } else {\r\n        this.active = 1\r\n      }\r\n    },\r\n\r\n    // 切换到第一步\r\n    switchFirstStep() {\r\n      if (this.disabled) {\r\n        this.active = 0\r\n        return false\r\n      }\r\n      let tips = ''\r\n      if (this.$route.query.haddleType === '编辑') {\r\n        tips =\r\n          '是否返回第一步进行修改，返回后第二步已编辑数据会清除，请确定是否返回？'\r\n      } else {\r\n        tips =\r\n          '是否返回第一步进行修改，返回后第二步数据会清除，请确定是否返回？'\r\n      }\r\n      this.$confirm(tips, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        center: true\r\n      })\r\n        .then(async () => {\r\n          this.active = 0\r\n          this.showDialog = false\r\n\r\n          // this.initFormData()\r\n        })\r\n        .catch(() => {})\r\n    },\r\n\r\n    async nextStep(formName) {\r\n      await this.getreeList()\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const reg = /^\\+?[1-9]\\d*$/\r\n          if (this.planListId) {\r\n            for (const item of this.formData.stage_study_number) {\r\n              if (item === '') {\r\n                this.$message({\r\n                  message: '各阶段每天学习节数不能为空！',\r\n                  type: 'warning'\r\n                })\r\n                return false\r\n              } else if (!reg.test(item)) {\r\n                this.$message({\r\n                  message: '输入阿拉伯数字，如1，2…',\r\n                  type: 'warning'\r\n                })\r\n                return false\r\n              }\r\n            }\r\n          }\r\n          // this.formData.interval_study_number = this.formData.interval_study_number.filter(v => v)\r\n          if (\r\n            this.formData.stage_study_number.length !==\r\n            this.formData.stage_number\r\n          ) {\r\n            this.$message({\r\n              message: '各阶段每天学习节数不能为空！',\r\n              type: 'warning'\r\n            })\r\n            return false\r\n          }\r\n          for (const item of this.formData.stage_study_number) {\r\n            if (!reg.test(item)) {\r\n              this.$message({\r\n                message: '输入阿拉伯数字，如1，2…',\r\n                type: 'warning'\r\n              })\r\n              return false\r\n            }\r\n          }\r\n\r\n          /** * 重新创建树 */\r\n          this.active = 1\r\n          const {\r\n            stage_number: temp,\r\n            job_rotation_position: pos\r\n          } = this.formData\r\n          if (this.planListId) {\r\n            const position = this.formData.job_rotation_position\r\n            let positionVal = {}\r\n            this.frameAdminData.map(item => {\r\n              item.ptitle = item.ptitle.substring(1)\r\n            })\r\n            this.frameAdminData.forEach((item, index) => {\r\n              if (item.title === '轮岗') {\r\n                positionVal = item\r\n                this.frameAdminData.splice(index, 1)\r\n                this.frameAdminData.splice(position, 0, positionVal)\r\n              }\r\n            })\r\n            this.treeKey++\r\n            this.frameAdminData = setTreeDataTitle(this.frameAdminData)\r\n            const that = this\r\n            this.frameAdminData.forEach(fristNode => {\r\n              if (fristNode.children) {\r\n                fristNode.children.forEach(secondNode => {\r\n                  if (secondNode.children) {\r\n                    secondNode.children.forEach(thirdNode => {\r\n                      that.changeNodeDisable(\r\n                        that.copyBaseInfo,\r\n                        thirdNode.id,\r\n                        true\r\n                      )\r\n                    })\r\n                  }\r\n                })\r\n              }\r\n            })\r\n            return false\r\n          }\r\n          this.frameAdminData = setTreeDataTitle(InitTree(temp, pos))\r\n          const that = this\r\n          this.frameAdminData.forEach(fristNode => {\r\n            if (fristNode.children) {\r\n              fristNode.children.forEach(secondNode => {\r\n                if (secondNode.children) {\r\n                  secondNode.children.forEach(thirdNode => {\r\n                    that.changeNodeDisable(\r\n                      that.copyBaseInfo,\r\n                      thirdNode.id,\r\n                      true\r\n                    )\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          })\r\n          return false\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n\r\n    findSecondTreeByid(tree = [], id = '') {\r\n      for (let i = 0; i < tree.length; i++) {\r\n        const secondTrees = tree[i].children\r\n        if (secondTrees) {\r\n          const index = secondTrees.findIndex(item => {\r\n            return item.id === id\r\n          })\r\n          if (index >= 0) {\r\n            // 返回该二级tree在当前树的下标\r\n            secondTrees[index].now_index = index\r\n            return [secondTrees[index]]\r\n          }\r\n        }\r\n      }\r\n      return []\r\n    },\r\n\r\n    handleAdd(event, node, data) {\r\n      this.addIndex = data.id - 1\r\n      this.isEdit = false\r\n      if (data.type === 'second') {\r\n        // 这里都已经给isEdit赋值了 就不需要判断了吧\r\n        this.BaseframeAdminData = this.findSecondTreeByid(\r\n          this.copyBaseInfo,\r\n          data.id\r\n        )[0].children\r\n      } else {\r\n        this.BaseframeAdminData = this.copyBaseInfo\r\n      }\r\n      this.showDialog = true\r\n      this.curActiveNodeKey = data\r\n    },\r\n    haddleEdit(event, node, data) {\r\n      this.isEdit = true\r\n      if (data.type === 'second') {\r\n        this.BaseframeAdminData = this.copyBaseInfo\r\n      } else if (data.type === 'third') {\r\n        this.BaseframeAdminData = this.findSecondTreeByid(\r\n          this.copyBaseInfo,\r\n          data.parent_id\r\n        )[0].children\r\n      }\r\n      this.curActiveNodeKey = data\r\n      this.showDialog = true\r\n    },\r\n    remove(event, node, data) {\r\n      if (data.type === 'second') {\r\n        for (let i = 0; i < this.frameAdminData.length; i++) {\r\n          if (!this.frameAdminData[i].children) continue\r\n          const index = this.frameAdminData[i].children.findIndex(item => {\r\n            return item.id === data.id\r\n          })\r\n          if (index >= 0) {\r\n            this.frameAdminData[i].children.splice(index, 1)\r\n            this.frameAdminData = deepClone(this.frameAdminData)\r\n            break\r\n          }\r\n        }\r\n      } else if (data.type === 'third') {\r\n        const secondtree = this.findSecondTreeByid(\r\n          this.frameAdminData,\r\n          data.parent_id\r\n        )[0]\r\n        const index = secondtree.children.findIndex(item => {\r\n          return item.id === data.id\r\n        })\r\n        if (index >= 0) {\r\n          secondtree.children.splice(index, 1)\r\n        }\r\n      }\r\n      this.changeNodeDisable(this.copyBaseInfo, data.id, false)\r\n      this.frameAdminData = setTreeDataTitle(this.frameAdminData)\r\n    },\r\n    changeNodeDisable(data = [], id = '', disabled = true) {\r\n      for (let i = 0; i < data.length; i++) {\r\n        const item = data[i]\r\n        if (item.id && item.id === id) {\r\n          item.disabled = disabled\r\n          if (item.type === 'second') {\r\n            item.children.forEach(node => {\r\n              node.disabled = disabled\r\n            })\r\n          }\r\n          if (item.type === 'third') {\r\n            this.resetCopyTreeSencendDisable()\r\n          }\r\n        }\r\n        if (item.children && Array.isArray(item.children)) {\r\n          this.changeNodeDisable(item.children, id, disabled)\r\n        }\r\n      }\r\n    },\r\n    resetCopyTreeSencendDisable() {\r\n      for (let i = 0; i < this.copyBaseInfo.length; i++) {\r\n        const secondtrees = this.copyBaseInfo[i].children\r\n        secondtrees.forEach(secondtree => {\r\n          if (secondtree.children) {\r\n            const disablechild = secondtree.children.filter(citem => {\r\n              return citem.disabled\r\n            })\r\n            if (\r\n              secondtree.children.length > 0 &&\r\n              disablechild.length === secondtree.children.length\r\n            ) {\r\n              secondtree.disabled = true\r\n            } else {\r\n              secondtree.disabled = false\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n\r\n    handleSelectTreeNodeClick(data) {\r\n      if (data.disabled) {\r\n        // 判断一级类目不能被选中\r\n        return false\r\n      }\r\n      if (this.isEdit) {\r\n        // 编辑 只关心被编辑者\r\n        if (this.curActiveNodeKey.type === 'third') {\r\n          const adminSecondTree = this.findSecondTreeByid(\r\n            this.frameAdminData,\r\n            this.curActiveNodeKey.parent_id\r\n          )[0]\r\n          const index = adminSecondTree.children.findIndex(item => {\r\n            return item.id === this.curActiveNodeKey.id\r\n          })\r\n          if (index >= 0) {\r\n            adminSecondTree.children.splice(index, 1, deepClone(data))\r\n            this.changeNodeDisable(\r\n              this.copyBaseInfo,\r\n              this.curActiveNodeKey.id,\r\n              false\r\n            )\r\n            this.curActiveNodeKey = data\r\n            this.changeNodeDisable(this.copyBaseInfo, data.id, true)\r\n          }\r\n        } else if (\r\n          this.curActiveNodeKey.type === 'second' &&\r\n          data.type === 'second'\r\n        ) {\r\n          for (let i = 0; i < this.frameAdminData.length; i++) {\r\n            if (!this.frameAdminData[i].children) continue\r\n            const index = this.frameAdminData[i].children.findIndex(item => {\r\n              return item.id === this.curActiveNodeKey.id\r\n            })\r\n            if (index >= 0) {\r\n              this.frameAdminData[i].children.splice(index, 1, data)\r\n              this.frameAdminData = deepClone(this.frameAdminData)\r\n              this.changeNodeDisable(\r\n                this.copyBaseInfo,\r\n                this.curActiveNodeKey.id,\r\n                false\r\n              )\r\n              this.curActiveNodeKey = data\r\n              this.changeNodeDisable(this.copyBaseInfo, data.id, true)\r\n              break\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (data.type === 'third') {\r\n          // 如果添加三级类目 首先判断被添加计划中是否存在该三级的二级类目 如果存在则添加到原有的二级 如果不存在则连带二级一起加入\r\n          if (this.curActiveNodeKey.type === 'first') {\r\n            const adminSecondTree = this.findSecondTreeByid(\r\n              this.frameAdminData,\r\n              data.parent_id\r\n            )[0]\r\n            const copySecondTree = deepClone(\r\n              this.findSecondTreeByid(this.copyBaseInfo, data.parent_id)\r\n            )[0]\r\n            if (adminSecondTree) {\r\n              adminSecondTree.children.push(deepClone(data))\r\n              this.treeKey++\r\n              // this.$refs['step2-tree'].updateKeyChildren(adminSecondTree.id)\r\n            } else {\r\n              copySecondTree.children = []\r\n              copySecondTree.children.push(data)\r\n              this.$refs['step2-tree'].append(\r\n                copySecondTree,\r\n                this.curActiveNodeKey\r\n              )\r\n            }\r\n          } else {\r\n            this.$refs['step2-tree'].append(\r\n              deepClone(data),\r\n              this.curActiveNodeKey\r\n            )\r\n          }\r\n        } else {\r\n          // 点击二级基础信息\r\n          // 如果存在二级类目 则全部替换\r\n          const adminSecondTree = this.findSecondTreeByid(\r\n            this.frameAdminData,\r\n            data.id\r\n          )[0]\r\n          if (adminSecondTree) {\r\n            const childrens = deepClone(data.children)\r\n            this.$refs['step2-tree'].updateKeyChildren(\r\n              adminSecondTree.id,\r\n              childrens\r\n            )\r\n          } else {\r\n            this.$refs['step2-tree'].append(\r\n              deepClone(data),\r\n              this.curActiveNodeKey\r\n            )\r\n          }\r\n        }\r\n        this.changeNodeDisable(this.copyBaseInfo, data.id, true)\r\n      }\r\n      this.frameAdminData = setTreeDataTitle(this.frameAdminData)\r\n    },\r\n    async haddleCreatePlan() {\r\n      this.isConfirm = true\r\n      this.showDialog = false\r\n    },\r\n    async haddleConfirm() {\r\n      const TransferIntervalNum = this.formData.stage_study_number.map(item => {\r\n        return Number(item)\r\n      })\r\n      if (this.haddleType === '编辑') {\r\n        const data = {\r\n          name: this.formData.name,\r\n          job_rotation_position: this.formData.job_rotation_position,\r\n          job_rotation_day: this.formData.job_rotation_day,\r\n          job_test_day: this.formData.job_test_day,\r\n          stage_study_number: TransferIntervalNum,\r\n          stage_study_content: this.frameAdminData,\r\n          id: this.planListId\r\n        }\r\n        const editSuccess = await putSinglePlan(data)\r\n        if (editSuccess.code === 20000) {\r\n          if (editSuccess.data.result) {\r\n            this.$router.push({ path: `/learning-admin/PlanAdmin` })\r\n          } else {\r\n            this.$message({ message: editSuccess.data.message, type: 'error' })\r\n          }\r\n        }\r\n      } else {\r\n        const data = {\r\n          name: this.formData.name,\r\n          stage_number: this.formData.stage_number,\r\n          job_rotation_position: this.formData.job_rotation_position,\r\n          job_rotation_day: this.formData.job_rotation_day,\r\n          job_test_day: this.formData.job_test_day,\r\n          stage_study_number: TransferIntervalNum,\r\n          stage_study_content: this.frameAdminData\r\n        }\r\n        const createSuccess = await createPlan(data)\r\n        if (createSuccess.code === 20000) {\r\n          this.$router.push({ path: `/learning-admin/PlanAdmin` })\r\n        }\r\n      }\r\n      this.expandOnClickNode = true\r\n    },\r\n    haddleCancel() {\r\n      this.isConfirm = false\r\n    },\r\n    isRepeat(arr) {\r\n      const hash = {}\r\n      for (const i in arr) {\r\n        if (hash[arr[i].id]) {\r\n          return true\r\n        }\r\n        hash[arr[i].id] = true\r\n      }\r\n      return false\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" type=\"text/scss\">\r\n// 去掉input type为number的图表\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n}\r\ninput[type='number'] {\r\n  -moz-appearance: textfield;\r\n}\r\n.el-form-item {\r\n  &.learningNumber {\r\n    .el-form-item__label {\r\n      line-height: 1.6em;\r\n    }\r\n  }\r\n}\r\n.el-steps {\r\n  justify-content: center;\r\n}\r\n.el-step__title {\r\n  &.is-process {\r\n    color: #0085ff;\r\n  }\r\n  &.is-finish {\r\n    font-weight: bold;\r\n    color: #0085ff;\r\n  }\r\n}\r\n\r\n.el-step__head {\r\n  &.is-process {\r\n    color: #0085ff;\r\n    border-color: #0085ff;\r\n  }\r\n}\r\n.el-select {\r\n  width: 100%;\r\n}\r\n.el-dialog {\r\n  left: 240px;\r\n  .el-dialog__body {\r\n    overflow: auto;\r\n    max-height: 544px;\r\n  }\r\n  .el-dialog__header {\r\n    border-bottom: none;\r\n  }\r\n}\r\n.el-checkbox__input.is-checked .el-checkbox__inner::after {\r\n  display: none;\r\n}\r\n.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner::before {\r\n  display: none;\r\n}\r\n.el-checkbox__input.is-checked .el-checkbox__inner,\r\n.el-checkbox__input.is-indeterminate .el-checkbox__inner {\r\n  background: #fff;\r\n  border: 1px solid #dcdfe6;\r\n}\r\n.custom-base-tree-node {\r\n  &.nodeDisabled {\r\n    background: #f2f2f2;\r\n  }\r\n}\r\n</style>\r\n\r\n<style scoped lang=\"scss\" type=\"text/scss\">\r\n.add-plan-box {\r\n  position: relative;\r\n  overflow: auto;\r\n  width: 100%;\r\n  height: 100%;\r\n  .title {\r\n    padding-bottom: 30px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #17233d;\r\n  }\r\n  .el-steps-box {\r\n    width: 100%;\r\n  }\r\n  .step-content {\r\n    margin: 70px auto 0;\r\n    &.complete-plan {\r\n      margin: 0 auto 0;\r\n    }\r\n    .el-col-marginLeft {\r\n      margin-right: 14px;\r\n      .tips {\r\n        text-align: center;\r\n      }\r\n    }\r\n    .el-tree-box {\r\n      padding: 20px 10px;\r\n      border: 1px solid #ebeef5;\r\n    }\r\n    .create-plan {\r\n      text-align: center;\r\n      .create-plan-btn {\r\n        margin-top: 60px;\r\n      }\r\n    }\r\n  }\r\n  .button {\r\n    margin-top: 60px;\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n  .custom-tree-node {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding-right: 8px;\r\n    font-size: 14px;\r\n    flex: 1;\r\n    .handle-btns {\r\n      display: none;\r\n    }\r\n    &:hover {\r\n      .handle-btns {\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_list_looking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_list_looking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit_list_looking.vue?vue&type=template&id=8468220a&scoped=true&\"\nimport script from \"./edit_list_looking.vue?vue&type=script&lang=js&\"\nexport * from \"./edit_list_looking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit_list_looking.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./edit_list_looking.vue?vue&type=style&index=1&id=8468220a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8468220a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_list_looking.vue?vue&type=style&index=1&id=8468220a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_list_looking.vue?vue&type=style&index=1&id=8468220a&scoped=true&lang=scss&\""],"sourceRoot":""}