(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-004de6dc"],{"6ab0":function(e,t,r){},ca7e:function(e,t,r){"use strict";var n=r("bc3a"),a=r.n(n),o=r("5c96"),i=r("a18c"),s=r("4360"),c=r("5f87"),u=a.a.create({baseURL:"https://api-crm.baobaohehu.com",timeout:2e5});u.interceptors.request.use((function(e){return s["a"].getters.token&&(e.headers["Authorization"]=Object(c["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),u.interceptors.response.use((function(e){var t=e.config,r=e.data;return t.url.indexOf(t.baseURL)>-1&&1e4!==r.code?40001===r.code?(i["c"].push("/404"),Promise.reject()):(Object(o["Message"])({message:r.message||"Error",type:"error",duration:5e3}),401===r.code&&s["a"].dispatch("user/resetToken").then((function(){location.reload()})),Promise.reject(new Error(r.message||"Error"))):r}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var l=u;function p(e){return l({url:"/corp/wechat/helper",method:"get",params:e})}function d(e){return l({url:"/corp/admin",method:"get",params:e})}function m(e){return l({url:"/corp/helper",method:"get",params:e})}function h(e){return l({url:"/corp/helper",method:"post",data:e})}function f(e,t){return l({url:"/corp/helper/"+e,method:"put",data:t})}function g(e,t){return l({url:"/corp/helper/change/"+e,method:"put",data:t})}function b(e){return l({url:"/corp/helper/"+e,method:"delete"})}function w(e){return l({url:"/corp/source_channel",method:"get",params:e})}function v(e){return l({url:"/corp/source_channel",method:"post",data:e})}function S(e,t){return l({url:"/corp/source_channel/"+e,method:"put",data:t})}function O(e){return l({url:"/corp/source_channel/"+e,method:"delete"})}function _(e){return l({url:"/corp/user_type",method:"get",params:e})}function x(e){return l({url:"/corp/user_type",method:"post",data:e})}function F(e,t){return l({url:"/corp/user_type/"+e,method:"put",data:t})}function y(e){return l({url:"/corp/user_type/"+e,method:"delete"})}function k(e){return l({url:"/corp/user_visit",method:"get",params:e})}function L(e){return l({url:"/corp/user_visit",method:"post",data:e})}function C(e,t){return l({url:"/corp/user_visit/"+e,method:"put",data:t})}function j(e){return l({url:"/corp/user_visit/"+e,method:"delete"})}function H(e){return l({url:"/corp/user_visit/status/"+e,method:"put"})}r.d(t,"u",(function(){return p})),r.d(t,"n",(function(){return d})),r.d(t,"t",(function(){return m})),r.d(t,"d",(function(){return h})),r.d(t,"C",(function(){return f})),r.d(t,"H",(function(){return g})),r.d(t,"i",(function(){return b})),r.d(t,"o",(function(){return w})),r.d(t,"b",(function(){return v})),r.d(t,"F",(function(){return S})),r.d(t,"g",(function(){return O})),r.d(t,"B",(function(){return _})),r.d(t,"f",(function(){return x})),r.d(t,"I",(function(){return F})),r.d(t,"l",(function(){return y})),r.d(t,"r",(function(){return k})),r.d(t,"c",(function(){return L})),r.d(t,"G",(function(){return C})),r.d(t,"h",(function(){return j})),r.d(t,"E",(function(){return H})),r.d(t,"q",(function(){return z})),r.d(t,"z",(function(){return R})),r.d(t,"s",(function(){return $})),r.d(t,"A",(function(){return q})),r.d(t,"v",(function(){return I})),r.d(t,"a",(function(){return P})),r.d(t,"D",(function(){return E})),r.d(t,"x",(function(){return A})),r.d(t,"k",(function(){return J})),r.d(t,"y",(function(){return M})),r.d(t,"w",(function(){return U})),r.d(t,"p",(function(){return B})),r.d(t,"e",(function(){return D})),r.d(t,"j",(function(){return G})),r.d(t,"m",(function(){return N}));var z=function(e){return l({url:"corp/user",method:"get",params:e})},R=function(e){return l({url:"corp/admin/crm_user/"+e,method:"get"})},$=function(e){return l({url:"corp/follow_up_log",method:"get",params:e})},q=function(e){return l({url:"corp/source_channel",method:"get",params:e})},I=function(e){return l({url:"corp/admin/order/"+e,method:"get"})},P=function(e){return l({url:"corp/admin/scene",method:"post",data:e})},E=function(e,t){return l({url:"corp/admin/scene/"+e,method:"put",data:t})},A=function(e){return l({url:"corp/admin/scene/detail/"+e,method:"get"})},J=function(e){return l({url:"corp/admin/scene/"+e,method:"delete"})},M=function(e){return l({url:"corp/admin/scene",method:"get",params:e})},U=function(e){return l({url:"corp/admin/scene/qrcode/"+e,method:"get"})},B=function(e){return l({url:"corp/admin/wx_qrcode",method:"get",params:e})},D=function(e){return l({url:"corp/admin/wx_qrcode",method:"post",data:e})},G=function(e){return l({url:"corp/admin/wx_qrcode/"+e,method:"delete"})},N=function(e){return l({url:"corp/admin/wx_qrcode/download",method:"get",params:e})}},f820:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"assistant-manage"},[r("el-form",{ref:"userSearch",attrs:{"label-position":"left","label-width":"100px",model:e.assistantSearch,inline:""}},[r("el-form-item",{staticClass:"search-item",attrs:{label:"小助手昵称"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入小助手昵称"},model:{value:e.assistantSearch.name,callback:function(t){e.$set(e.assistantSearch,"name",t)},expression:"assistantSearch.name"}})],1),r("el-form-item",{staticClass:"search-item",attrs:{label:"运营人员"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入运营人员姓名"},model:{value:e.assistantSearch.operator,callback:function(t){e.$set(e.assistantSearch,"operator",t)},expression:"assistantSearch.operator"}})],1),r("el-form-item",{staticStyle:{float:"right"}},[r("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),r("el-button",{staticClass:"select-btn",attrs:{type:"primary"},on:{click:e.resetForm}},[e._v("重置")])],1)],1),r("div",{staticClass:"list"},[r("div",{staticClass:"title"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.assistantShow=!0}}},[e._v("录入小助手")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","empty-text":e.hasListInfo}},[r("el-table-column",{attrs:{fixed:"",prop:"num",label:"序号",width:"100",align:"center"}}),r("el-table-column",{attrs:{prop:"name",label:"小助手昵称",align:"center"}}),r("el-table-column",{attrs:{prop:"operator",label:"对应运营人员",align:"center"}}),r("el-table-column",{attrs:{prop:"gender",label:"性别",align:"center"}}),r("el-table-column",{attrs:{prop:"phone",label:"手机号码",align:"center"}}),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.setOperator(t.row)}}},[e._v("\n            "+e._s("/"===t.row.operator?"匹配运营人员":"更换运营人员")+"\n          ")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.delShow=!0,e.rowInfo=t.row}}},[e._v("删除")])]}}])})],1),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),r("el-dialog",{attrs:{title:"删除提示",visible:e.delShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.delShow=t}}},[r("p",{staticClass:"center"},[e._v("\n      删除后，该小助手将不能进行用户跟进，\n      "),r("br"),e._v("请确定是否删除？\n    ")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.delConfirm}},[e._v("确 定")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delShow=!1}}},[e._v("取 消")])],1)]),r("el-dialog",{attrs:{title:"录入小助手",visible:e.assistantShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.assistantShow=t}}},[r("el-form",{ref:"inputForm",staticClass:"demo-ruleForm",attrs:{model:e.inputForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"小助手",prop:"assistant",rules:[{required:!0,message:"请选择"}]}},[r("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择小助手"},model:{value:e.inputForm.assistant,callback:function(t){e.$set(e.inputForm,"assistant",t)},expression:"inputForm.assistant"}},e._l(e.assistantList,(function(t,n){return r("el-option",{key:n,attrs:{label:t.name,value:n,loading:e.isLoading}})})),1)],1),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.inputFormSubmit("inputForm","create")}}},[e._v("确认")])],1)],1)],1),r("el-dialog",{attrs:{title:"匹配运营人员",visible:e.operateShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.operateShow=t}}},[r("el-form",{ref:"operateForm",staticClass:"demo-ruleForm",attrs:{model:e.operateForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"运营人员",prop:"operator",rules:[{required:!0,message:"请选择"}]}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择运营人员"},model:{value:e.operateForm.operator,callback:function(t){e.$set(e.operateForm,"operator",t)},expression:"operateForm.operator"}},e._l(e.operatorList,(function(t){return r("el-option",{key:t._id,attrs:{label:t.name,value:t._id,loading:e.isLoading}})})),1)],1),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.inputFormSubmit("operateForm","matching")}}},[e._v("确认")])],1)],1)],1),r("el-dialog",{attrs:{title:"更换运营人员",visible:e.replaceOperateShow,width:"400px",center:"",top:"30vh"},on:{"update:visible":function(t){e.replaceOperateShow=t}}},[r("el-form",{ref:"replaceOperateForm",staticClass:"demo-ruleForm",attrs:{model:e.replaceOperateForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"原运营人员",prop:"oldOperator",clearable:"",rules:[{required:!0,message:"原运营人员不能为空"}]}},[r("el-input",{attrs:{readonly:""},model:{value:e.replaceOperateForm.oldOperator,callback:function(t){e.$set(e.replaceOperateForm,"oldOperator",t)},expression:"replaceOperateForm.oldOperator"}})],1),r("el-form-item",{attrs:{label:"新运营人员",prop:"newOperator",rules:[{required:!0,message:"请选择"}]}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择运营人员"},model:{value:e.replaceOperateForm.newOperator,callback:function(t){e.$set(e.replaceOperateForm,"newOperator",t)},expression:"replaceOperateForm.newOperator"}},e._l(e.operatorList,(function(t){return r("el-option",{key:t._id,attrs:{label:t.name,value:t._id,loading:e.isLoading}})})),1)],1),r("el-form-item",{attrs:{label:"更换原因",prop:"reason",rules:[{required:!0,message:"原因不能为空",target:"blur"}]}},[r("el-input",{attrs:{type:"textarea",clearable:"",placeholder:"请填写更换原因"},model:{value:e.replaceOperateForm.reason,callback:function(t){e.$set(e.replaceOperateForm,"reason",t)},expression:"replaceOperateForm.reason"}})],1),r("div",{staticClass:"button-wrap",staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.inputFormSubmit("replaceOperateForm","update")}}},[e._v("确认")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.replaceOperateShow=!1}}},[e._v("取消")])],1),r("div",{staticClass:"danger-tip"},[e._v("\n        提示：更换后，该小助手号的所有用户当前负责人信息变更，请确定小助手号已经移交。\n      ")])],1)],1)],1)},a=[],o=(r("7f7f"),r("96cf"),r("3b8d")),i=r("ca7e"),s={data:function(){return{isOpen:!1,list:[],currentPage:1,delShow:!1,assistantShow:!1,operateShow:!1,replaceOperateShow:!1,pageSize:10,count:0,rowInfo:"",hasListInfo:"暂无数据",singleList:[],createNameList:[],isLoading:!1,assistantSearch:{name:"",operator:""},inputForm:{assistant:""},assistantList:[],operateForm:{operator:""},operatorList:[],replaceOperateForm:{oldOperator:"",newOperator:"",reason:""}}},watch:{assistantShow:function(e){e||(this.inputForm={assistant:""})},operateShow:function(e){e||(this.operateForm={operator:""})},replaceOperateShow:function(e){e||(this.replaceOperateForm={oldOperator:"",newOperator:"",reason:""})}},created:function(){this.isLoading=!0,this.getHelper(),this.getHelperList(),this.getAdminList()},methods:{onSubmit:function(){this.currentPage=1,this.getHelper(this.assistantSearch)},handleSizeChange:function(e){this.pageSize=e,this.getHelper(this.assistantSearch)},handleCurrentChange:function(e){this.currentPage=e,this.getHelper(this.assistantSearch)},resetForm:function(){this.assistantSearch={name:"",operator:""},this.getHelper()},delConfirm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["i"])(this.rowInfo.id);case 2:t=e.sent,r=t.code,n=t.message,1e4===r&&(this.$message.success(n),this.delShow=!1,this.getHelper(this.assistantSearch));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),inputFormSubmit:function(e,t){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;"create"===t&&r.createHelper(),"matching"===t&&r.matchingHelper(),"update"===t&&r.updateHelper()}))},getHelper:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={pageSize:this.pageSize,page:this.currentPage},t?(t.name&&(r.nickname=t.name),t.operator&&(r.name=t.operator),this.hasListInfo="暂无数据，请重新输入关键词"):this.hasListInfo="暂无数据",e.next=4,Object(i["t"])(r);case 4:n=e.sent,a=n.data,o=n.code,1e4===o&&(this.count=a.count,this.list=a.list.map((function(e,t){return{num:(s.currentPage-1)*s.pageSize+t+1,name:e.nickname,operator:e.name||"/",gender:1===e.gender?"男":2===e.gender?"女":"未知",phone:e.mobile||"/",department:e.department||"/",id:e._id,wechat_id:e.wechat_id}})));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getHelperList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["u"])();case 2:t=e.sent,r=t.code,n=t.data,1e4===r&&(this.assistantList=n,this.isLoading=!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createHelper:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={wechat_id:this.assistantList[this.inputForm.assistant].userid,nickname:this.assistantList[this.inputForm.assistant].name},e.next=3,Object(i["d"])(t);case 3:r=e.sent,n=r.code,a=r.message,1e4===n&&(this.assistantShow=!1,this.$message.success(a),this.getHelper(this.assistantSearch));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAdminList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["n"])();case 2:t=e.sent,r=t.code,n=t.data,1e4===r&&(this.operatorList=n.filter((function(e){return e.name})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),matchingHelper:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["C"])(this.rowInfo.id,{admin:this.operateForm.operator});case 2:t=e.sent,r=t.code,n=t.message,1e4===r&&(this.$message.success(n),this.operateShow=!1,this.getHelper(this.assistantSearch));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateHelper:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["H"])(this.rowInfo.id,{reason:this.replaceOperateForm.reason,admin:this.replaceOperateForm.newOperator});case 2:t=e.sent,r=t.code,n=t.message,1e4===r&&(this.$message.success(n),this.replaceOperateShow=!1,this.getHelper(this.assistantSearch));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setOperator:function(e){this.rowInfo=e,"/"===e.operator?this.operateShow=!0:(this.replaceOperateForm.oldOperator=e.operator,this.replaceOperateShow=!0)}}},c=s,u=(r("fc15"),r("2877")),l=Object(u["a"])(c,n,a,!1,null,"320db93f",null);t["default"]=l.exports},fc15:function(e,t,r){"use strict";var n=r("6ab0"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-004de6dc.eaae4ca1.js.map